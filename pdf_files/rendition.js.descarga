/*! For license information please see rendition.js.LICENSE.txt */
(()=>{var r,f,y={"2pFd":r=>{"use strict";r.exports=window.adobe_dc_sdk["dc-core"]},"4DGF":(r,f,y)=>{"use strict";y.d(f,{UP:()=>isEdge,_7:()=>isIOS1803,lT:()=>isIE,rZ:()=>isSafari1803});const isEdge=()=>/Edge/.test(navigator.userAgent),isIE=()=>!!document.documentMode,isSafari1803=()=>{const r=navigator.userAgent,f=/Safari/.test(r)&&!/(Chrome|Chromium|Edg)/.test(r),y=r.match(/Version\/(\d+)\.(\d+)/);if(f&&y){const r=parseInt(y[1],10),f=parseInt(y[2],10);return 18===r&&f>=0&&f<=3}return!1},isIOS1803=()=>{const r=navigator.userAgent,f=/iPhone|iPad|iPod/.test(r),y=r.match(/OS (\d+)_(\d+)/);if(f&&y){const r=parseInt(y[1],10),f=parseInt(y[2],10);return 18===r&&f>=0&&f<=3}return!1}},"4eby":(r,f,y)=>{"use strict";y.d(f,{A:()=>F});const S={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let R;const D=new Uint8Array(16);const k=[];for(let r=0;r<256;++r)k.push((r+256).toString(16).slice(1));function unsafeStringify(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(k[r[f+0]]+k[r[f+1]]+k[r[f+2]]+k[r[f+3]]+"-"+k[r[f+4]]+k[r[f+5]]+"-"+k[r[f+6]]+k[r[f+7]]+"-"+k[r[f+8]]+k[r[f+9]]+"-"+k[r[f+10]]+k[r[f+11]]+k[r[f+12]]+k[r[f+13]]+k[r[f+14]]+k[r[f+15]]).toLowerCase()}const F=function v4(r,f,y){var k,F,M,ie;if(S.randomUUID&&!f&&!r)return S.randomUUID();const ne=null!==(k=null!==(F=(r=r||{}).random)&&void 0!==F?F:null===(M=(ie=r).rng)||void 0===M?void 0:M.call(ie))&&void 0!==k?k:function rng(){if(!R){if("undefined"==typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");R=crypto.getRandomValues.bind(crypto)}return R(D)}();if(ne.length<16)throw new Error("Random bytes length must be >= 16");if(ne[6]=15&ne[6]|64,ne[8]=63&ne[8]|128,f){if((y=y||0)<0||y+16>f.length)throw new RangeError(`UUID byte range ${y}:${y+15} is out of buffer bounds`);for(let r=0;r<16;++r)f[y+r]=ne[r];return f}return unsafeStringify(ne)}},"6Wbc":(r,f,y)=>{"use strict";y.d(f,{Sr:()=>M,Tq:()=>S,UB:()=>k,Un:()=>ie,bE:()=>D,ht:()=>R,iC:()=>F});const S=5,R=Object.freeze({CACHED:0,ACTIVE:1,IDLE:2}),D=new Set([]),k=new Set(["organizeWillBegin","insertPages","insertBlankPage","deletePages","reorderPages","rotatePages","extractPages","organizeDidEnd"]),F=new Set(["isScannedDocument","detectLanguage","getAnnots","extractPageText","detectSignFields","getDecryptedBuffer"]),M=Object.freeze({INVALID_INTENT:"Intent Is Invalid",FETCH_TOKEN_FAILURE:"Fetch Token Failure",UNKNOWN_ERROR:"Unknown Error"}),ie=10},"6mnL":(r,f,y)=>{"use strict";y.d(f,{A:()=>SecurityHandler});var S=y("sR8A");class SecurityHandler extends S.AcrobatJSSecurityHandler{constructor(r){super(),r.fetchPasswordCallback&&(this.fetchPassword=r.fetchPasswordCallback)}}},GNuk:(r,f,y)=>{"use strict";y.d(f,{v:()=>getQueryParams});const getQueryParams=r=>{const f={};let y,S;const R=(r||window.location.search).substr(1).split("&");if(""!==R)for(y=0;y<R.length;y+=1)S=R[y].split("="),2===S.length&&(f[S[0]]=decodeURIComponent(S[1].replace(/\+/g," ")));return f}},GTUu:(r,f,y)=>{"use strict";y.d(f,{ES:()=>preloadAsset,cb:()=>delay,mg:()=>cloneDeep,nZ:()=>canDoOrganize,pq:()=>shouldUseWasmParts,qT:()=>getVariablesFromQueryParams});var S=y("6Wbc");const cloneDeep=r=>JSON.parse(JSON.stringify(r)),delay=async r=>new Promise(f=>setTimeout(f,r)),getVariablesFromQueryParams=r=>{const f={useDCAPI:{transform:r=>"false"!==r},enableAJSLogging:{transform:r=>"true"===r},useAJSFullBuild:{transform:r=>"true"===r},useAJSLiteBuild:{transform:r=>"true"===r},useProgressiveRendering:{transform:r=>"true"===r},ajsExceptionSupport:{transform:r=>r},ajsSplitWasm:{transform:r=>"true"===r}},y={};return Object.keys(f).forEach(S=>{S in r&&(y[S]=f[S].transform(r[S]))}),y},canDoOrganize=async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={isSupported:!0,reason:{}},{isXFA:y,isPortfolio:R,isEncrypted:D,permissions:k,hasDigitalSignatures:F,hasAcroFormDict:M,hasSignMetadata:ie,hasAcroFormFields:ne}=r;if(y||R||D||F||M){const r=1===((r,f)=>r>>>f&1)(k,S.Un);f.isSupported=!1,y&&(f.reason.isXFA=!0),R&&(f.reason.isPortfolio=!0),D&&(f.reason.isEncrypted=!0,f.reason.isDocumentAssemblyAllowed=r),F&&(f.reason.hasDigitalSignatures=!0,f.reason.isDocumentAssemblyAllowed=r),M&&(f.reason.hasAcroFormDict=!0),ie&&(f.reason.hasSignMetadata=!0),ne&&(f.reason.hasAcroFormFields=!0)}return f},preloadAsset=function(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"script";if(document.head.querySelector(`link[href="${r}"][rel="preload"]`))return;const y=document.createElement("link");y.href=r,y.as=f,y.rel="preload",document.head.appendChild(y)},shouldUseWasmParts=()=>{var r,f,y,S;return!(null===(r=window)||void 0===r||null===(f=r.adobe_dc_data)||void 0===f||null===(y=f.data)||void 0===y||null===(S=y.file)||void 0===S||!S.shouldUseWasmParts)}},IM6f:(r,f)=>{"use strict";function withResolvers(){return this.promise=new Promise((r,f)=>{this.resolve=r,this.reject=f}),this}Object.defineProperty(f,"__esModule",{value:!0}),f.default=void 0,f.polyfillPromise=function polyfillPromise(){Promise.withResolvers||(Promise.withResolvers=Deferred.withResolvers)};class Deferred{constructor(){withResolvers.call(this)}}Deferred.withResolvers=function resolvers(){return withResolvers.call({})};f.default=Deferred},Kq49:(r,f,y)=>{"use strict";y.d(f,{A:()=>AcrobatJSInstanceHandler});var S=y("4eby"),R=y("sR8A"),D=y("plsW"),k=y("ibkQ"),F=y("RbXz");class DoublyLinkedNode{constructor(r){this._value=r,this._previousNode=null,this._nextNode=null}get value(){return this._value}get previousNode(){return this._previousNode}set previousNode(r){this._previousNode=r}get nextNode(){return this._nextNode}set nextNode(r){this._nextNode=r}unlink(){this._previousNode=null,this._nextNode=null}}class DoublyLinkedList{constructor(){this._headNode=null,this._tailNode=null,this._countNodes=0}get headNode(){return this._headNode}get tailNode(){return this._tailNode}nodeCount(){return this._countNodes}append(r){r instanceof DoublyLinkedNode&&(0===this._countNodes?(this._headNode=r,this._tailNode=r):(this._tailNode.nextNode=r,r.previousNode=this._tailNode,this._tailNode=r),this._countNodes+=1)}moveToFront(r){r instanceof DoublyLinkedNode&&this._headNode!==r&&this.remove(r)&&(r.nextNode=this._headNode,this._headNode.previousNode=r,this._headNode=r,this._countNodes+=1)}remove(r){if(!(r instanceof DoublyLinkedNode))return null;if(1===this._countNodes&&this._headNode===r)this._tailNode=null,this._headNode=null;else if(r===this._headNode)this._headNode=this._headNode.nextNode,this._headNode.previousNode=null;else if(r===this._tailNode)this._tailNode=this._tailNode.previousNode,this._tailNode.nextNode=null;else{if(!r.nextNode||!r.previousNode)return null;r.previousNode.nextNode=r.nextNode,r.nextNode.previousNode=r.previousNode}return r.unlink(),this._countNodes-=1,r}front(){return this.isEmpty()?null:this.remove(this._headNode)}isEmpty(){return null===this._headNode}}class AwaitQueue{constructor(){this.addResourceRequest=()=>new Promise(r=>{this._awaitQueue.append(new DoublyLinkedNode(()=>{r()}))}),this.hasPendingRequest=()=>!this._awaitQueue.isEmpty(),this.executeRequest=()=>{if(this.hasPendingRequest()){(0,this._awaitQueue.front().value)()}},this._awaitQueue=new DoublyLinkedList}}var M=y("6Wbc"),ie=y("NHKb");class AcrobatJSInstanceNode{constructor(r){this._state=M.ht.ACTIVE,this._ajsInstance=r,this._ajsInstanceParameters=null,this._editPluginLoaded=!1}get ajsInstance(){return this._ajsInstance}get state(){return this._state}set state(r){this._state=r}get ajsInstanceParameters(){return this._ajsInstanceParameters}set ajsInstanceParameters(r){this._ajsInstanceParameters=r}get editPluginLoaded(){return this._editPluginLoaded}set editPluginLoaded(r){this._editPluginLoaded=r}deactivate(){this._state!==M.ht.CACHED&&(this._ajsInstance.terminate(),this._ajsInstance=null,this._state=M.ht.CACHED)}terminate(){this._ajsInstanceParameters=null,this.deactivate()}}class AcrobatJSInstanceHandler{constructor(r){this.has=r=>this._activeNodeMap.has(r)||this._inactiveNodeMap.has(r),this.activeAcrobatJSInstanceCount=()=>this._activeNodeMap.size,this.isFull=()=>this.activeAcrobatJSInstanceCount()>=this._maxActiveAJSinstanceLimit||this._instanceCreationRequestCount>=this._maxActiveAJSinstanceLimit,this.checkInstanceState=(r,f)=>{if(this.has(r)){return this._getAcrobatJSInstanceNode(r).state===f}return!1},this._getAcrobatJSInstanceNode=r=>this.has(r)?this._activeNodeMap.get(r)||this._inactiveNodeMap.get(r):null,this.getAcrobatJSInstance=r=>{if(this._activeNodeMap.has(r)){const f=this._getAcrobatJSInstanceNode(r);return f.state=M.ht.ACTIVE,f.ajsInstance}return null},this.getAcrobatJSInstanceParameters=r=>{var f;return null===(f=this._getAcrobatJSInstanceNode(r))||void 0===f?void 0:f.ajsInstanceParameters},this._add=(r,f)=>{this.checkInstanceState(r,M.ht.CACHED)&&this.erase(r),this._activeNodeMap.set(r,new AcrobatJSInstanceNode(f)),this._activeNodeMap.size>this._maxActiveAJSinstanceLimit&&(0,k.$s)("Active AcrobatJS instance count exceeds limit")},this.setOpenPDFParameters=(r,f)=>{if(this.has(r)){const y=this._getAcrobatJSInstanceNode(r);y.ajsInstanceParameters={...y.ajsInstanceParameters,openPdfParams:f}}},this._evictAjsInstance=r=>{if(this._getAcrobatJSInstanceNode(r).editPluginLoaded||this.checkInstanceState(r,M.ht.CACHED))return!1;const f=this._getAcrobatJSInstanceNode(r);return this._inactiveNodeMap.set(r,f),this._activeNodeMap.delete(r),f.deactivate(),!0},this.erase=r=>{const f=this._getAcrobatJSInstanceNode(r);f&&(this.checkInstanceState(r,M.ht.CACHED)?this._inactiveNodeMap.delete(r):this._activeNodeMap.delete(r),f.terminate()),this.isFull()||this._workerAwaitQueue.executeRequest(),this._activeNodeMap.size||this._inactiveNodeMap.size||(this._filesOpened=0,this._instancesCreated=0)},this._enableAJSLogging=r.enableAJSLogging,this._useAJSFullBuild=r.useAJSFullBuild,this._useAJSLiteBuild=r.useAJSLiteBuild,this._exposedAPIs=r.exposedAPIs,this._instanceCreationRequestCount=0,this._activeNodeMap=new Map,this._inactiveNodeMap=new Map,this._workerAwaitQueue=new AwaitQueue,this._filesOpened=0,this._instancesCreated=0,this._maxActiveAJSinstanceLimit=r.maxActiveAJSinstanceLimit||M.Tq}setEditPluginLoaded(r,f){this.has(r)&&(this._getAcrobatJSInstanceNode(r).editPluginLoaded=f)}_onAjsEventForProvider(r,f){if("workerIdle"===f){if(this._getAcrobatJSInstanceNode(r).editPluginLoaded)return;this._getAcrobatJSInstanceNode(r).state=M.ht.IDLE,this._workerAwaitQueue.hasPendingRequest()&&this._evictAjsInstance(r)&&this._workerAwaitQueue.executeRequest()}}_ajsInit(r,f,y){var S=this;return r.subscribe(function(){for(var r=arguments.length,y=new Array(r),R=0;R<r;R++)y[R]=arguments[R];return S._onAjsEventForProvider(f,...y)}),y&&r.subscribe(y),r.init()}_tryEvictingAnIdleInstance(){return Array.from(this._activeNodeMap).some(r=>{let[f,y]=r;return!(y.state!==M.ht.IDLE||!this._evictAjsInstance(f))})}async _getAcrobatJSWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={ajsPath:(0,F.Ey)(),apiTrackingInfo:{enabled:!0,trackList:this._exposedAPIs},enableLogging:this._enableAJSLogging,useFullBuild:this._useAJSFullBuild,useLiteBuild:this._useAJSLiteBuild,hostEnv:D.envUtil.getHostEnv(),enableWasmExceptions:(0,ie.b)(),...r};return new R.AcrobatJS({...f})}async createAcrobatJSInstance(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1?arguments[1]:void 0;this.isFull()&&!this._tryEvictingAnIdleInstance()&&(r.forceEvict?Array.from(this._activeNodeMap).some(r=>{let[f]=r;return this._evictAjsInstance(f)}):await this._workerAwaitQueue.addResourceRequest()),this._instanceCreationRequestCount+=1;const{openPdfParams:y,ajsInstanceParams:R}=r,D=f||(0,S.A)(),F=await this._getAcrobatJSWorker(r.ajsConfig);if(this._add(D,F),this._instanceCreationRequestCount-=1,this._instancesCreated+=1,!f){this._filesOpened+=1;this._getAcrobatJSInstanceNode(D).ajsInstanceParameters={openPdfParams:y,ajsInstanceParams:R}}return this._ajsInit(F,D,r.onAjsEvent).then(()=>D).catch(r=>((0,k.$s)("AcrobatJS instance init error: ",r),this.erase(D),Promise.reject(r)))}}},NHKb:(r,f,y)=>{"use strict";y.d(f,{O:()=>preloadSecondaryWasm,b:()=>shouldEnableWasmExceptions});const S=JSON.parse('{"Ad":"wasm_acrobat_we.e1fee512d066d92baf0a757c308fe775.deferred.wasm"}');var R=y("GNuk"),D=y("GTUu"),k=y("RbXz"),F=y("ibkQ"),M=y("4DGF");const shouldEnableWasmExceptions=()=>{const r=(0,R.v)(),f=(0,D.qT)(r);let y=!0;return WebAssembly&&WebAssembly.Exception?f.ajsExceptionSupport&&(y="wasm"===f.ajsExceptionSupport):y=!1,((0,M.rZ)()||(0,M._7)())&&(y=!1),(0,F.SZ)({enableWasmExceptions:y}),y},preloadSecondaryWasm=()=>{const r=S.Ad,f=`${(0,k.Ey)()}build/${r}`;(0,D.ES)(f,"fetch")}},RbXz:(r,f,y)=>{"use strict";y.d(f,{Ey:()=>getAjsPath,Yo:()=>getOriginFromUrl,ip:()=>getScriptSrc});var S=y("zSZc");const getOriginFromUrl=r=>{const f=document.createElement("a");return f.href=r,`${f.protocol}//${f.hostname}${f.port?`:${f.port}`:""}`},getScriptSrc=r=>{const f=[...document.scripts].find(f=>-1!==f.src.indexOf(r));return null==f?void 0:f.src},getAjsPath=()=>{const r=getScriptSrc(S.P4),f=/\/(\d+\.\d+\.\d+(?:-[0-9A-Za-z.-]+)?(?:_[0-9A-Za-z.-]+)?)\/rendition\.js$/.exec(r);let y=r;return y=f?`${r.substring(0,f.index+1)}AJS/`:r?`${r.replace(S.P4,"")}AJS/`:"",y}},UtFC:(r,f,y)=>{"use strict";f.Q=function getSingletonFunction(r,f,y){const D=new S.default;return function getInstance(){for(var S=arguments.length,k=new Array(S),F=0;F<S;F++)k[F]=arguments[F];return D.result||f&&!k.length||(D.result=new r(...k),D.result.ready().then(r=>D.resolve(r),r=>{if(!y||k&&k[0]&&!1===k[0].neverReject)return D.reject(r);!function logWarning(r,f){if(console.warn(r,f),!R&&window.adobe_dc_sdk&&window.adobe_dc_sdk["dc-core"]&&window.adobe_dc_sdk.aliases){const r=window.adobe_dc_sdk["dc-core"](window.adobe_dc_sdk.aliases["dc-core"]).logging;r&&(R=r.getLogger("ProviderUtil"))}R&&R.warn(r,f)}("Non-rejected Promise silently caught",r)})),D.promise}};var S=function _interopRequireDefault(r){return r&&r.__esModule?r:{default:r}}(y("IM6f"));let R},ibkQ:(r,f,y)=>{"use strict";y.d(f,{$s:()=>logEvent,SZ:()=>addFieldsToCommonLogging,TU:()=>setDocumentId});const S=y("plsW").logging.getLogger("dc-rendition-provider");let R=!1;const D=document.querySelectorAll("meta[name^=adobe_external]");D&&(R=!D[0]||!D[0].content);let k="",F={sessionId:window.dcWebSessionId,userAgent:navigator.userAgent,isAdobeNetworkUser:R};function setDocumentId(r){k=r}function addFieldsToCommonLogging(r){F={...F,...r}}const logEvent=(r,f)=>{S.emit(r,{...f,...F,docSessionId:window.docSessionId,documentId:k})}},plsW:(r,f,y)=>{r.exports=y("2pFd")("o4sN")},sR8A:r=>{(()=>{var f,y,S={7232:function(r,f,y){var S;!function(R,D){"use strict";var k="function",F="undefined",M="object",ie="string",ne="model",ae="name",le="type",be="vendor",ve="version",we="architecture",Pe="console",Ae="mobile",Se="tablet",Re="smarttv",Ce="wearable",De="embedded",Te="Amazon",ke="Apple",je="ASUS",Ee="BlackBerry",Ne="Browser",Fe="Chrome",Oe="Firefox",xe="Google",Me="Huawei",Ue="LG",We="Microsoft",He="Motorola",qe="Opera",ze="Samsung",Ge="Sharp",Je="Sony",Ve="Xiaomi",Ke="Zebra",$e="Facebook",U=function(r){for(var f={},y=0;y<r.length;y++)f[r[y].toUpperCase()]=r[y];return f},H=function(r,f){return typeof r===ie&&-1!==V(f).indexOf(V(r))},V=function(r){return r.toLowerCase()},z=function(r,f){if(typeof r===ie)return r=r.replace(/^\s\s*/,""),typeof f===F?r:r.substring(0,350)},q=function(r,f){for(var y,S,R,F,ie,ne,ae=0;ae<f.length&&!ie;){var le=f[ae],be=f[ae+1];for(y=S=0;y<le.length&&!ie;)if(ie=le[y++].exec(r))for(R=0;R<be.length;R++)ne=ie[++S],typeof(F=be[R])===M&&F.length>0?2===F.length?typeof F[1]==k?this[F[0]]=F[1].call(this,ne):this[F[0]]=F[1]:3===F.length?typeof F[1]!==k||F[1].exec&&F[1].test?this[F[0]]=ne?ne.replace(F[1],F[2]):D:this[F[0]]=ne?F[1].call(this,ne,F[2]):D:4===F.length&&(this[F[0]]=ne?F[3].call(this,ne.replace(F[1],F[2])):D):this[F]=ne||D;ae+=2}},G=function(r,f){for(var y in f)if(typeof f[y]===M&&f[y].length>0){for(var S=0;S<f[y].length;S++)if(H(f[y][S],r))return"?"===y?D:y}else if(H(f[y],r))return"?"===y?D:y;return r},Ze={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Qe={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[ve,[ae,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[ve,[ae,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[ae,ve],[/opios[\/ ]+([\w\.]+)/i],[ve,[ae,qe+" Mini"]],[/\bopr\/([\w\.]+)/i],[ve,[ae,qe]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[ae,ve],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[ve,[ae,"UC"+Ne]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[ve,[ae,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[ve,[ae,"WeChat"]],[/konqueror\/([\w\.]+)/i],[ve,[ae,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[ve,[ae,"IE"]],[/yabrowser\/([\w\.]+)/i],[ve,[ae,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[ae,/(.+)/,"$1 Secure "+Ne],ve],[/\bfocus\/([\w\.]+)/i],[ve,[ae,Oe+" Focus"]],[/\bopt\/([\w\.]+)/i],[ve,[ae,qe+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[ve,[ae,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[ve,[ae,"Dolphin"]],[/coast\/([\w\.]+)/i],[ve,[ae,qe+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[ve,[ae,"MIUI "+Ne]],[/fxios\/([-\w\.]+)/i],[ve,[ae,Oe]],[/\bqihu|(qi?ho?o?|360)browser/i],[[ae,"360 "+Ne]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[ae,/(.+)/,"$1 "+Ne],ve],[/(comodo_dragon)\/([\w\.]+)/i],[[ae,/_/g," "],ve],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[ae,ve],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[ae],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[ae,$e],ve],[/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[ae,ve],[/\bgsa\/([\w\.]+) .*safari\//i],[ve,[ae,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[ve,[ae,Fe+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[ae,Fe+" WebView"],ve],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[ve,[ae,"Android "+Ne]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[ae,ve],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[ve,[ae,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[ve,ae],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[ae,[ve,G,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[ae,ve],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[ae,"Netscape"],ve],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[ve,[ae,Oe+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i],[ae,ve],[/(cobalt)\/([\w\.]+)/i],[ae,[ve,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[we,"amd64"]],[/(ia32(?=;))/i],[[we,V]],[/((?:i[346]|x)86)[;\)]/i],[[we,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[we,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[we,"armhf"]],[/windows (ce|mobile); ppc;/i],[[we,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[we,/ower/,"",V]],[/(sun4\w)[;\)]/i],[[we,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[we,V]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[ne,[be,ze],[le,Se]],[/\b((?:s[cgp]h|gt|sm)-\w+|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[ne,[be,ze],[le,Ae]],[/\((ip(?:hone|od)[\w ]*);/i],[ne,[be,ke],[le,Ae]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[ne,[be,ke],[le,Se]],[/(macintosh);/i],[ne,[be,ke]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[ne,[be,Me],[le,Se]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[ne,[be,Me],[le,Ae]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[ne,/_/g," "],[be,Ve],[le,Ae]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[ne,/_/g," "],[be,Ve],[le,Se]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[ne,[be,"OPPO"],[le,Ae]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[ne,[be,"Vivo"],[le,Ae]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[ne,[be,"Realme"],[le,Ae]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[ne,[be,He],[le,Ae]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[ne,[be,He],[le,Se]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[ne,[be,Ue],[le,Se]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[ne,[be,Ue],[le,Ae]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[ne,[be,"Lenovo"],[le,Se]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[ne,/_/g," "],[be,"Nokia"],[le,Ae]],[/(pixel c)\b/i],[ne,[be,xe],[le,Se]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[ne,[be,xe],[le,Ae]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[ne,[be,Je],[le,Ae]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[ne,"Xperia Tablet"],[be,Je],[le,Se]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[ne,[be,"OnePlus"],[le,Ae]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[ne,[be,Te],[le,Se]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[ne,/(.+)/g,"Fire Phone $1"],[be,Te],[le,Ae]],[/(playbook);[-\w\),; ]+(rim)/i],[ne,be,[le,Se]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[ne,[be,Ee],[le,Ae]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[ne,[be,je],[le,Se]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[ne,[be,je],[le,Ae]],[/(nexus 9)/i],[ne,[be,"HTC"],[le,Se]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic|sony(?!-bra))[-_ ]?([-\w]*)/i],[be,[ne,/_/g," "],[le,Ae]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[ne,[be,"Acer"],[le,Se]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[ne,[be,"Meizu"],[le,Ae]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[ne,[be,Ge],[le,Ae]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[be,ne,[le,Ae]],[/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[be,ne,[le,Se]],[/(surface duo)/i],[ne,[be,We],[le,Se]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[ne,[be,"Fairphone"],[le,Ae]],[/(u304aa)/i],[ne,[be,"AT&T"],[le,Ae]],[/\bsie-(\w*)/i],[ne,[be,"Siemens"],[le,Ae]],[/\b(rct\w+) b/i],[ne,[be,"RCA"],[le,Se]],[/\b(venue[\d ]{2,7}) b/i],[ne,[be,"Dell"],[le,Se]],[/\b(q(?:mv|ta)\w+) b/i],[ne,[be,"Verizon"],[le,Se]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[ne,[be,"Barnes & Noble"],[le,Se]],[/\b(tm\d{3}\w+) b/i],[ne,[be,"NuVision"],[le,Se]],[/\b(k88) b/i],[ne,[be,"ZTE"],[le,Se]],[/\b(nx\d{3}j) b/i],[ne,[be,"ZTE"],[le,Ae]],[/\b(gen\d{3}) b.+49h/i],[ne,[be,"Swiss"],[le,Ae]],[/\b(zur\d{3}) b/i],[ne,[be,"Swiss"],[le,Se]],[/\b((zeki)?tb.*\b) b/i],[ne,[be,"Zeki"],[le,Se]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[be,"Dragon Touch"],ne,[le,Se]],[/\b(ns-?\w{0,9}) b/i],[ne,[be,"Insignia"],[le,Se]],[/\b((nxa|next)-?\w{0,9}) b/i],[ne,[be,"NextBook"],[le,Se]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[be,"Voice"],ne,[le,Ae]],[/\b(lvtel\-)?(v1[12]) b/i],[[be,"LvTel"],ne,[le,Ae]],[/\b(ph-1) /i],[ne,[be,"Essential"],[le,Ae]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[ne,[be,"Envizen"],[le,Se]],[/\b(trio[-\w\. ]+) b/i],[ne,[be,"MachSpeed"],[le,Se]],[/\btu_(1491) b/i],[ne,[be,"Rotor"],[le,Se]],[/(shield[\w ]+) b/i],[ne,[be,"Nvidia"],[le,Se]],[/(sprint) (\w+)/i],[be,ne,[le,Ae]],[/(kin\.[onetw]{3})/i],[[ne,/\./g," "],[be,We],[le,Ae]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[ne,[be,Ke],[le,Se]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[ne,[be,Ke],[le,Ae]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[be,ne,[le,Pe]],[/droid.+; (shield) bui/i],[ne,[be,"Nvidia"],[le,Pe]],[/(playstation [345portablevi]+)/i],[ne,[be,Je],[le,Pe]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[ne,[be,We],[le,Pe]],[/smart-tv.+(samsung)/i],[be,[le,Re]],[/hbbtv.+maple;(\d+)/i],[[ne,/^/,"SmartTV"],[be,ze],[le,Re]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[be,Ue],[le,Re]],[/(apple) ?tv/i],[be,[ne,ke+" TV"],[le,Re]],[/crkey/i],[[ne,Fe+"cast"],[be,xe],[le,Re]],[/droid.+aft(\w)( bui|\))/i],[ne,[be,Te],[le,Re]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[ne,[be,Ge],[le,Re]],[/(bravia[\w ]+)( bui|\))/i],[ne,[be,Je],[le,Re]],[/(mitv-\w{5}) bui/i],[ne,[be,Ve],[le,Re]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w ]*; *(\w[^;]*);([^;]*)/i],[[be,z],[ne,z],[le,Re]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[le,Re]],[/((pebble))app/i],[be,ne,[le,Ce]],[/droid.+; (glass) \d/i],[ne,[be,xe],[le,Ce]],[/droid.+; (wt63?0{2,3})\)/i],[ne,[be,Ke],[le,Ce]],[/(quest( 2)?)/i],[ne,[be,$e],[le,Ce]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[be,[le,De]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[ne,[le,Ae]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[ne,[le,Se]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[le,Se]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[le,Ae]],[/(android[-\w\. ]{0,9});.+buil/i],[ne,[be,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[ve,[ae,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[ve,[ae,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[ae,ve],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[ve,ae]],os:[[/microsoft (windows) (vista|xp)/i],[ae,ve],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[ae,[ve,G,Ze]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[ae,"Windows"],[ve,G,Ze]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[ve,/_/g,"."],[ae,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[ae,"Mac OS"],[ve,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[ve,ae],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[ae,ve],[/\(bb(10);/i],[ve,[ae,Ee]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[ve,[ae,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[ve,[ae,Oe+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[ve,[ae,"webOS"]],[/crkey\/([\d\.]+)/i],[ve,[ae,Fe+"cast"]],[/(cros) [\w]+ ([\w\.]+\w)/i],[[ae,"Chromium OS"],ve],[/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[ae,ve],[/(sunos) ?([\w\.\d]*)/i],[[ae,"Solaris"],ve],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[ae,ve]]},X=function(r,f){if(typeof r===M&&(f=r,r=D),!(this instanceof X))return new X(r,f).getResult();var y=r||(typeof R!==F&&R.navigator&&R.navigator.userAgent?R.navigator.userAgent:""),S=f?function(r,f){var y={};for(var S in r)f[S]&&f[S].length%2==0?y[S]=f[S].concat(r[S]):y[S]=r[S];return y}(Qe,f):Qe;return this.getBrowser=function(){var r,f={};return f[ae]=D,f[ve]=D,q.call(f,y,S.browser),f.major=typeof(r=f.version)===ie?r.replace(/[^\d\.]/g,"").split(".")[0]:D,f},this.getCPU=function(){var r={};return r[we]=D,q.call(r,y,S.cpu),r},this.getDevice=function(){var r={};return r[be]=D,r[ne]=D,r[le]=D,q.call(r,y,S.device),r},this.getEngine=function(){var r={};return r[ae]=D,r[ve]=D,q.call(r,y,S.engine),r},this.getOS=function(){var r={};return r[ae]=D,r[ve]=D,q.call(r,y,S.os),r},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return y},this.setUA=function(r){return y=typeof r===ie&&r.length>350?z(r,350):r,this},this.setUA(y),this};X.VERSION="1.0.33",X.BROWSER=U([ae,ve,"major"]),X.CPU=U([we]),X.DEVICE=U([ne,be,le,Pe,Ae,Re,Se,Ce,De]),X.ENGINE=X.OS=U([ae,ve]),typeof f!==F?(r.exports&&(f=r.exports=X),f.UAParser=X):y.amdO?(S=function(){return X}.call(f,y,f,r))===D||(r.exports=S):typeof R!==F&&(R.UAParser=X);var Xe=typeof R!==F&&(R.jQuery||R.Zepto);if(Xe&&!Xe.ua){var Ye=new X;Xe.ua=Ye.getResult(),Xe.ua.get=function(){return Ye.getUA()},Xe.ua.set=function(r){Ye.setUA(r);var f=Ye.getResult();for(var y in f)Xe.ua[y]=f[y]}}}("object"==typeof window?window:this)},9306:(r,f,y)=>{"use strict";var S=y(4901),R=y(6823),D=TypeError;r.exports=function(r){if(S(r))return r;throw new D(R(r)+" is not a function")}},5548:(r,f,y)=>{"use strict";var S=y(3517),R=y(6823),D=TypeError;r.exports=function(r){if(S(r))return r;throw new D(R(r)+" is not a constructor")}},3506:(r,f,y)=>{"use strict";var S=y(3925),R=String,D=TypeError;r.exports=function(r){if(S(r))return r;throw new D("Can't set "+R(r)+" as a prototype")}},6469:(r,f,y)=>{"use strict";var S=y(8227),R=y(2360),D=y(4913).f,k=S("unscopables"),F=Array.prototype;void 0===F[k]&&D(F,k,{configurable:!0,value:R(null)}),r.exports=function(r){F[k][r]=!0}},7829:(r,f,y)=>{"use strict";var S=y(8183).charAt;r.exports=function(r,f,y){return f+(y?S(r,f).length:1)}},679:(r,f,y)=>{"use strict";var S=y(1625),R=TypeError;r.exports=function(r,f){if(S(f,r))return r;throw new R("Incorrect invocation")}},8551:(r,f,y)=>{"use strict";var S=y(34),R=String,D=TypeError;r.exports=function(r){if(S(r))return r;throw new D(R(r)+" is not an object")}},7811:r=>{"use strict";r.exports="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView},4644:(r,f,y)=>{"use strict";var S,R,D,k=y(7811),F=y(3724),M=y(4576),ie=y(4901),ne=y(34),ae=y(9297),le=y(6955),be=y(6823),ve=y(6699),we=y(6840),Pe=y(2106),Ae=y(1625),Se=y(2787),Re=y(2967),Ce=y(8227),De=y(3392),Te=y(1181),ke=Te.enforce,je=Te.get,Ee=M.Int8Array,Ne=Ee&&Ee.prototype,Fe=M.Uint8ClampedArray,Oe=Fe&&Fe.prototype,xe=Ee&&Se(Ee),Me=Ne&&Se(Ne),Ue=Object.prototype,We=M.TypeError,He=Ce("toStringTag"),qe=De("TYPED_ARRAY_TAG"),ze="TypedArrayConstructor",Ge=k&&!!Re&&"Opera"!==le(M.opera),Je=!1,Ve={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},Ke={BigInt64Array:8,BigUint64Array:8},B=function(r){var f=Se(r);if(ne(f)){var y=je(f);return y&&ae(y,ze)?y[ze]:B(f)}},U=function(r){if(!ne(r))return!1;var f=le(r);return ae(Ve,f)||ae(Ke,f)};for(S in Ve)(D=(R=M[S])&&R.prototype)?ke(D)[ze]=R:Ge=!1;for(S in Ke)(D=(R=M[S])&&R.prototype)&&(ke(D)[ze]=R);if((!Ge||!ie(xe)||xe===Function.prototype)&&(xe=function(){throw new We("Incorrect invocation")},Ge))for(S in Ve)M[S]&&Re(M[S],xe);if((!Ge||!Me||Me===Ue)&&(Me=xe.prototype,Ge))for(S in Ve)M[S]&&Re(M[S].prototype,Me);if(Ge&&Se(Oe)!==Me&&Re(Oe,Me),F&&!ae(Me,He))for(S in Je=!0,Pe(Me,He,{configurable:!0,get:function(){return ne(this)?this[qe]:void 0}}),Ve)M[S]&&ve(M[S],qe,S);r.exports={NATIVE_ARRAY_BUFFER_VIEWS:Ge,TYPED_ARRAY_TAG:Je&&qe,aTypedArray:function(r){if(U(r))return r;throw new We("Target is not a typed array")},aTypedArrayConstructor:function(r){if(ie(r)&&(!Re||Ae(xe,r)))return r;throw new We(be(r)+" is not a typed array constructor")},exportTypedArrayMethod:function(r,f,y,S){if(F){if(y)for(var R in Ve){var D=M[R];if(D&&ae(D.prototype,r))try{delete D.prototype[r]}catch(y){try{D.prototype[r]=f}catch(r){}}}Me[r]&&!y||we(Me,r,y?f:Ge&&Ne[r]||f,S)}},exportTypedArrayStaticMethod:function(r,f,y){var S,R;if(F){if(Re){if(y)for(S in Ve)if((R=M[S])&&ae(R,r))try{delete R[r]}catch(r){}if(xe[r]&&!y)return;try{return we(xe,r,y?f:Ge&&xe[r]||f)}catch(r){}}for(S in Ve)!(R=M[S])||R[r]&&!y||we(R,r,f)}},getTypedArrayConstructor:B,isView:function(r){if(!ne(r))return!1;var f=le(r);return"DataView"===f||ae(Ve,f)||ae(Ke,f)},isTypedArray:U,TypedArray:xe,TypedArrayPrototype:Me}},6346:(r,f,y)=>{"use strict";var S=y(4576),R=y(9504),D=y(3724),k=y(7811),F=y(350),M=y(6699),ie=y(2106),ne=y(6279),ae=y(9039),le=y(679),be=y(1291),ve=y(8014),we=y(7696),Pe=y(5617),Ae=y(8490),Se=y(2787),Re=y(2967),Ce=y(4373),De=y(7680),Te=y(3167),ke=y(7740),je=y(687),Ee=y(1181),Ne=F.PROPER,Fe=F.CONFIGURABLE,Oe="ArrayBuffer",xe="DataView",Me="prototype",Ue="Wrong index",We=Ee.getterFor(Oe),He=Ee.getterFor(xe),qe=Ee.set,ze=S[Oe],Ge=ze,Je=Ge&&Ge[Me],Ve=S[xe],Ke=Ve&&Ve[Me],$e=Object.prototype,Ze=S.Array,Qe=S.RangeError,Xe=R(Ce),Ye=R([].reverse),et=Ae.pack,tt=Ae.unpack,K=function(r){return[255&r]},J=function(r){return[255&r,r>>8&255]},X=function(r){return[255&r,r>>8&255,r>>16&255,r>>24&255]},Y=function(r){return r[3]<<24|r[2]<<16|r[1]<<8|r[0]},$=function(r){return et(Pe(r),23,4)},Q=function(r){return et(r,52,8)},Z=function(r,f,y){ie(r[Me],f,{configurable:!0,get:function(){return y(this)[f]}})},ee=function(r,f,y,S){var R=He(r),D=we(y),k=!!S;if(D+f>R.byteLength)throw new Qe(Ue);var F=R.bytes,M=D+R.byteOffset,ie=De(F,M,M+f);return k?ie:Ye(ie)},te=function(r,f,y,S,R,D){var k=He(r),F=we(y),M=S(+R),ie=!!D;if(F+f>k.byteLength)throw new Qe(Ue);for(var ne=k.bytes,ae=F+k.byteOffset,le=0;le<f;le++)ne[ae+le]=M[ie?le:f-le-1]};if(k){var rt=Ne&&ze.name!==Oe;ae(function(){ze(1)})&&ae(function(){new ze(-1)})&&!ae(function(){return new ze,new ze(1.5),new ze(NaN),1!==ze.length||rt&&!Fe})?rt&&Fe&&M(ze,"name",Oe):((Ge=function(r){return le(this,Je),Te(new ze(we(r)),this,Ge)})[Me]=Je,Je.constructor=Ge,ke(Ge,ze)),Re&&Se(Ke)!==$e&&Re(Ke,$e);var it=new Ve(new Ge(2)),nt=R(Ke.setInt8);it.setInt8(0,2147483648),it.setInt8(1,2147483649),!it.getInt8(0)&&it.getInt8(1)||ne(Ke,{setInt8:function(r,f){nt(this,r,f<<24>>24)},setUint8:function(r,f){nt(this,r,f<<24>>24)}},{unsafe:!0})}else Je=(Ge=function(r){le(this,Je);var f=we(r);qe(this,{type:Oe,bytes:Xe(Ze(f),0),byteLength:f}),D||(this.byteLength=f,this.detached=!1)})[Me],Ke=(Ve=function(r,f,y){le(this,Ke),le(r,Je);var S=We(r),R=S.byteLength,k=be(f);if(k<0||k>R)throw new Qe("Wrong offset");if(k+(y=void 0===y?R-k:ve(y))>R)throw new Qe("Wrong length");qe(this,{type:xe,buffer:r,byteLength:y,byteOffset:k,bytes:S.bytes}),D||(this.buffer=r,this.byteLength=y,this.byteOffset=k)})[Me],D&&(Z(Ge,"byteLength",We),Z(Ve,"buffer",He),Z(Ve,"byteLength",He),Z(Ve,"byteOffset",He)),ne(Ke,{getInt8:function(r){return ee(this,1,r)[0]<<24>>24},getUint8:function(r){return ee(this,1,r)[0]},getInt16:function(r){var f=ee(this,2,r,arguments.length>1&&arguments[1]);return(f[1]<<8|f[0])<<16>>16},getUint16:function(r){var f=ee(this,2,r,arguments.length>1&&arguments[1]);return f[1]<<8|f[0]},getInt32:function(r){return Y(ee(this,4,r,arguments.length>1&&arguments[1]))},getUint32:function(r){return Y(ee(this,4,r,arguments.length>1&&arguments[1]))>>>0},getFloat32:function(r){return tt(ee(this,4,r,arguments.length>1&&arguments[1]),23)},getFloat64:function(r){return tt(ee(this,8,r,arguments.length>1&&arguments[1]),52)},setInt8:function(r,f){te(this,1,r,K,f)},setUint8:function(r,f){te(this,1,r,K,f)},setInt16:function(r,f){te(this,2,r,J,f,arguments.length>2&&arguments[2])},setUint16:function(r,f){te(this,2,r,J,f,arguments.length>2&&arguments[2])},setInt32:function(r,f){te(this,4,r,X,f,arguments.length>2&&arguments[2])},setUint32:function(r,f){te(this,4,r,X,f,arguments.length>2&&arguments[2])},setFloat32:function(r,f){te(this,4,r,$,f,arguments.length>2&&arguments[2])},setFloat64:function(r,f){te(this,8,r,Q,f,arguments.length>2&&arguments[2])}});je(Ge,Oe),je(Ve,xe),r.exports={ArrayBuffer:Ge,DataView:Ve}},4373:(r,f,y)=>{"use strict";var S=y(8981),R=y(5610),D=y(6198);r.exports=function(r){for(var f=S(this),y=D(f),k=arguments.length,F=R(k>1?arguments[1]:void 0,y),M=k>2?arguments[2]:void 0,ie=void 0===M?y:R(M,y);ie>F;)f[F++]=r;return f}},5370:(r,f,y)=>{"use strict";var S=y(6198);r.exports=function(r,f,y){for(var R=0,D=arguments.length>2?y:S(f),k=new r(D);D>R;)k[R]=f[R++];return k}},7916:(r,f,y)=>{"use strict";var S=y(6080),R=y(9565),D=y(8981),k=y(6319),F=y(4209),M=y(3517),ie=y(6198),ne=y(4659),ae=y(81),le=y(851),be=Array;r.exports=function(r){var f=D(r),y=M(this),ve=arguments.length,we=ve>1?arguments[1]:void 0,Pe=void 0!==we;Pe&&(we=S(we,ve>2?arguments[2]:void 0));var Ae,Se,Re,Ce,De,Te,ke=le(f),je=0;if(!ke||this===be&&F(ke))for(Ae=ie(f),Se=y?new this(Ae):be(Ae);Ae>je;je++)Te=Pe?we(f[je],je):f[je],ne(Se,je,Te);else for(Se=y?new this:[],De=(Ce=ae(f,ke)).next;!(Re=R(De,Ce)).done;je++)Te=Pe?k(Ce,we,[Re.value,je],!0):Re.value,ne(Se,je,Te);return Se.length=je,Se}},9617:(r,f,y)=>{"use strict";var S=y(5397),R=y(5610),D=y(6198),s=function(r){return function(f,y,k){var F=S(f),M=D(F);if(0===M)return!r&&-1;var ie,ne=R(k,M);if(r&&y!=y){for(;M>ne;)if((ie=F[ne++])!=ie)return!0}else for(;M>ne;ne++)if((r||ne in F)&&F[ne]===y)return r||ne||0;return!r&&-1}};r.exports={includes:s(!0),indexOf:s(!1)}},3839:(r,f,y)=>{"use strict";var S=y(6080),R=y(7055),D=y(8981),k=y(6198),o=function(r){var f=1===r;return function(y,F,M){for(var ie,ne=D(y),ae=R(ne),le=k(ae),be=S(F,M);le-- >0;)if(be(ie=ae[le],le,ne))switch(r){case 0:return ie;case 1:return le}return f?-1:void 0}};r.exports={findLast:o(0),findLastIndex:o(1)}},9213:(r,f,y)=>{"use strict";var S=y(6080),R=y(9504),D=y(7055),k=y(8981),F=y(6198),M=y(1469),ie=R([].push),l=function(r){var f=1===r,y=2===r,R=3===r,ne=4===r,ae=6===r,le=7===r,be=5===r||ae;return function(ve,we,Pe,Ae){for(var Se,Re,Ce=k(ve),De=D(Ce),Te=F(De),ke=S(we,Pe),je=0,Ee=Ae||M,Ne=f?Ee(ve,Te):y||le?Ee(ve,0):void 0;Te>je;je++)if((be||je in De)&&(Re=ke(Se=De[je],je,Ce),r))if(f)Ne[je]=Re;else if(Re)switch(r){case 3:return!0;case 5:return Se;case 6:return je;case 2:ie(Ne,Se)}else switch(r){case 4:return!1;case 7:ie(Ne,Se)}return ae?-1:R||ne?ne:Ne}};r.exports={forEach:l(0),map:l(1),filter:l(2),some:l(3),every:l(4),find:l(5),findIndex:l(6),filterReject:l(7)}},4598:(r,f,y)=>{"use strict";var S=y(9039);r.exports=function(r,f){var y=[][r];return!!y&&S(function(){y.call(null,f||function(){return 1},1)})}},7680:(r,f,y)=>{"use strict";var S=y(9504);r.exports=S([].slice)},4488:(r,f,y)=>{"use strict";var S=y(7680),R=Math.floor,a=function(r,f){var y=r.length;if(y<8)for(var D,k,F=1;F<y;){for(k=F,D=r[F];k&&f(r[k-1],D)>0;)r[k]=r[--k];k!==F++&&(r[k]=D)}else for(var M=R(y/2),ie=a(S(r,0,M),f),ne=a(S(r,M),f),ae=ie.length,le=ne.length,be=0,ve=0;be<ae||ve<le;)r[be+ve]=be<ae&&ve<le?f(ie[be],ne[ve])<=0?ie[be++]:ne[ve++]:be<ae?ie[be++]:ne[ve++];return r};r.exports=a},7433:(r,f,y)=>{"use strict";var S=y(4376),R=y(3517),D=y(34),k=y(8227)("species"),F=Array;r.exports=function(r){var f;return S(r)&&(f=r.constructor,(R(f)&&(f===F||S(f.prototype))||D(f)&&null===(f=f[k]))&&(f=void 0)),void 0===f?F:f}},1469:(r,f,y)=>{"use strict";var S=y(7433);r.exports=function(r,f){return new(S(r))(0===f?0:f)}},6319:(r,f,y)=>{"use strict";var S=y(8551),R=y(9539);r.exports=function(r,f,y,D){try{return D?f(S(y)[0],y[1]):f(y)}catch(f){R(r,"throw",f)}}},4428:(r,f,y)=>{"use strict";var S=y(8227)("iterator"),R=!1;try{var D=0,k={next:function(){return{done:!!D++}},return:function(){R=!0}};k[S]=function(){return this},Array.from(k,function(){throw 2})}catch(r){}r.exports=function(r,f){try{if(!f&&!R)return!1}catch(r){return!1}var y=!1;try{var D={};D[S]=function(){return{next:function(){return{done:y=!0}}}},r(D)}catch(r){}return y}},2195:(r,f,y)=>{"use strict";var S=y(9504),R=S({}.toString),D=S("".slice);r.exports=function(r){return D(R(r),8,-1)}},6955:(r,f,y)=>{"use strict";var S=y(2140),R=y(4901),D=y(2195),k=y(8227)("toStringTag"),F=Object,M="Arguments"===D(function(){return arguments}());r.exports=S?D:function(r){var f,y,S;return void 0===r?"Undefined":null===r?"Null":"string"==typeof(y=function(r,f){try{return r[f]}catch(r){}}(f=F(r),k))?y:M?D(f):"Object"===(S=D(f))&&R(f.callee)?"Arguments":S}},7740:(r,f,y)=>{"use strict";var S=y(9297),R=y(5031),D=y(7347),k=y(4913);r.exports=function(r,f,y){for(var F=R(f),M=k.f,ie=D.f,ne=0;ne<F.length;ne++){var ae=F[ne];S(r,ae)||y&&S(y,ae)||M(r,ae,ie(f,ae))}}},2211:(r,f,y)=>{"use strict";var S=y(9039);r.exports=!S(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype})},2529:r=>{"use strict";r.exports=function(r,f){return{value:r,done:f}}},6699:(r,f,y)=>{"use strict";var S=y(3724),R=y(4913),D=y(6980);r.exports=S?function(r,f,y){return R.f(r,f,D(1,y))}:function(r,f,y){return r[f]=y,r}},6980:r=>{"use strict";r.exports=function(r,f){return{enumerable:!(1&r),configurable:!(2&r),writable:!(4&r),value:f}}},4659:(r,f,y)=>{"use strict";var S=y(3724),R=y(4913),D=y(6980);r.exports=function(r,f,y){S?R.f(r,f,D(0,y)):r[f]=y}},2106:(r,f,y)=>{"use strict";var S=y(283),R=y(4913);r.exports=function(r,f,y){return y.get&&S(y.get,f,{getter:!0}),y.set&&S(y.set,f,{setter:!0}),R.f(r,f,y)}},6840:(r,f,y)=>{"use strict";var S=y(4901),R=y(4913),D=y(283),k=y(9433);r.exports=function(r,f,y,F){F||(F={});var M=F.enumerable,ie=void 0!==F.name?F.name:f;if(S(y)&&D(y,ie,F),F.global)M?r[f]=y:k(f,y);else{try{F.unsafe?r[f]&&(M=!0):delete r[f]}catch(r){}M?r[f]=y:R.f(r,f,{value:y,enumerable:!1,configurable:!F.nonConfigurable,writable:!F.nonWritable})}return r}},6279:(r,f,y)=>{"use strict";var S=y(6840);r.exports=function(r,f,y){for(var R in f)S(r,R,f[R],y);return r}},9433:(r,f,y)=>{"use strict";var S=y(4576),R=Object.defineProperty;r.exports=function(r,f){try{R(S,r,{value:f,configurable:!0,writable:!0})}catch(y){S[r]=f}return f}},4606:(r,f,y)=>{"use strict";var S=y(6823),R=TypeError;r.exports=function(r,f){if(!delete r[f])throw new R("Cannot delete property "+S(f)+" of "+S(r))}},3724:(r,f,y)=>{"use strict";var S=y(9039);r.exports=!S(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},4055:(r,f,y)=>{"use strict";var S=y(4576),R=y(34),D=S.document,k=R(D)&&R(D.createElement);r.exports=function(r){return k?D.createElement(r):{}}},7400:r=>{"use strict";r.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},9296:(r,f,y)=>{"use strict";var S=y(4055)("span").classList,R=S&&S.constructor&&S.constructor.prototype;r.exports=R===Object.prototype?void 0:R},8727:r=>{"use strict";r.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},3709:(r,f,y)=>{"use strict";var S=y(2839).match(/firefox\/(\d+)/i);r.exports=!!S&&+S[1]},3763:(r,f,y)=>{"use strict";var S=y(2839);r.exports=/MSIE|Trident/.test(S)},2839:(r,f,y)=>{"use strict";var S=y(4576).navigator,R=S&&S.userAgent;r.exports=R?String(R):""},9519:(r,f,y)=>{"use strict";var S,R,D=y(4576),k=y(2839),F=D.process,M=D.Deno,ie=F&&F.versions||M&&M.version,ne=ie&&ie.v8;ne&&(R=(S=ne.split("."))[0]>0&&S[0]<4?1:+(S[0]+S[1])),!R&&k&&(!(S=k.match(/Edge\/(\d+)/))||S[1]>=74)&&(S=k.match(/Chrome\/(\d+)/))&&(R=+S[1]),r.exports=R},3607:(r,f,y)=>{"use strict";var S=y(2839).match(/AppleWebKit\/(\d+)\./);r.exports=!!S&&+S[1]},4215:(r,f,y)=>{"use strict";var S=y(4576),R=y(2839),D=y(2195),s=function(r){return R.slice(0,r.length)===r};r.exports=s("Bun/")?"BUN":s("Cloudflare-Workers")?"CLOUDFLARE":s("Deno/")?"DENO":s("Node.js/")?"NODE":S.Bun&&"string"==typeof Bun.version?"BUN":S.Deno&&"object"==typeof Deno.version?"DENO":"process"===D(S.process)?"NODE":S.window&&S.document?"BROWSER":"REST"},6518:(r,f,y)=>{"use strict";var S=y(4576),R=y(7347).f,D=y(6699),k=y(6840),F=y(9433),M=y(7740),ie=y(2796);r.exports=function(r,f){var y,ne,ae,le,be,ve=r.target,we=r.global,Pe=r.stat;if(y=we?S:Pe?S[ve]||F(ve,{}):S[ve]&&S[ve].prototype)for(ne in f){if(le=f[ne],ae=r.dontCallGetSet?(be=R(y,ne))&&be.value:y[ne],!ie(we?ne:ve+(Pe?".":"#")+ne,r.forced)&&void 0!==ae){if(typeof le==typeof ae)continue;M(le,ae)}(r.sham||ae&&ae.sham)&&D(le,"sham",!0),k(y,ne,le,r)}}},9039:r=>{"use strict";r.exports=function(r){try{return!!r()}catch(r){return!0}}},9228:(r,f,y)=>{"use strict";y(7495);var S=y(9565),R=y(6840),D=y(7323),k=y(9039),F=y(8227),M=y(6699),ie=F("species"),ne=RegExp.prototype;r.exports=function(r,f,y,ae){var le=F(r),be=!k(function(){var f={};return f[le]=function(){return 7},7!==""[r](f)}),ve=be&&!k(function(){var f=!1,y=/a/;return"split"===r&&((y={}).constructor={},y.constructor[ie]=function(){return y},y.flags="",y[le]=/./[le]),y.exec=function(){return f=!0,null},y[le](""),!f});if(!be||!ve||y){var we=/./[le],Pe=f(le,""[r],function(r,f,y,R,k){var F=f.exec;return F===D||F===ne.exec?be&&!k?{done:!0,value:S(we,f,y,R)}:{done:!0,value:S(r,y,f,R)}:{done:!1}});R(String.prototype,r,Pe[0]),R(ne,le,Pe[1])}ae&&M(ne[le],"sham",!0)}},8745:(r,f,y)=>{"use strict";var S=y(616),R=Function.prototype,D=R.apply,k=R.call;r.exports="object"==typeof Reflect&&Reflect.apply||(S?k.bind(D):function(){return k.apply(D,arguments)})},6080:(r,f,y)=>{"use strict";var S=y(7476),R=y(9306),D=y(616),k=S(S.bind);r.exports=function(r,f){return R(r),void 0===f?r:D?k(r,f):function(){return r.apply(f,arguments)}}},616:(r,f,y)=>{"use strict";var S=y(9039);r.exports=!S(function(){var r=function(){}.bind();return"function"!=typeof r||r.hasOwnProperty("prototype")})},9565:(r,f,y)=>{"use strict";var S=y(616),R=Function.prototype.call;r.exports=S?R.bind(R):function(){return R.apply(R,arguments)}},350:(r,f,y)=>{"use strict";var S=y(3724),R=y(9297),D=Function.prototype,k=S&&Object.getOwnPropertyDescriptor,F=R(D,"name"),M=F&&"something"===function(){}.name,ie=F&&(!S||S&&k(D,"name").configurable);r.exports={EXISTS:F,PROPER:M,CONFIGURABLE:ie}},6706:(r,f,y)=>{"use strict";var S=y(9504),R=y(9306);r.exports=function(r,f,y){try{return S(R(Object.getOwnPropertyDescriptor(r,f)[y]))}catch(r){}}},7476:(r,f,y)=>{"use strict";var S=y(2195),R=y(9504);r.exports=function(r){if("Function"===S(r))return R(r)}},9504:(r,f,y)=>{"use strict";var S=y(616),R=Function.prototype,D=R.call,k=S&&R.bind.bind(D,D);r.exports=S?k:function(r){return function(){return D.apply(r,arguments)}}},7751:(r,f,y)=>{"use strict";var S=y(4576),R=y(4901);r.exports=function(r,f){return arguments.length<2?(y=S[r],R(y)?y:void 0):S[r]&&S[r][f];var y}},851:(r,f,y)=>{"use strict";var S=y(6955),R=y(5966),D=y(4117),k=y(6269),F=y(8227)("iterator");r.exports=function(r){if(!D(r))return R(r,F)||R(r,"@@iterator")||k[S(r)]}},81:(r,f,y)=>{"use strict";var S=y(9565),R=y(9306),D=y(8551),k=y(6823),F=y(851),M=TypeError;r.exports=function(r,f){var y=arguments.length<2?F(r):f;if(R(y))return D(S(y,r));throw new M(k(r)+" is not iterable")}},6933:(r,f,y)=>{"use strict";var S=y(9504),R=y(4376),D=y(4901),k=y(2195),F=y(655),M=S([].push);r.exports=function(r){if(D(r))return r;if(R(r)){for(var f=r.length,y=[],S=0;S<f;S++){var ie=r[S];"string"==typeof ie?M(y,ie):"number"!=typeof ie&&"Number"!==k(ie)&&"String"!==k(ie)||M(y,F(ie))}var ne=y.length,ae=!0;return function(r,f){if(ae)return ae=!1,f;if(R(this))return f;for(var S=0;S<ne;S++)if(y[S]===r)return f}}}},5966:(r,f,y)=>{"use strict";var S=y(9306),R=y(4117);r.exports=function(r,f){var y=r[f];return R(y)?void 0:S(y)}},2478:(r,f,y)=>{"use strict";var S=y(9504),R=y(8981),D=Math.floor,k=S("".charAt),F=S("".replace),M=S("".slice),ie=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,ne=/\$([$&'`]|\d{1,2})/g;r.exports=function(r,f,y,S,ae,le){var be=y+r.length,ve=S.length,we=ne;return void 0!==ae&&(ae=R(ae),we=ie),F(le,we,function(R,F){var ie;switch(k(F,0)){case"$":return"$";case"&":return r;case"`":return M(f,0,y);case"'":return M(f,be);case"<":ie=ae[M(F,1,-1)];break;default:var ne=+F;if(0===ne)return R;if(ne>ve){var le=D(ne/10);return 0===le?R:le<=ve?void 0===S[le-1]?k(F,1):S[le-1]+k(F,1):R}ie=S[ne-1]}return void 0===ie?"":ie})}},4576:function(r,f,y){"use strict";var n=function(r){return r&&r.Math===Math&&r};r.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof y.g&&y.g)||n("object"==typeof this&&this)||function(){return this}()||Function("return this")()},9297:(r,f,y)=>{"use strict";var S=y(9504),R=y(8981),D=S({}.hasOwnProperty);r.exports=Object.hasOwn||function(r,f){return D(R(r),f)}},421:r=>{"use strict";r.exports={}},397:(r,f,y)=>{"use strict";var S=y(7751);r.exports=S("document","documentElement")},5917:(r,f,y)=>{"use strict";var S=y(3724),R=y(9039),D=y(4055);r.exports=!S&&!R(function(){return 7!==Object.defineProperty(D("div"),"a",{get:function(){return 7}}).a})},8490:r=>{"use strict";var f=Array,y=Math.abs,S=Math.pow,R=Math.floor,D=Math.log,k=Math.LN2;r.exports={pack:function(r,F,M){var ie,ne,ae,le=f(M),be=8*M-F-1,ve=(1<<be)-1,we=ve>>1,Pe=23===F?S(2,-24)-S(2,-77):0,Ae=r<0||0===r&&1/r<0?1:0,Se=0;for((r=y(r))!=r||r===1/0?(ne=r!=r?1:0,ie=ve):(ie=R(D(r)/k),r*(ae=S(2,-ie))<1&&(ie--,ae*=2),(r+=ie+we>=1?Pe/ae:Pe*S(2,1-we))*ae>=2&&(ie++,ae/=2),ie+we>=ve?(ne=0,ie=ve):ie+we>=1?(ne=(r*ae-1)*S(2,F),ie+=we):(ne=r*S(2,we-1)*S(2,F),ie=0));F>=8;)le[Se++]=255&ne,ne/=256,F-=8;for(ie=ie<<F|ne,be+=F;be>0;)le[Se++]=255&ie,ie/=256,be-=8;return le[Se-1]|=128*Ae,le},unpack:function(r,f){var y,R=r.length,D=8*R-f-1,k=(1<<D)-1,F=k>>1,M=D-7,ie=R-1,ne=r[ie--],ae=127&ne;for(ne>>=7;M>0;)ae=256*ae+r[ie--],M-=8;for(y=ae&(1<<-M)-1,ae>>=-M,M+=f;M>0;)y=256*y+r[ie--],M-=8;if(0===ae)ae=1-F;else{if(ae===k)return y?NaN:ne?-1/0:1/0;y+=S(2,f),ae-=F}return(ne?-1:1)*y*S(2,ae-f)}}},7055:(r,f,y)=>{"use strict";var S=y(9504),R=y(9039),D=y(2195),k=Object,F=S("".split);r.exports=R(function(){return!k("z").propertyIsEnumerable(0)})?function(r){return"String"===D(r)?F(r,""):k(r)}:k},3167:(r,f,y)=>{"use strict";var S=y(4901),R=y(34),D=y(2967);r.exports=function(r,f,y){var k,F;return D&&S(k=f.constructor)&&k!==y&&R(F=k.prototype)&&F!==y.prototype&&D(r,F),r}},3706:(r,f,y)=>{"use strict";var S=y(9504),R=y(4901),D=y(7629),k=S(Function.toString);R(D.inspectSource)||(D.inspectSource=function(r){return k(r)}),r.exports=D.inspectSource},1181:(r,f,y)=>{"use strict";var S,R,D,k=y(8622),F=y(4576),M=y(34),ie=y(6699),ne=y(9297),ae=y(7629),le=y(6119),be=y(421),ve="Object already initialized",we=F.TypeError,Pe=F.WeakMap;if(k||ae.state){var Ae=ae.state||(ae.state=new Pe);Ae.get=Ae.get,Ae.has=Ae.has,Ae.set=Ae.set,S=function(r,f){if(Ae.has(r))throw new we(ve);return f.facade=r,Ae.set(r,f),f},R=function(r){return Ae.get(r)||{}},D=function(r){return Ae.has(r)}}else{var Se=le("state");be[Se]=!0,S=function(r,f){if(ne(r,Se))throw new we(ve);return f.facade=r,ie(r,Se,f),f},R=function(r){return ne(r,Se)?r[Se]:{}},D=function(r){return ne(r,Se)}}r.exports={set:S,get:R,has:D,enforce:function(r){return D(r)?R(r):S(r,{})},getterFor:function(r){return function(f){var y;if(!M(f)||(y=R(f)).type!==r)throw new we("Incompatible receiver, "+r+" required");return y}}}},4209:(r,f,y)=>{"use strict";var S=y(8227),R=y(6269),D=S("iterator"),k=Array.prototype;r.exports=function(r){return void 0!==r&&(R.Array===r||k[D]===r)}},4376:(r,f,y)=>{"use strict";var S=y(2195);r.exports=Array.isArray||function(r){return"Array"===S(r)}},1108:(r,f,y)=>{"use strict";var S=y(6955);r.exports=function(r){var f=S(r);return"BigInt64Array"===f||"BigUint64Array"===f}},4901:r=>{"use strict";var f="object"==typeof document&&document.all;r.exports=void 0===f&&void 0!==f?function(r){return"function"==typeof r||r===f}:function(r){return"function"==typeof r}},3517:(r,f,y)=>{"use strict";var S=y(9504),R=y(9039),D=y(4901),k=y(6955),F=y(7751),M=y(3706),u=function(){},ie=F("Reflect","construct"),ne=/^\s*(?:class|function)\b/,ae=S(ne.exec),le=!ne.test(u),p=function(r){if(!D(r))return!1;try{return ie(u,[],r),!0}catch(r){return!1}},g=function(r){if(!D(r))return!1;switch(k(r)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return le||!!ae(ne,M(r))}catch(r){return!0}};g.sham=!0,r.exports=!ie||R(function(){var r;return p(p.call)||!p(Object)||!p(function(){r=!0})||r})?g:p},2796:(r,f,y)=>{"use strict";var S=y(9039),R=y(4901),D=/#|\.prototype\./,s=function(r,f){var y=F[k(r)];return y===ie||y!==M&&(R(f)?S(f):!!f)},k=s.normalize=function(r){return String(r).replace(D,".").toLowerCase()},F=s.data={},M=s.NATIVE="N",ie=s.POLYFILL="P";r.exports=s},2087:(r,f,y)=>{"use strict";var S=y(34),R=Math.floor;r.exports=Number.isInteger||function(r){return!S(r)&&isFinite(r)&&R(r)===r}},4117:r=>{"use strict";r.exports=function(r){return null==r}},34:(r,f,y)=>{"use strict";var S=y(4901);r.exports=function(r){return"object"==typeof r?null!==r:S(r)}},3925:(r,f,y)=>{"use strict";var S=y(34);r.exports=function(r){return S(r)||null===r}},6395:r=>{"use strict";r.exports=!1},757:(r,f,y)=>{"use strict";var S=y(7751),R=y(4901),D=y(1625),k=y(7040),F=Object;r.exports=k?function(r){return"symbol"==typeof r}:function(r){var f=S("Symbol");return R(f)&&D(f.prototype,F(r))}},2652:(r,f,y)=>{"use strict";var S=y(6080),R=y(9565),D=y(8551),k=y(6823),F=y(4209),M=y(6198),ie=y(1625),ne=y(81),ae=y(851),le=y(9539),be=TypeError,p=function(r,f){this.stopped=r,this.result=f},ve=p.prototype;r.exports=function(r,f,y){var we,Pe,Ae,Se,Re,Ce,De,Te=y&&y.that,ke=!(!y||!y.AS_ENTRIES),je=!(!y||!y.IS_RECORD),Ee=!(!y||!y.IS_ITERATOR),Ne=!(!y||!y.INTERRUPTED),Fe=S(f,Te),E=function(r){return we&&le(we,"normal",r),new p(!0,r)},O=function(r){return ke?(D(r),Ne?Fe(r[0],r[1],E):Fe(r[0],r[1])):Ne?Fe(r,E):Fe(r)};if(je)we=r.iterator;else if(Ee)we=r;else{if(!(Pe=ae(r)))throw new be(k(r)+" is not iterable");if(F(Pe)){for(Ae=0,Se=M(r);Se>Ae;Ae++)if((Re=O(r[Ae]))&&ie(ve,Re))return Re;return new p(!1)}we=ne(r,Pe)}for(Ce=je?r.next:we.next;!(De=R(Ce,we)).done;){try{Re=O(De.value)}catch(r){le(we,"throw",r)}if("object"==typeof Re&&Re&&ie(ve,Re))return Re}return new p(!1)}},9539:(r,f,y)=>{"use strict";var S=y(9565),R=y(8551),D=y(5966);r.exports=function(r,f,y){var k,F;R(r);try{if(!(k=D(r,"return"))){if("throw"===f)throw y;return y}k=S(k,r)}catch(r){F=!0,k=r}if("throw"===f)throw y;if(F)throw k;return R(k),y}},3994:(r,f,y)=>{"use strict";var S=y(7657).IteratorPrototype,R=y(2360),D=y(6980),k=y(687),F=y(6269),c=function(){return this};r.exports=function(r,f,y,M){var ie=f+" Iterator";return r.prototype=R(S,{next:D(+!M,y)}),k(r,ie,!1,!0),F[ie]=c,r}},1088:(r,f,y)=>{"use strict";var S=y(6518),R=y(9565),D=y(6395),k=y(350),F=y(4901),M=y(3994),ie=y(2787),ne=y(2967),ae=y(687),le=y(6699),be=y(6840),ve=y(8227),we=y(6269),Pe=y(7657),Ae=k.PROPER,Se=k.CONFIGURABLE,Re=Pe.IteratorPrototype,Ce=Pe.BUGGY_SAFARI_ITERATORS,De=ve("iterator"),Te="keys",ke="values",je="entries",T=function(){return this};r.exports=function(r,f,y,k,ve,Pe,Ee){M(y,f,k);var Ne,Fe,Oe,O=function(r){if(r===ve&&He)return He;if(!Ce&&r&&r in Ue)return Ue[r];switch(r){case Te:case ke:case je:return function(){return new y(this,r)}}return function(){return new y(this)}},xe=f+" Iterator",Me=!1,Ue=r.prototype,We=Ue[De]||Ue["@@iterator"]||ve&&Ue[ve],He=!Ce&&We||O(ve),qe="Array"===f&&Ue.entries||We;if(qe&&(Ne=ie(qe.call(new r)))!==Object.prototype&&Ne.next&&(D||ie(Ne)===Re||(ne?ne(Ne,Re):F(Ne[De])||be(Ne,De,T)),ae(Ne,xe,!0,!0),D&&(we[xe]=T)),Ae&&ve===ke&&We&&We.name!==ke&&(!D&&Se?le(Ue,"name",ke):(Me=!0,He=function(){return R(We,this)})),ve)if(Fe={values:O(ke),keys:Pe?He:O(Te),entries:O(je)},Ee)for(Oe in Fe)(Ce||Me||!(Oe in Ue))&&be(Ue,Oe,Fe[Oe]);else S({target:f,proto:!0,forced:Ce||Me},Fe);return D&&!Ee||Ue[De]===He||be(Ue,De,He,{name:ve}),we[f]=He,Fe}},7657:(r,f,y)=>{"use strict";var S,R,D,k=y(9039),F=y(4901),M=y(34),ie=y(2360),ne=y(2787),ae=y(6840),le=y(8227),be=y(6395),ve=le("iterator"),we=!1;[].keys&&("next"in(D=[].keys())?(R=ne(ne(D)))!==Object.prototype&&(S=R):we=!0),!M(S)||k(function(){var r={};return S[ve].call(r)!==r})?S={}:be&&(S=ie(S)),F(S[ve])||ae(S,ve,function(){return this}),r.exports={IteratorPrototype:S,BUGGY_SAFARI_ITERATORS:we}},6269:r=>{"use strict";r.exports={}},6198:(r,f,y)=>{"use strict";var S=y(8014);r.exports=function(r){return S(r.length)}},283:(r,f,y)=>{"use strict";var S=y(9504),R=y(9039),D=y(4901),k=y(9297),F=y(3724),M=y(350).CONFIGURABLE,ie=y(3706),ne=y(1181),ae=ne.enforce,le=ne.get,be=String,ve=Object.defineProperty,we=S("".slice),Pe=S("".replace),Ae=S([].join),Se=F&&!R(function(){return 8!==ve(function(){},"length",{value:8}).length}),Re=String(String).split("String"),Ce=r.exports=function(r,f,y){"Symbol("===we(be(f),0,7)&&(f="["+Pe(be(f),/^Symbol\(([^)]*)\).*$/,"$1")+"]"),y&&y.getter&&(f="get "+f),y&&y.setter&&(f="set "+f),(!k(r,"name")||M&&r.name!==f)&&(F?ve(r,"name",{value:f,configurable:!0}):r.name=f),Se&&y&&k(y,"arity")&&r.length!==y.arity&&ve(r,"length",{value:y.arity});try{y&&k(y,"constructor")&&y.constructor?F&&ve(r,"prototype",{writable:!1}):r.prototype&&(r.prototype=void 0)}catch(r){}var S=ae(r);return k(S,"source")||(S.source=Ae(Re,"string"==typeof f?f:"")),r};Function.prototype.toString=Ce(function(){return D(this)&&le(this).source||ie(this)},"toString")},3164:(r,f,y)=>{"use strict";var S=y(7782),R=Math.abs,D=2220446049250313e-31,k=1/D;r.exports=function(r,f,y,F){var M=+r,ie=R(M),ne=S(M);if(ie<F)return ne*function(r){return r+k-k}(ie/F/f)*F*f;var ae=(1+f/D)*ie,le=ae-(ae-ie);return le>y||le!=le?ne*(1/0):ne*le}},5617:(r,f,y)=>{"use strict";var S=y(3164);r.exports=Math.fround||function(r){return S(r,1.1920928955078125e-7,34028234663852886e22,11754943508222875e-54)}},7782:r=>{"use strict";r.exports=Math.sign||function(r){var f=+r;return 0===f||f!=f?f:f<0?-1:1}},741:r=>{"use strict";var f=Math.ceil,y=Math.floor;r.exports=Math.trunc||function(r){var S=+r;return(S>0?y:f)(S)}},6043:(r,f,y)=>{"use strict";var S=y(9306),R=TypeError,a=function(r){var f,y;this.promise=new r(function(r,S){if(void 0!==f||void 0!==y)throw new R("Bad Promise constructor");f=r,y=S}),this.resolve=S(f),this.reject=S(y)};r.exports.f=function(r){return new a(r)}},4213:(r,f,y)=>{"use strict";var S=y(3724),R=y(9504),D=y(9565),k=y(9039),F=y(1072),M=y(3717),ie=y(8773),ne=y(8981),ae=y(7055),le=Object.assign,be=Object.defineProperty,ve=R([].concat);r.exports=!le||k(function(){if(S&&1!==le({b:1},le(be({},"a",{enumerable:!0,get:function(){be(this,"b",{value:3,enumerable:!1})}}),{b:2})).b)return!0;var r={},f={},y=Symbol("assign detection"),R="abcdefghijklmnopqrst";return r[y]=7,R.split("").forEach(function(r){f[r]=r}),7!==le({},r)[y]||F(le({},f)).join("")!==R})?function(r,f){for(var y=ne(r),R=arguments.length,k=1,le=M.f,be=ie.f;R>k;)for(var we,Pe=ae(arguments[k++]),Ae=le?ve(F(Pe),le(Pe)):F(Pe),Se=Ae.length,Re=0;Se>Re;)we=Ae[Re++],S&&!D(be,Pe,we)||(y[we]=Pe[we]);return y}:le},2360:(r,f,y)=>{"use strict";var S,R=y(8551),D=y(6801),k=y(8727),F=y(421),M=y(397),ie=y(4055),ne=y(6119),ae="prototype",le="script",be=ne("IE_PROTO"),p=function(){},g=function(r){return"<"+le+">"+r+"</"+le+">"},m=function(r){r.write(g("")),r.close();var f=r.parentWindow.Object;return r=null,f},b=function(){try{S=new ActiveXObject("htmlfile")}catch(r){}var r,f,y;b="undefined"!=typeof document?document.domain&&S?m(S):(f=ie("iframe"),y="java"+le+":",f.style.display="none",M.appendChild(f),f.src=String(y),(r=f.contentWindow.document).open(),r.write(g("document.F=Object")),r.close(),r.F):m(S);for(var R=k.length;R--;)delete b[ae][k[R]];return b()};F[be]=!0,r.exports=Object.create||function(r,f){var y;return null!==r?(p[ae]=R(r),y=new p,p[ae]=null,y[be]=r):y=b(),void 0===f?y:D.f(y,f)}},6801:(r,f,y)=>{"use strict";var S=y(3724),R=y(8686),D=y(4913),k=y(8551),F=y(5397),M=y(1072);f.f=S&&!R?Object.defineProperties:function(r,f){k(r);for(var y,S=F(f),R=M(f),ie=R.length,ne=0;ie>ne;)D.f(r,y=R[ne++],S[y]);return r}},4913:(r,f,y)=>{"use strict";var S=y(3724),R=y(5917),D=y(8686),k=y(8551),F=y(6969),M=TypeError,ie=Object.defineProperty,ne=Object.getOwnPropertyDescriptor,ae="enumerable",le="configurable",be="writable";f.f=S?D?function(r,f,y){if(k(r),f=F(f),k(y),"function"==typeof r&&"prototype"===f&&"value"in y&&be in y&&!y[be]){var S=ne(r,f);S&&S[be]&&(r[f]=y.value,y={configurable:le in y?y[le]:S[le],enumerable:ae in y?y[ae]:S[ae],writable:!1})}return ie(r,f,y)}:ie:function(r,f,y){if(k(r),f=F(f),k(y),R)try{return ie(r,f,y)}catch(r){}if("get"in y||"set"in y)throw new M("Accessors not supported");return"value"in y&&(r[f]=y.value),r}},7347:(r,f,y)=>{"use strict";var S=y(3724),R=y(9565),D=y(8773),k=y(6980),F=y(5397),M=y(6969),ie=y(9297),ne=y(5917),ae=Object.getOwnPropertyDescriptor;f.f=S?ae:function(r,f){if(r=F(r),f=M(f),ne)try{return ae(r,f)}catch(r){}if(ie(r,f))return k(!R(D.f,r,f),r[f])}},8480:(r,f,y)=>{"use strict";var S=y(1828),R=y(8727).concat("length","prototype");f.f=Object.getOwnPropertyNames||function(r){return S(r,R)}},3717:(r,f)=>{"use strict";f.f=Object.getOwnPropertySymbols},2787:(r,f,y)=>{"use strict";var S=y(9297),R=y(4901),D=y(8981),k=y(6119),F=y(2211),M=k("IE_PROTO"),ie=Object,ne=ie.prototype;r.exports=F?ie.getPrototypeOf:function(r){var f=D(r);if(S(f,M))return f[M];var y=f.constructor;return R(y)&&f instanceof y?y.prototype:f instanceof ie?ne:null}},1625:(r,f,y)=>{"use strict";var S=y(9504);r.exports=S({}.isPrototypeOf)},1828:(r,f,y)=>{"use strict";var S=y(9504),R=y(9297),D=y(5397),k=y(9617).indexOf,F=y(421),M=S([].push);r.exports=function(r,f){var y,S=D(r),ie=0,ne=[];for(y in S)!R(F,y)&&R(S,y)&&M(ne,y);for(;f.length>ie;)R(S,y=f[ie++])&&(~k(ne,y)||M(ne,y));return ne}},1072:(r,f,y)=>{"use strict";var S=y(1828),R=y(8727);r.exports=Object.keys||function(r){return S(r,R)}},8773:(r,f)=>{"use strict";var y={}.propertyIsEnumerable,S=Object.getOwnPropertyDescriptor,R=S&&!y.call({1:2},1);f.f=R?function(r){var f=S(this,r);return!!f&&f.enumerable}:y},2967:(r,f,y)=>{"use strict";var S=y(6706),R=y(34),D=y(7750),k=y(3506);r.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var r,f=!1,y={};try{(r=S(Object.prototype,"__proto__","set"))(y,[]),f=y instanceof Array}catch(r){}return function(y,S){return D(y),k(S),R(y)?(f?r(y,S):y.__proto__=S,y):y}}():void 0)},4270:(r,f,y)=>{"use strict";var S=y(9565),R=y(4901),D=y(34),k=TypeError;r.exports=function(r,f){var y,F;if("string"===f&&R(y=r.toString)&&!D(F=S(y,r)))return F;if(R(y=r.valueOf)&&!D(F=S(y,r)))return F;if("string"!==f&&R(y=r.toString)&&!D(F=S(y,r)))return F;throw new k("Can't convert object to primitive value")}},5031:(r,f,y)=>{"use strict";var S=y(7751),R=y(9504),D=y(8480),k=y(3717),F=y(8551),M=R([].concat);r.exports=S("Reflect","ownKeys")||function(r){var f=D.f(F(r)),y=k.f;return y?M(f,y(r)):f}},1103:r=>{"use strict";r.exports=function(r){try{return{error:!1,value:r()}}catch(r){return{error:!0,value:r}}}},916:(r,f,y)=>{"use strict";var S=y(4576),R=y(550),D=y(4901),k=y(2796),F=y(3706),M=y(8227),ie=y(4215),ne=y(6395),ae=y(9519),le=R&&R.prototype,be=M("species"),ve=!1,we=D(S.PromiseRejectionEvent),Pe=k("Promise",function(){var r=F(R),f=r!==String(R);if(!f&&66===ae)return!0;if(ne&&(!le.catch||!le.finally))return!0;if(!ae||ae<51||!/native code/.test(r)){var y=new R(function(r){r(1)}),n=function(r){r(function(){},function(){})};if((y.constructor={})[be]=n,!(ve=y.then(function(){})instanceof n))return!0}return!(f||"BROWSER"!==ie&&"DENO"!==ie||we)});r.exports={CONSTRUCTOR:Pe,REJECTION_EVENT:we,SUBCLASSING:ve}},550:(r,f,y)=>{"use strict";var S=y(4576);r.exports=S.Promise},3438:(r,f,y)=>{"use strict";var S=y(8551),R=y(34),D=y(6043);r.exports=function(r,f){if(S(r),R(f)&&f.constructor===r)return f;var y=D.f(r);return(0,y.resolve)(f),y.promise}},537:(r,f,y)=>{"use strict";var S=y(550),R=y(4428),D=y(916).CONSTRUCTOR;r.exports=D||!R(function(r){S.all(r).then(void 0,function(){})})},6682:(r,f,y)=>{"use strict";var S=y(9565),R=y(8551),D=y(4901),k=y(2195),F=y(7323),M=TypeError;r.exports=function(r,f){var y=r.exec;if(D(y)){var ie=S(y,r,f);return null!==ie&&R(ie),ie}if("RegExp"===k(r))return S(F,r,f);throw new M("RegExp#exec called on incompatible receiver")}},7323:(r,f,y)=>{"use strict";var S,R,D=y(9565),k=y(9504),F=y(655),M=y(7979),ie=y(8429),ne=y(5745),ae=y(2360),le=y(1181).get,be=y(3635),ve=y(8814),we=ne("native-string-replace",String.prototype.replace),Pe=RegExp.prototype.exec,Ae=Pe,Se=k("".charAt),Re=k("".indexOf),Ce=k("".replace),De=k("".slice),Te=(R=/b*/g,D(Pe,S=/a/,"a"),D(Pe,R,"a"),0!==S.lastIndex||0!==R.lastIndex),ke=ie.BROKEN_CARET,je=void 0!==/()??/.exec("")[1];(Te||je||ke||be||ve)&&(Ae=function(r){var f,y,S,R,k,ie,ne,be=this,ve=le(be),Ee=F(r),Ne=ve.raw;if(Ne)return Ne.lastIndex=be.lastIndex,f=D(Ae,Ne,Ee),be.lastIndex=Ne.lastIndex,f;var Fe=ve.groups,Oe=ke&&be.sticky,xe=D(M,be),Me=be.source,Ue=0,We=Ee;if(Oe&&(xe=Ce(xe,"y",""),-1===Re(xe,"g")&&(xe+="g"),We=De(Ee,be.lastIndex),be.lastIndex>0&&(!be.multiline||be.multiline&&"\n"!==Se(Ee,be.lastIndex-1))&&(Me="(?: "+Me+")",We=" "+We,Ue++),y=new RegExp("^(?:"+Me+")",xe)),je&&(y=new RegExp("^"+Me+"$(?!\\s)",xe)),Te&&(S=be.lastIndex),R=D(Pe,Oe?y:be,We),Oe?R?(R.input=De(R.input,Ue),R[0]=De(R[0],Ue),R.index=be.lastIndex,be.lastIndex+=R[0].length):be.lastIndex=0:Te&&R&&(be.lastIndex=be.global?R.index+R[0].length:S),je&&R&&R.length>1&&D(we,R[0],y,function(){for(k=1;k<arguments.length-2;k++)void 0===arguments[k]&&(R[k]=void 0)}),R&&Fe)for(R.groups=ie=ae(null),k=0;k<Fe.length;k++)ie[(ne=Fe[k])[0]]=R[ne[1]];return R}),r.exports=Ae},7979:(r,f,y)=>{"use strict";var S=y(8551);r.exports=function(){var r=S(this),f="";return r.hasIndices&&(f+="d"),r.global&&(f+="g"),r.ignoreCase&&(f+="i"),r.multiline&&(f+="m"),r.dotAll&&(f+="s"),r.unicode&&(f+="u"),r.unicodeSets&&(f+="v"),r.sticky&&(f+="y"),f}},8429:(r,f,y)=>{"use strict";var S=y(9039),R=y(4576).RegExp,D=S(function(){var r=R("a","y");return r.lastIndex=2,null!==r.exec("abcd")}),k=D||S(function(){return!R("a","y").sticky}),F=D||S(function(){var r=R("^r","gy");return r.lastIndex=2,null!==r.exec("str")});r.exports={BROKEN_CARET:F,MISSED_STICKY:k,UNSUPPORTED_Y:D}},3635:(r,f,y)=>{"use strict";var S=y(9039),R=y(4576).RegExp;r.exports=S(function(){var r=R(".","s");return!(r.dotAll&&r.test("\n")&&"s"===r.flags)})},8814:(r,f,y)=>{"use strict";var S=y(9039),R=y(4576).RegExp;r.exports=S(function(){var r=R("(?<a>b)","g");return"b"!==r.exec("b").groups.a||"bc"!=="b".replace(r,"$<a>c")})},7750:(r,f,y)=>{"use strict";var S=y(4117),R=TypeError;r.exports=function(r){if(S(r))throw new R("Can't call method on "+r);return r}},3389:(r,f,y)=>{"use strict";var S=y(4576),R=y(3724),D=Object.getOwnPropertyDescriptor;r.exports=function(r){if(!R)return S[r];var f=D(S,r);return f&&f.value}},7633:(r,f,y)=>{"use strict";var S=y(7751),R=y(2106),D=y(8227),k=y(3724),F=D("species");r.exports=function(r){var f=S(r);k&&f&&!f[F]&&R(f,F,{configurable:!0,get:function(){return this}})}},687:(r,f,y)=>{"use strict";var S=y(4913).f,R=y(9297),D=y(8227)("toStringTag");r.exports=function(r,f,y){r&&!y&&(r=r.prototype),r&&!R(r,D)&&S(r,D,{configurable:!0,value:f})}},6119:(r,f,y)=>{"use strict";var S=y(5745),R=y(3392),D=S("keys");r.exports=function(r){return D[r]||(D[r]=R(r))}},7629:(r,f,y)=>{"use strict";var S=y(6395),R=y(4576),D=y(9433),k="__core-js_shared__",F=r.exports=R[k]||D(k,{});(F.versions||(F.versions=[])).push({version:"3.38.1",mode:S?"pure":"global",copyright:" 2014-2024 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.38.1/LICENSE",source:"https://github.com/zloirock/core-js"})},5745:(r,f,y)=>{"use strict";var S=y(7629);r.exports=function(r,f){return S[r]||(S[r]=f||{})}},2293:(r,f,y)=>{"use strict";var S=y(8551),R=y(5548),D=y(4117),k=y(8227)("species");r.exports=function(r,f){var y,F=S(r).constructor;return void 0===F||D(y=S(F)[k])?f:R(y)}},8183:(r,f,y)=>{"use strict";var S=y(9504),R=y(1291),D=y(655),k=y(7750),F=S("".charAt),M=S("".charCodeAt),ie=S("".slice),l=function(r){return function(f,y){var S,ne,ae=D(k(f)),le=R(y),be=ae.length;return le<0||le>=be?r?"":void 0:(S=M(ae,le))<55296||S>56319||le+1===be||(ne=M(ae,le+1))<56320||ne>57343?r?F(ae,le):S:r?ie(ae,le,le+2):ne-56320+(S-55296<<10)+65536}};r.exports={codeAt:l(!1),charAt:l(!0)}},6098:(r,f,y)=>{"use strict";var S=y(9504),R=2147483647,D=/[^\0-\u007E]/,k=/[.\u3002\uFF0E\uFF61]/g,F="Overflow: input needs wider integers to process",M=RangeError,ie=S(k.exec),ne=Math.floor,ae=String.fromCharCode,le=S("".charCodeAt),be=S([].join),ve=S([].push),we=S("".replace),Pe=S("".split),Ae=S("".toLowerCase),v=function(r){return r+22+75*(r<26)},w=function(r,f,y){var S=0;for(r=y?ne(r/700):r>>1,r+=ne(r/f);r>455;)r=ne(r/35),S+=36;return ne(S+36*r/(r+38))},_=function(r){var f=[];r=function(r){for(var f=[],y=0,S=r.length;y<S;){var R=le(r,y++);if(R>=55296&&R<=56319&&y<S){var D=le(r,y++);56320==(64512&D)?ve(f,((1023&R)<<10)+(1023&D)+65536):(ve(f,R),y--)}else ve(f,R)}return f}(r);var y,S,D=r.length,k=128,ie=0,we=72;for(y=0;y<r.length;y++)(S=r[y])<128&&ve(f,ae(S));var Pe=f.length,Ae=Pe;for(Pe&&ve(f,"-");Ae<D;){var Se=R;for(y=0;y<r.length;y++)(S=r[y])>=k&&S<Se&&(Se=S);var Re=Ae+1;if(Se-k>ne((R-ie)/Re))throw new M(F);for(ie+=(Se-k)*Re,k=Se,y=0;y<r.length;y++){if((S=r[y])<k&&++ie>R)throw new M(F);if(S===k){for(var Ce=ie,De=36;;){var Te=De<=we?1:De>=we+26?26:De-we;if(Ce<Te)break;var ke=Ce-Te,je=36-Te;ve(f,ae(v(Te+ke%je))),Ce=ne(ke/je),De+=36}ve(f,ae(v(Ce))),we=w(ie,Re,Ae===Pe),ie=0,Ae++}}ie++,k++}return be(f,"")};r.exports=function(r){var f,y,S=[],R=Pe(we(Ae(r),k,"."),".");for(f=0;f<R.length;f++)y=R[f],ve(S,ie(D,y)?"xn--"+_(y):y);return be(S,".")}},4495:(r,f,y)=>{"use strict";var S=y(9519),R=y(9039),D=y(4576).String;r.exports=!!Object.getOwnPropertySymbols&&!R(function(){var r=Symbol("symbol detection");return!D(r)||!(Object(r)instanceof Symbol)||!Symbol.sham&&S&&S<41})},5610:(r,f,y)=>{"use strict";var S=y(1291),R=Math.max,D=Math.min;r.exports=function(r,f){var y=S(r);return y<0?R(y+f,0):D(y,f)}},5854:(r,f,y)=>{"use strict";var S=y(2777),R=TypeError;r.exports=function(r){var f=S(r,"number");if("number"==typeof f)throw new R("Can't convert number to bigint");return BigInt(f)}},7696:(r,f,y)=>{"use strict";var S=y(1291),R=y(8014),D=RangeError;r.exports=function(r){if(void 0===r)return 0;var f=S(r),y=R(f);if(f!==y)throw new D("Wrong length or index");return y}},5397:(r,f,y)=>{"use strict";var S=y(7055),R=y(7750);r.exports=function(r){return S(R(r))}},1291:(r,f,y)=>{"use strict";var S=y(741);r.exports=function(r){var f=+r;return f!=f||0===f?0:S(f)}},8014:(r,f,y)=>{"use strict";var S=y(1291),R=Math.min;r.exports=function(r){var f=S(r);return f>0?R(f,9007199254740991):0}},8981:(r,f,y)=>{"use strict";var S=y(7750),R=Object;r.exports=function(r){return R(S(r))}},8229:(r,f,y)=>{"use strict";var S=y(9590),R=RangeError;r.exports=function(r,f){var y=S(r);if(y%f)throw new R("Wrong offset");return y}},9590:(r,f,y)=>{"use strict";var S=y(1291),R=RangeError;r.exports=function(r){var f=S(r);if(f<0)throw new R("The argument can't be less than 0");return f}},2777:(r,f,y)=>{"use strict";var S=y(9565),R=y(34),D=y(757),k=y(5966),F=y(4270),M=y(8227),ie=TypeError,ne=M("toPrimitive");r.exports=function(r,f){if(!R(r)||D(r))return r;var y,M=k(r,ne);if(M){if(void 0===f&&(f="default"),y=S(M,r,f),!R(y)||D(y))return y;throw new ie("Can't convert object to primitive value")}return void 0===f&&(f="number"),F(r,f)}},6969:(r,f,y)=>{"use strict";var S=y(2777),R=y(757);r.exports=function(r){var f=S(r,"string");return R(f)?f:f+""}},2140:(r,f,y)=>{"use strict";var S={};S[y(8227)("toStringTag")]="z",r.exports="[object z]"===String(S)},655:(r,f,y)=>{"use strict";var S=y(6955),R=String;r.exports=function(r){if("Symbol"===S(r))throw new TypeError("Cannot convert a Symbol value to a string");return R(r)}},8319:r=>{"use strict";var f=Math.round;r.exports=function(r){var y=f(r);return y<0?0:y>255?255:255&y}},6823:r=>{"use strict";var f=String;r.exports=function(r){try{return f(r)}catch(r){return"Object"}}},5823:(r,f,y)=>{"use strict";var S=y(6518),R=y(4576),D=y(9565),k=y(3724),F=y(2805),M=y(4644),ie=y(6346),ne=y(679),ae=y(6980),le=y(6699),be=y(2087),ve=y(8014),we=y(7696),Pe=y(8229),Ae=y(8319),Se=y(6969),Re=y(9297),Ce=y(6955),De=y(34),Te=y(757),ke=y(2360),je=y(1625),Ee=y(2967),Ne=y(8480).f,Fe=y(3251),Oe=y(9213).forEach,xe=y(7633),Me=y(2106),Ue=y(4913),We=y(7347),He=y(5370),qe=y(1181),ze=y(3167),Ge=qe.get,Je=qe.set,Ve=qe.enforce,Ke=Ue.f,$e=We.f,Ze=R.RangeError,Qe=ie.ArrayBuffer,Xe=Qe.prototype,Ye=ie.DataView,et=M.NATIVE_ARRAY_BUFFER_VIEWS,tt=M.TYPED_ARRAY_TAG,rt=M.TypedArray,it=M.TypedArrayPrototype,nt=M.isTypedArray,st="BYTES_PER_ELEMENT",at="Wrong length",Q=function(r,f){Me(r,f,{configurable:!0,get:function(){return Ge(this)[f]}})},Z=function(r){var f;return je(Xe,r)||"ArrayBuffer"===(f=Ce(r))||"SharedArrayBuffer"===f},ee=function(r,f){return nt(r)&&!Te(f)&&f in r&&be(+f)&&f>=0},te=function(r,f){return f=Se(f),ee(r,f)?ae(2,r[f]):$e(r,f)},re=function(r,f,y){return f=Se(f),!(ee(r,f)&&De(y)&&Re(y,"value"))||Re(y,"get")||Re(y,"set")||y.configurable||Re(y,"writable")&&!y.writable||Re(y,"enumerable")&&!y.enumerable?Ke(r,f,y):(r[f]=y.value,r)};k?(et||(We.f=te,Ue.f=re,Q(it,"buffer"),Q(it,"byteOffset"),Q(it,"byteLength"),Q(it,"length")),S({target:"Object",stat:!0,forced:!et},{getOwnPropertyDescriptor:te,defineProperty:re}),r.exports=function(r,f,y){var k=r.match(/\d+/)[0]/8,M=r+(y?"Clamped":"")+"Array",ie="get"+r,ae="set"+r,be=R[M],Se=be,Re=Se&&Se.prototype,Ce={},P=function(r,f){Ke(r,f,{get:function(){return function(r,f){var y=Ge(r);return y.view[ie](f*k+y.byteOffset,!0)}(this,f)},set:function(r){return function(r,f,S){var R=Ge(r);R.view[ae](f*k+R.byteOffset,y?Ae(S):S,!0)}(this,f,r)},enumerable:!0})};et?F&&(Se=f(function(r,f,y,S){return ne(r,Re),ze(De(f)?Z(f)?void 0!==S?new be(f,Pe(y,k),S):void 0!==y?new be(f,Pe(y,k)):new be(f):nt(f)?He(Se,f):D(Fe,Se,f):new be(we(f)),r,Se)}),Ee&&Ee(Se,rt),Oe(Ne(be),function(r){r in Se||le(Se,r,be[r])}),Se.prototype=Re):(Se=f(function(r,f,y,S){ne(r,Re);var R,F,M,ie=0,ae=0;if(De(f)){if(!Z(f))return nt(f)?He(Se,f):D(Fe,Se,f);R=f,ae=Pe(y,k);var le=f.byteLength;if(void 0===S){if(le%k)throw new Ze(at);if((F=le-ae)<0)throw new Ze(at)}else if((F=ve(S)*k)+ae>le)throw new Ze(at);M=F/k}else M=we(f),R=new Qe(F=M*k);for(Je(r,{buffer:R,byteOffset:ae,byteLength:F,length:M,view:new Ye(R)});ie<M;)P(r,ie++)}),Ee&&Ee(Se,rt),Re=Se.prototype=ke(it)),Re.constructor!==Se&&le(Re,"constructor",Se),Ve(Re).TypedArrayConstructor=Se,tt&&le(Re,tt,M);var Te=Se!==be;Ce[M]=Se,S({global:!0,constructor:!0,forced:Te,sham:!et},Ce),st in Se||le(Se,st,k),st in Re||le(Re,st,k),xe(M)}):r.exports=function(){}},2805:(r,f,y)=>{"use strict";var S=y(4576),R=y(9039),D=y(4428),k=y(4644).NATIVE_ARRAY_BUFFER_VIEWS,F=S.ArrayBuffer,M=S.Int8Array;r.exports=!k||!R(function(){M(1)})||!R(function(){new M(-1)})||!D(function(r){new M,new M(null),new M(1.5),new M(r)},!0)||R(function(){return 1!==new M(new F(2),1,void 0).length})},3251:(r,f,y)=>{"use strict";var S=y(6080),R=y(9565),D=y(5548),k=y(8981),F=y(6198),M=y(81),ie=y(851),ne=y(4209),ae=y(1108),le=y(4644).aTypedArrayConstructor,be=y(5854);r.exports=function(r){var f,y,ve,we,Pe,Ae,Se,Re,Ce=D(this),De=k(r),Te=arguments.length,ke=Te>1?arguments[1]:void 0,je=void 0!==ke,Ee=ie(De);if(Ee&&!ne(Ee))for(Re=(Se=M(De,Ee)).next,De=[];!(Ae=R(Re,Se)).done;)De.push(Ae.value);for(je&&Te>2&&(ke=S(ke,arguments[2])),y=F(De),ve=new(le(Ce))(y),we=ae(ve),f=0;y>f;f++)Pe=je?ke(De[f],f):De[f],ve[f]=we?be(Pe):+Pe;return ve}},3392:(r,f,y)=>{"use strict";var S=y(9504),R=0,D=Math.random(),k=S(1..toString);r.exports=function(r){return"Symbol("+(void 0===r?"":r)+")_"+k(++R+D,36)}},7416:(r,f,y)=>{"use strict";var S=y(9039),R=y(8227),D=y(3724),k=y(6395),F=R("iterator");r.exports=!S(function(){var r=new URL("b?a=1&b=2&c=3","https://a"),f=r.searchParams,y=new URLSearchParams("a=1&a=2&b=3"),S="";return r.pathname="c%20d",f.forEach(function(r,y){f.delete("b"),S+=y+r}),y.delete("a",2),y.delete("b",void 0),k&&(!r.toJSON||!y.has("a",1)||y.has("a",2)||!y.has("a",void 0)||y.has("b"))||!f.size&&(k||!D)||!f.sort||"https://a/c%20d?a=1&c=3"!==r.href||"3"!==f.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!f[F]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("https://").host||"#%D0%B1"!==new URL("https://a#").hash||"a1c3"!==S||"x"!==new URL("https://x",void 0).host})},7040:(r,f,y)=>{"use strict";var S=y(4495);r.exports=S&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},8686:(r,f,y)=>{"use strict";var S=y(3724),R=y(9039);r.exports=S&&R(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},2812:r=>{"use strict";var f=TypeError;r.exports=function(r,y){if(r<y)throw new f("Not enough arguments");return r}},8622:(r,f,y)=>{"use strict";var S=y(4576),R=y(4901),D=S.WeakMap;r.exports=R(D)&&/native code/.test(String(D))},8227:(r,f,y)=>{"use strict";var S=y(4576),R=y(5745),D=y(9297),k=y(3392),F=y(4495),M=y(7040),ie=S.Symbol,ne=R("wks"),ae=M?ie.for||ie:ie&&ie.withoutSetter||k;r.exports=function(r){return D(ne,r)||(ne[r]=F&&D(ie,r)?ie[r]:ae("Symbol."+r)),ne[r]}},4743:(r,f,y)=>{"use strict";var S=y(6518),R=y(4576),D=y(6346),k=y(7633),F="ArrayBuffer",M=D[F];S({global:!0,constructor:!0,forced:R[F]!==M},{ArrayBuffer:M}),k(F)},1745:(r,f,y)=>{"use strict";var S=y(6518),R=y(7476),D=y(9039),k=y(6346),F=y(8551),M=y(5610),ie=y(8014),ne=y(2293),ae=k.ArrayBuffer,le=k.DataView,be=le.prototype,ve=R(ae.prototype.slice),we=R(be.getUint8),Pe=R(be.setUint8);S({target:"ArrayBuffer",proto:!0,unsafe:!0,forced:D(function(){return!new ae(2).slice(1,void 0).byteLength})},{slice:function(r,f){if(ve&&void 0===f)return ve(F(this),r);for(var y=F(this).byteLength,S=M(r,y),R=M(void 0===f?y:f,y),D=new(ne(this,ae))(ie(R-S)),k=new le(this),be=new le(D),Ae=0;S<R;)Pe(be,Ae++,we(k,S++));return D}})},3792:(r,f,y)=>{"use strict";var S=y(5397),R=y(6469),D=y(6269),k=y(1181),F=y(4913).f,M=y(1088),ie=y(2529),ne=y(6395),ae=y(3724),le="Array Iterator",be=k.set,ve=k.getterFor(le);r.exports=M(Array,"Array",function(r,f){be(this,{type:le,target:S(r),index:0,kind:f})},function(){var r=ve(this),f=r.target,y=r.index++;if(!f||y>=f.length)return r.target=null,ie(void 0,!0);switch(r.kind){case"keys":return ie(y,!1);case"values":return ie(f[y],!1)}return ie([y,f[y]],!1)},"values");var we=D.Arguments=D.Array;if(R("keys"),R("values"),R("entries"),!ne&&ae&&"values"!==we.name)try{F(we,"name",{value:"values"})}catch(r){}},6910:(r,f,y)=>{"use strict";var S=y(6518),R=y(9504),D=y(9306),k=y(8981),F=y(6198),M=y(4606),ie=y(655),ne=y(9039),ae=y(4488),le=y(4598),be=y(3709),ve=y(3763),we=y(9519),Pe=y(3607),Ae=[],Se=R(Ae.sort),Re=R(Ae.push),Ce=ne(function(){Ae.sort(void 0)}),De=ne(function(){Ae.sort(null)}),Te=le("sort"),ke=!ne(function(){if(we)return we<70;if(!(be&&be>3)){if(ve)return!0;if(Pe)return Pe<603;var r,f,y,S,R="";for(r=65;r<76;r++){switch(f=String.fromCharCode(r),r){case 66:case 69:case 70:case 72:y=3;break;case 68:case 71:y=4;break;default:y=2}for(S=0;S<47;S++)Ae.push({k:f+S,v:y})}for(Ae.sort(function(r,f){return f.v-r.v}),S=0;S<Ae.length;S++)f=Ae[S].k.charAt(0),R.charAt(R.length-1)!==f&&(R+=f);return"DGBEFHACIJK"!==R}});S({target:"Array",proto:!0,forced:Ce||!De||!Te||!ke},{sort:function(r){void 0!==r&&D(r);var f=k(this);if(ke)return void 0===r?Se(f):Se(f,r);var y,S,R=[],ne=F(f);for(S=0;S<ne;S++)S in f&&Re(R,f[S]);for(ae(R,function(r){return function(f,y){return void 0===y?-1:void 0===f?1:void 0!==r?+r(f,y)||0:ie(f)>ie(y)?1:-1}}(r)),y=F(R),S=0;S<y;)f[S]=R[S++];for(;S<ne;)M(f,S++);return f}})},5081:(r,f,y)=>{"use strict";var S=y(6518),R=y(4576);S({global:!0,forced:R.globalThis!==R},{globalThis:R})},3110:(r,f,y)=>{"use strict";var S=y(6518),R=y(7751),D=y(8745),k=y(9565),F=y(9504),M=y(9039),ie=y(4901),ne=y(757),ae=y(7680),le=y(6933),be=y(4495),ve=String,we=R("JSON","stringify"),Pe=F(/./.exec),Ae=F("".charAt),Se=F("".charCodeAt),Re=F("".replace),Ce=F(1..toString),De=/[\uD800-\uDFFF]/g,Te=/^[\uD800-\uDBFF]$/,ke=/^[\uDC00-\uDFFF]$/,je=!be||M(function(){var r=R("Symbol")("stringify detection");return"[null]"!==we([r])||"{}"!==we({a:r})||"{}"!==we(Object(r))}),Ee=M(function(){return'"\\udf06\\ud834"'!==we("\udf06\ud834")||'"\\udead"'!==we("\udead")}),C=function(r,f){var y=ae(arguments),S=le(f);if(ie(S)||void 0!==r&&!ne(r))return y[1]=function(r,f){if(ie(S)&&(f=k(S,this,ve(r),f)),!ne(f))return f},D(we,null,y)},A=function(r,f,y){var S=Ae(y,f-1),R=Ae(y,f+1);return Pe(Te,r)&&!Pe(ke,R)||Pe(ke,r)&&!Pe(Te,S)?"\\u"+Ce(Se(r,0),16):r};we&&S({target:"JSON",stat:!0,arity:3,forced:je||Ee},{stringify:function(r,f,y){var S=ae(arguments),R=D(je?C:we,null,S);return Ee&&"string"==typeof R?Re(R,De,A):R}})},6167:(r,f,y)=>{"use strict";var S=y(6518),R=y(9565),D=y(9306),k=y(6043),F=y(1103),M=y(2652);S({target:"Promise",stat:!0,forced:y(537)},{allSettled:function(r){var f=this,y=k.f(f),S=y.resolve,ie=y.reject,ne=F(function(){var y=D(f.resolve),k=[],F=0,ie=1;M(r,function(r){var D=F++,M=!1;ie++,R(y,f,r).then(function(r){M||(M=!0,k[D]={status:"fulfilled",value:r},--ie||S(k))},function(r){M||(M=!0,k[D]={status:"rejected",reason:r},--ie||S(k))})}),--ie||S(k)});return ne.error&&ie(ne.value),y.promise}})},9391:(r,f,y)=>{"use strict";var S=y(6518),R=y(6395),D=y(550),k=y(9039),F=y(7751),M=y(4901),ie=y(2293),ne=y(3438),ae=y(6840),le=D&&D.prototype;if(S({target:"Promise",proto:!0,real:!0,forced:!!D&&k(function(){le.finally.call({then:function(){}},function(){})})},{finally:function(r){var f=ie(this,F("Promise")),y=M(r);return this.then(y?function(y){return ne(f,r()).then(function(){return y})}:r,y?function(y){return ne(f,r()).then(function(){throw y})}:r)}}),!R&&M(D)){var be=F("Promise").prototype.finally;le.finally!==be&&ae(le,"finally",be,{unsafe:!0})}},7495:(r,f,y)=>{"use strict";var S=y(6518),R=y(7323);S({target:"RegExp",proto:!0,forced:/./.exec!==R},{exec:R})},7337:(r,f,y)=>{"use strict";var S=y(6518),R=y(9504),D=y(5610),k=RangeError,F=String.fromCharCode,M=String.fromCodePoint,ie=R([].join);S({target:"String",stat:!0,arity:1,forced:!!M&&1!==M.length},{fromCodePoint:function(r){for(var f,y=[],S=arguments.length,R=0;S>R;){if(f=+arguments[R++],D(f,1114111)!==f)throw new k(f+" is not a valid code point");y[R]=f<65536?F(f):F(55296+((f-=65536)>>10),f%1024+56320)}return ie(y,"")}})},7764:(r,f,y)=>{"use strict";var S=y(8183).charAt,R=y(655),D=y(1181),k=y(1088),F=y(2529),M="String Iterator",ie=D.set,ne=D.getterFor(M);k(String,"String",function(r){ie(this,{type:M,string:R(r),index:0})},function(){var r,f=ne(this),y=f.string,R=f.index;return R>=y.length?F(void 0,!0):(r=S(y,R),f.index+=r.length,F(r,!1))})},5440:(r,f,y)=>{"use strict";var S=y(8745),R=y(9565),D=y(9504),k=y(9228),F=y(9039),M=y(8551),ie=y(4901),ne=y(4117),ae=y(1291),le=y(8014),be=y(655),ve=y(7750),we=y(7829),Pe=y(5966),Ae=y(2478),Se=y(6682),Re=y(8227)("replace"),Ce=Math.max,De=Math.min,Te=D([].concat),ke=D([].push),je=D("".indexOf),Ee=D("".slice),Ne="$0"==="a".replace(/./,"$0"),Fe=!!/./[Re]&&""===/./[Re]("a","$0");k("replace",function(r,f,y){var D=Fe?"$":"$0";return[function(r,y){var S=ve(this),D=ne(r)?void 0:Pe(r,Re);return D?R(D,r,S,y):R(f,be(S),r,y)},function(r,R){var k=M(this),F=be(r);if("string"==typeof R&&-1===je(R,D)&&-1===je(R,"$<")){var ne=y(f,k,F,R);if(ne.done)return ne.value}var ve=ie(R);ve||(R=be(R));var Pe,Re=k.global;Re&&(Pe=k.unicode,k.lastIndex=0);for(var Ne,Fe=[];null!==(Ne=Se(k,F))&&(ke(Fe,Ne),Re);)""===be(Ne[0])&&(k.lastIndex=we(F,le(k.lastIndex),Pe));for(var Oe,xe="",Me=0,Ue=0;Ue<Fe.length;Ue++){for(var We,He=be((Ne=Fe[Ue])[0]),qe=Ce(De(ae(Ne.index),F.length),0),ze=[],Ge=1;Ge<Ne.length;Ge++)ke(ze,void 0===(Oe=Ne[Ge])?Oe:String(Oe));var Je=Ne.groups;if(ve){var Ve=Te([He],ze,qe,F);void 0!==Je&&ke(Ve,Je),We=be(S(R,void 0,Ve))}else We=Ae(He,F,qe,ze,Je,R);qe>=Me&&(xe+=Ee(F,Me,qe)+We,Me=qe+He.length)}return xe+Ee(F,Me)}]},!!F(function(){var r=/./;return r.exec=function(){var r=[];return r.groups={a:"7"},r},"7"!=="".replace(r,"$<a>")})||!Ne||Fe)},8140:(r,f,y)=>{"use strict";var S=y(4644),R=y(6198),D=y(1291),k=S.aTypedArray;(0,S.exportTypedArrayMethod)("at",function(r){var f=k(this),y=R(f),S=D(r),F=S>=0?S:y+S;return F<0||F>=y?void 0:f[F]})},5044:(r,f,y)=>{"use strict";var S=y(4644),R=y(4373),D=y(5854),k=y(6955),F=y(9565),M=y(9504),ie=y(9039),ne=S.aTypedArray,ae=S.exportTypedArrayMethod,le=M("".slice);ae("fill",function(r){var f=arguments.length;ne(this);var y="Big"===le(k(this),0,3)?D(r):+r;return F(R,this,y,f>1?arguments[1]:void 0,f>2?arguments[2]:void 0)},ie(function(){var r=0;return new Int8Array(2).fill({valueOf:function(){return r++}}),1!==r}))},1134:(r,f,y)=>{"use strict";var S=y(4644),R=y(3839).findLastIndex,D=S.aTypedArray;(0,S.exportTypedArrayMethod)("findLastIndex",function(r){return R(D(this),r,arguments.length>1?arguments[1]:void 0)})},1903:(r,f,y)=>{"use strict";var S=y(4644),R=y(3839).findLast,D=S.aTypedArray;(0,S.exportTypedArrayMethod)("findLast",function(r){return R(D(this),r,arguments.length>1?arguments[1]:void 0)})},5477:(r,f,y)=>{"use strict";y(5823)("Int32",function(r){return function(f,y,S){return r(this,f,y,S)}})},6594:(r,f,y)=>{"use strict";y(5823)("Int8",function(r){return function(f,y,S){return r(this,f,y,S)}})},8845:(r,f,y)=>{"use strict";var S=y(4576),R=y(9565),D=y(4644),k=y(6198),F=y(8229),M=y(8981),ie=y(9039),ne=S.RangeError,ae=S.Int8Array,le=ae&&ae.prototype,be=le&&le.set,ve=D.aTypedArray,we=D.exportTypedArrayMethod,Pe=!ie(function(){var r=new Uint8ClampedArray(2);return R(be,r,{length:1,0:3},1),3!==r[1]}),Ae=Pe&&D.NATIVE_ARRAY_BUFFER_VIEWS&&ie(function(){var r=new ae(2);return r.set(1),r.set("2",1),0!==r[0]||2!==r[1]});we("set",function(r){ve(this);var f=F(arguments.length>1?arguments[1]:void 0,1),y=M(r);if(Pe)return R(be,this,y,f);var S=this.length,D=k(y),ie=0;if(D+f>S)throw new ne("Wrong length");for(;ie<D;)this[f+ie]=y[ie++]},!Pe||Ae)},373:(r,f,y)=>{"use strict";var S=y(4576),R=y(7476),D=y(9039),k=y(9306),F=y(4488),M=y(4644),ie=y(3709),ne=y(3763),ae=y(9519),le=y(3607),be=M.aTypedArray,ve=M.exportTypedArrayMethod,we=S.Uint16Array,Pe=we&&R(we.prototype.sort),Ae=!(!Pe||D(function(){Pe(new we(2),null)})&&D(function(){Pe(new we(2),{})})),Se=!!Pe&&!D(function(){if(ae)return ae<74;if(ie)return ie<67;if(ne)return!0;if(le)return le<602;var r,f,y=new we(516),S=Array(516);for(r=0;r<516;r++)f=r%4,y[r]=515-r,S[r]=r-2*f+3;for(Pe(y,function(r,f){return(r/4|0)-(f/4|0)}),r=0;r<516;r++)if(y[r]!==S[r])return!0});ve("sort",function(r){return void 0!==r&&k(r),Se?Pe(this,r):F(be(this),function(r){return function(f,y){return void 0!==r?+r(f,y)||0:y!=y?-1:f!=f?1:0===f&&0===y?1/f>0&&1/y<0?1:-1:f>y}}(r))},!Se||Ae)},1740:(r,f,y)=>{"use strict";y(5823)("Uint32",function(r){return function(f,y,S){return r(this,f,y,S)}})},1489:(r,f,y)=>{"use strict";y(5823)("Uint8",function(r){return function(f,y,S){return r(this,f,y,S)}})},2134:(r,f,y)=>{"use strict";y(5823)("Uint8",function(r){return function(f,y,S){return r(this,f,y,S)}},!0)},1839:(r,f,y)=>{"use strict";y(8140)},6847:(r,f,y)=>{"use strict";y(1134)},1706:(r,f,y)=>{"use strict";y(1903)},2953:(r,f,y)=>{"use strict";var S=y(4576),R=y(7400),D=y(9296),k=y(3792),F=y(6699),M=y(687),ie=y(8227)("iterator"),ne=k.values,d=function(r,f){if(r){if(r[ie]!==ne)try{F(r,ie,ne)}catch(f){r[ie]=ne}if(M(r,f,!0),R[f])for(var y in k)if(r[y]!==k[y])try{F(r,y,k[y])}catch(f){r[y]=k[y]}}};for(var ae in R)d(S[ae]&&S[ae].prototype,ae);d(D,"DOMTokenList")},8406:(r,f,y)=>{"use strict";y(3792),y(7337);var S=y(6518),R=y(4576),D=y(3389),k=y(7751),F=y(9565),M=y(9504),ie=y(3724),ne=y(7416),ae=y(6840),le=y(2106),be=y(6279),ve=y(687),we=y(3994),Pe=y(1181),Ae=y(679),Se=y(4901),Re=y(9297),Ce=y(6080),De=y(6955),Te=y(8551),ke=y(34),je=y(655),Ee=y(2360),Ne=y(6980),Fe=y(81),Oe=y(851),xe=y(2529),Me=y(2812),Ue=y(8227),We=y(4488),He=Ue("iterator"),qe="URLSearchParams",ze=qe+"Iterator",Ge=Pe.set,Je=Pe.getterFor(qe),Ve=Pe.getterFor(ze),Ke=D("fetch"),$e=D("Request"),Ze=D("Headers"),Qe=$e&&$e.prototype,Xe=Ze&&Ze.prototype,Ye=R.TypeError,et=R.encodeURIComponent,tt=String.fromCharCode,rt=k("String","fromCodePoint"),it=parseInt,nt=M("".charAt),st=M([].join),at=M([].push),ot=M("".replace),ct=M([].shift),dt=M([].splice),lt=M("".split),ut=M("".slice),ht=M(/./.exec),pt=/\+/g,ft=/^[0-9a-f]+$/i,se=function(r,f){var y=ut(r,f,f+2);return ht(ft,y)?it(y,16):NaN},oe=function(r){for(var f=0,y=128;y>0&&r&y;y>>=1)f++;return f},ce=function(r){var f=null;switch(r.length){case 1:f=r[0];break;case 2:f=(31&r[0])<<6|63&r[1];break;case 3:f=(15&r[0])<<12|(63&r[1])<<6|63&r[2];break;case 4:f=(7&r[0])<<18|(63&r[1])<<12|(63&r[2])<<6|63&r[3]}return f>1114111?null:f},ue=function(r){for(var f=(r=ot(r,pt," ")).length,y="",S=0;S<f;){var R=nt(r,S);if("%"===R){if("%"===nt(r,S+1)||S+3>f){y+="%",S++;continue}var D=se(r,S+1);if(D!=D){y+=R,S++;continue}S+=2;var k=oe(D);if(0===k)R=tt(D);else{if(1===k||k>4){y+="",S++;continue}for(var F=[D],M=1;M<k&&!(3+ ++S>f||"%"!==nt(r,S));){var ie=se(r,S+1);if(ie!=ie){S+=3;break}if(ie>191||ie<128)break;at(F,ie),S+=2,M++}if(F.length!==k){y+="";continue}var ne=ce(F);null===ne?y+="":R=rt(ne)}}y+=R,S++}return y},mt=/[!'()~]|%20/g,gt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},he=function(r){return gt[r]},fe=function(r){return ot(et(r),mt,he)},_t=we(function(r,f){Ge(this,{type:ze,target:Je(r).entries,index:0,kind:f})},qe,function(){var r=Ve(this),f=r.target,y=r.index++;if(!f||y>=f.length)return r.target=null,xe(void 0,!0);var S=f[y];switch(r.kind){case"keys":return xe(S.key,!1);case"values":return xe(S.value,!1)}return xe([S.key,S.value],!1)},!0),ge=function(r){this.entries=[],this.url=null,void 0!==r&&(ke(r)?this.parseObject(r):this.parseQuery("string"==typeof r?"?"===nt(r,0)?ut(r,1):r:je(r)))};ge.prototype={type:qe,bindURL:function(r){this.url=r,this.update()},parseObject:function(r){var f,y,S,R,D,k,M,ie=this.entries,ne=Oe(r);if(ne)for(y=(f=Fe(r,ne)).next;!(S=F(y,f)).done;){if(D=(R=Fe(Te(S.value))).next,(k=F(D,R)).done||(M=F(D,R)).done||!F(D,R).done)throw new Ye("Expected sequence with length 2");at(ie,{key:je(k.value),value:je(M.value)})}else for(var ae in r)Re(r,ae)&&at(ie,{key:ae,value:je(r[ae])})},parseQuery:function(r){if(r)for(var f,y,S=this.entries,R=lt(r,"&"),D=0;D<R.length;)(f=R[D++]).length&&(y=lt(f,"="),at(S,{key:ue(ct(y)),value:ue(st(y,"="))}))},serialize:function(){for(var r,f=this.entries,y=[],S=0;S<f.length;)r=f[S++],at(y,fe(r.key)+"="+fe(r.value));return st(y,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var me=function(){Ae(this,bt);var r=Ge(this,new ge(arguments.length>0?arguments[0]:void 0));ie||(this.size=r.entries.length)},bt=me.prototype;if(be(bt,{append:function(r,f){var y=Je(this);Me(arguments.length,2),at(y.entries,{key:je(r),value:je(f)}),ie||this.length++,y.updateURL()},delete:function(r){for(var f=Je(this),y=Me(arguments.length,1),S=f.entries,R=je(r),D=y<2?void 0:arguments[1],k=void 0===D?D:je(D),F=0;F<S.length;){var M=S[F];if(M.key!==R||void 0!==k&&M.value!==k)F++;else if(dt(S,F,1),void 0!==k)break}ie||(this.size=S.length),f.updateURL()},get:function(r){var f=Je(this).entries;Me(arguments.length,1);for(var y=je(r),S=0;S<f.length;S++)if(f[S].key===y)return f[S].value;return null},getAll:function(r){var f=Je(this).entries;Me(arguments.length,1);for(var y=je(r),S=[],R=0;R<f.length;R++)f[R].key===y&&at(S,f[R].value);return S},has:function(r){for(var f=Je(this).entries,y=Me(arguments.length,1),S=je(r),R=y<2?void 0:arguments[1],D=void 0===R?R:je(R),k=0;k<f.length;){var F=f[k++];if(F.key===S&&(void 0===D||F.value===D))return!0}return!1},set:function(r,f){var y=Je(this);Me(arguments.length,1);for(var S,R=y.entries,D=!1,k=je(r),F=je(f),M=0;M<R.length;M++)(S=R[M]).key===k&&(D?dt(R,M--,1):(D=!0,S.value=F));D||at(R,{key:k,value:F}),ie||(this.size=R.length),y.updateURL()},sort:function(){var r=Je(this);We(r.entries,function(r,f){return r.key>f.key?1:-1}),r.updateURL()},forEach:function(r){for(var f,y=Je(this).entries,S=Ce(r,arguments.length>1?arguments[1]:void 0),R=0;R<y.length;)S((f=y[R++]).value,f.key,this)},keys:function(){return new _t(this,"keys")},values:function(){return new _t(this,"values")},entries:function(){return new _t(this,"entries")}},{enumerable:!0}),ae(bt,He,bt.entries,{name:"entries"}),ae(bt,"toString",function(){return Je(this).serialize()},{enumerable:!0}),ie&&le(bt,"size",{get:function(){return Je(this).entries.length},configurable:!0,enumerable:!0}),ve(me,qe),S({global:!0,constructor:!0,forced:!ne},{URLSearchParams:me}),!ne&&Se(Ze)){var vt=M(Xe.has),Pt=M(Xe.set),_e=function(r){if(ke(r)){var f,y=r.body;if(De(y)===qe)return f=r.headers?new Ze(r.headers):new Ze,vt(f,"content-type")||Pt(f,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),Ee(r,{body:Ne(0,je(y)),headers:Ne(0,f)})}return r};if(Se(Ke)&&S({global:!0,enumerable:!0,dontCallGetSet:!0,forced:!0},{fetch:function(r){return Ke(r,arguments.length>1?_e(arguments[1]):{})}}),Se($e)){var ye=function(r){return Ae(this,Qe),new $e(r,arguments.length>1?_e(arguments[1]):{})};Qe.constructor=ye,ye.prototype=Qe,S({global:!0,constructor:!0,dontCallGetSet:!0,forced:!0},{Request:ye})}}r.exports={URLSearchParams:me,getState:Je}},8408:(r,f,y)=>{"use strict";y(8406)},5806:(r,f,y)=>{"use strict";y(7764);var S,R=y(6518),D=y(3724),k=y(7416),F=y(4576),M=y(6080),ie=y(9504),ne=y(6840),ae=y(2106),le=y(679),be=y(9297),ve=y(4213),we=y(7916),Pe=y(7680),Ae=y(8183).codeAt,Se=y(6098),Re=y(655),Ce=y(687),De=y(2812),Te=y(8406),ke=y(1181),je=ke.set,Ee=ke.getterFor("URL"),Ne=Te.URLSearchParams,Fe=Te.getState,Oe=F.URL,xe=F.TypeError,Me=F.parseInt,Ue=Math.floor,We=Math.pow,He=ie("".charAt),qe=ie(/./.exec),ze=ie([].join),Ge=ie(1..toString),Je=ie([].pop),Ve=ie([].push),Ke=ie("".replace),$e=ie([].shift),Ze=ie("".split),Qe=ie("".slice),Xe=ie("".toLowerCase),Ye=ie([].unshift),et="Invalid scheme",tt="Invalid host",rt="Invalid port",it=/[a-z]/i,nt=/[\d+-.a-z]/i,st=/\d/,at=/^0x/i,ot=/^[0-7]+$/,ct=/^\d+$/,dt=/^[\da-f]+$/i,lt=/[\0\t\n\r #%/:<>?@[\\\]^|]/,ut=/[\0\t\n\r #/:<>?@[\\\]^|]/,ht=/^[\u0000-\u0020]+/,pt=/(^|[^\u0000-\u0020])[\u0000-\u0020]+$/,ft=/[\t\n\r]/g,se=function(r){var f,y,S,R;if("number"==typeof r){for(f=[],y=0;y<4;y++)Ye(f,r%256),r=Ue(r/256);return ze(f,".")}if("object"==typeof r){for(f="",S=function(r){for(var f=null,y=1,S=null,R=0,D=0;D<8;D++)0!==r[D]?(R>y&&(f=S,y=R),S=null,R=0):(null===S&&(S=D),++R);return R>y?S:f}(r),y=0;y<8;y++)R&&0===r[y]||(R&&(R=!1),S===y?(f+=y?":":"::",R=!0):(f+=Ge(r[y],16),y<7&&(f+=":")));return"["+f+"]"}return r},mt={},gt=ve({},mt,{" ":1,'"':1,"<":1,">":1,"`":1}),_t=ve({},gt,{"#":1,"?":1,"{":1,"}":1}),bt=ve({},_t,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),de=function(r,f){var y=Ae(r,0);return y>32&&y<127&&!be(f,r)?r:encodeURIComponent(r)},vt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},fe=function(r,f){var y;return 2===r.length&&qe(it,He(r,0))&&(":"===(y=He(r,1))||!f&&"|"===y)},pe=function(r){var f;return r.length>1&&fe(Qe(r,0,2))&&(2===r.length||"/"===(f=He(r,2))||"\\"===f||"?"===f||"#"===f)},ge=function(r){return"."===r||"%2e"===Xe(r)},Pt={},yt={},At={},St={},Rt={},Ct={},Dt={},It={},jt={},Et={},Nt={},Ft={},Ot={},xt={},Mt={},Lt={},Wt={},Ht={},qt={},zt={},Gt={},Le=function(r,f,y){var S,R,D,k=Re(r);if(f){if(R=this.parse(k))throw new xe(R);this.searchParams=null}else{if(void 0!==y&&(S=new Le(y,!0)),R=this.parse(k,null,S))throw new xe(R);(D=Fe(new Ne)).bindURL(this),this.searchParams=D}};Le.prototype={type:"URL",parse:function(r,f,y){var R,D,k,F,M,ie=this,ne=f||Pt,ae=0,le="",ve=!1,Ae=!1,Se=!1;for(r=Re(r),f||(ie.scheme="",ie.username="",ie.password="",ie.host=null,ie.port=null,ie.path=[],ie.query=null,ie.fragment=null,ie.cannotBeABaseURL=!1,r=Ke(r,ht,""),r=Ke(r,pt,"$1")),r=Ke(r,ft,""),R=we(r);ae<=R.length;){switch(D=R[ae],ne){case Pt:if(!D||!qe(it,D)){if(f)return et;ne=At;continue}le+=Xe(D),ne=yt;break;case yt:if(D&&(qe(nt,D)||"+"===D||"-"===D||"."===D))le+=Xe(D);else{if(":"!==D){if(f)return et;le="",ne=At,ae=0;continue}if(f&&(ie.isSpecial()!==be(vt,le)||"file"===le&&(ie.includesCredentials()||null!==ie.port)||"file"===ie.scheme&&!ie.host))return;if(ie.scheme=le,f)return void(ie.isSpecial()&&vt[ie.scheme]===ie.port&&(ie.port=null));le="","file"===ie.scheme?ne=xt:ie.isSpecial()&&y&&y.scheme===ie.scheme?ne=St:ie.isSpecial()?ne=It:"/"===R[ae+1]?(ne=Rt,ae++):(ie.cannotBeABaseURL=!0,Ve(ie.path,""),ne=qt)}break;case At:if(!y||y.cannotBeABaseURL&&"#"!==D)return et;if(y.cannotBeABaseURL&&"#"===D){ie.scheme=y.scheme,ie.path=Pe(y.path),ie.query=y.query,ie.fragment="",ie.cannotBeABaseURL=!0,ne=Gt;break}ne="file"===y.scheme?xt:Ct;continue;case St:if("/"!==D||"/"!==R[ae+1]){ne=Ct;continue}ne=jt,ae++;break;case Rt:if("/"===D){ne=Et;break}ne=Ht;continue;case Ct:if(ie.scheme=y.scheme,D===S)ie.username=y.username,ie.password=y.password,ie.host=y.host,ie.port=y.port,ie.path=Pe(y.path),ie.query=y.query;else if("/"===D||"\\"===D&&ie.isSpecial())ne=Dt;else if("?"===D)ie.username=y.username,ie.password=y.password,ie.host=y.host,ie.port=y.port,ie.path=Pe(y.path),ie.query="",ne=zt;else{if("#"!==D){ie.username=y.username,ie.password=y.password,ie.host=y.host,ie.port=y.port,ie.path=Pe(y.path),ie.path.length--,ne=Ht;continue}ie.username=y.username,ie.password=y.password,ie.host=y.host,ie.port=y.port,ie.path=Pe(y.path),ie.query=y.query,ie.fragment="",ne=Gt}break;case Dt:if(!ie.isSpecial()||"/"!==D&&"\\"!==D){if("/"!==D){ie.username=y.username,ie.password=y.password,ie.host=y.host,ie.port=y.port,ne=Ht;continue}ne=Et}else ne=jt;break;case It:if(ne=jt,"/"!==D||"/"!==He(le,ae+1))continue;ae++;break;case jt:if("/"!==D&&"\\"!==D){ne=Et;continue}break;case Et:if("@"===D){ve&&(le="%40"+le),ve=!0,k=we(le);for(var Ce=0;Ce<k.length;Ce++){var De=k[Ce];if(":"!==De||Se){var Te=de(De,bt);Se?ie.password+=Te:ie.username+=Te}else Se=!0}le=""}else if(D===S||"/"===D||"?"===D||"#"===D||"\\"===D&&ie.isSpecial()){if(ve&&""===le)return"Invalid authority";ae-=we(le).length+1,le="",ne=Nt}else le+=D;break;case Nt:case Ft:if(f&&"file"===ie.scheme){ne=Lt;continue}if(":"!==D||Ae){if(D===S||"/"===D||"?"===D||"#"===D||"\\"===D&&ie.isSpecial()){if(ie.isSpecial()&&""===le)return tt;if(f&&""===le&&(ie.includesCredentials()||null!==ie.port))return;if(F=ie.parseHost(le))return F;if(le="",ne=Wt,f)return;continue}"["===D?Ae=!0:"]"===D&&(Ae=!1),le+=D}else{if(""===le)return tt;if(F=ie.parseHost(le))return F;if(le="",ne=Ot,f===Ft)return}break;case Ot:if(!qe(st,D)){if(D===S||"/"===D||"?"===D||"#"===D||"\\"===D&&ie.isSpecial()||f){if(""!==le){var ke=Me(le,10);if(ke>65535)return rt;ie.port=ie.isSpecial()&&ke===vt[ie.scheme]?null:ke,le=""}if(f)return;ne=Wt;continue}return rt}le+=D;break;case xt:if(ie.scheme="file","/"===D||"\\"===D)ne=Mt;else{if(!y||"file"!==y.scheme){ne=Ht;continue}switch(D){case S:ie.host=y.host,ie.path=Pe(y.path),ie.query=y.query;break;case"?":ie.host=y.host,ie.path=Pe(y.path),ie.query="",ne=zt;break;case"#":ie.host=y.host,ie.path=Pe(y.path),ie.query=y.query,ie.fragment="",ne=Gt;break;default:pe(ze(Pe(R,ae),""))||(ie.host=y.host,ie.path=Pe(y.path),ie.shortenPath()),ne=Ht;continue}}break;case Mt:if("/"===D||"\\"===D){ne=Lt;break}y&&"file"===y.scheme&&!pe(ze(Pe(R,ae),""))&&(fe(y.path[0],!0)?Ve(ie.path,y.path[0]):ie.host=y.host),ne=Ht;continue;case Lt:if(D===S||"/"===D||"\\"===D||"?"===D||"#"===D){if(!f&&fe(le))ne=Ht;else if(""===le){if(ie.host="",f)return;ne=Wt}else{if(F=ie.parseHost(le))return F;if("localhost"===ie.host&&(ie.host=""),f)return;le="",ne=Wt}continue}le+=D;break;case Wt:if(ie.isSpecial()){if(ne=Ht,"/"!==D&&"\\"!==D)continue}else if(f||"?"!==D)if(f||"#"!==D){if(D!==S&&(ne=Ht,"/"!==D))continue}else ie.fragment="",ne=Gt;else ie.query="",ne=zt;break;case Ht:if(D===S||"/"===D||"\\"===D&&ie.isSpecial()||!f&&("?"===D||"#"===D)){if(".."===(M=Xe(M=le))||"%2e."===M||".%2e"===M||"%2e%2e"===M?(ie.shortenPath(),"/"===D||"\\"===D&&ie.isSpecial()||Ve(ie.path,"")):ge(le)?"/"===D||"\\"===D&&ie.isSpecial()||Ve(ie.path,""):("file"===ie.scheme&&!ie.path.length&&fe(le)&&(ie.host&&(ie.host=""),le=He(le,0)+":"),Ve(ie.path,le)),le="","file"===ie.scheme&&(D===S||"?"===D||"#"===D))for(;ie.path.length>1&&""===ie.path[0];)$e(ie.path);"?"===D?(ie.query="",ne=zt):"#"===D&&(ie.fragment="",ne=Gt)}else le+=de(D,_t);break;case qt:"?"===D?(ie.query="",ne=zt):"#"===D?(ie.fragment="",ne=Gt):D!==S&&(ie.path[0]+=de(D,mt));break;case zt:f||"#"!==D?D!==S&&("'"===D&&ie.isSpecial()?ie.query+="%27":ie.query+="#"===D?"%23":de(D,mt)):(ie.fragment="",ne=Gt);break;case Gt:D!==S&&(ie.fragment+=de(D,gt))}ae++}},parseHost:function(r){var f,y,S;if("["===He(r,0)){if("]"!==He(r,r.length-1))return tt;if(f=function(r){var f,y,S,R,D,k,F,M=[0,0,0,0,0,0,0,0],ie=0,ne=null,ae=0,h=function(){return He(r,ae)};if(":"===h()){if(":"!==He(r,1))return;ae+=2,ne=++ie}for(;h();){if(8===ie)return;if(":"!==h()){for(f=y=0;y<4&&qe(dt,h());)f=16*f+Me(h(),16),ae++,y++;if("."===h()){if(0===y)return;if(ae-=y,ie>6)return;for(S=0;h();){if(R=null,S>0){if(!("."===h()&&S<4))return;ae++}if(!qe(st,h()))return;for(;qe(st,h());){if(D=Me(h(),10),null===R)R=D;else{if(0===R)return;R=10*R+D}if(R>255)return;ae++}M[ie]=256*M[ie]+R,2!=++S&&4!==S||ie++}if(4!==S)return;break}if(":"===h()){if(ae++,!h())return}else if(h())return;M[ie++]=f}else{if(null!==ne)return;ae++,ne=++ie}}if(null!==ne)for(k=ie-ne,ie=7;0!==ie&&k>0;)F=M[ie],M[ie--]=M[ne+k-1],M[ne+--k]=F;else if(8!==ie)return;return M}(Qe(r,1,-1)),!f)return tt;this.host=f}else if(this.isSpecial()){if(r=Se(r),qe(lt,r))return tt;if(f=function(r){var f,y,S,R,D,k,F,M=Ze(r,".");if(M.length&&""===M[M.length-1]&&M.length--,(f=M.length)>4)return r;for(y=[],S=0;S<f;S++){if(""===(R=M[S]))return r;if(D=10,R.length>1&&"0"===He(R,0)&&(D=qe(at,R)?16:8,R=Qe(R,8===D?1:2)),""===R)k=0;else{if(!qe(10===D?ct:8===D?ot:dt,R))return r;k=Me(R,D)}Ve(y,k)}for(S=0;S<f;S++)if(k=y[S],S===f-1){if(k>=We(256,5-f))return null}else if(k>255)return null;for(F=Je(y),S=0;S<y.length;S++)F+=y[S]*We(256,3-S);return F}(r),null===f)return tt;this.host=f}else{if(qe(ut,r))return tt;for(f="",y=we(r),S=0;S<y.length;S++)f+=de(y[S],mt);this.host=f}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"===this.scheme},includesCredentials:function(){return""!==this.username||""!==this.password},isSpecial:function(){return be(vt,this.scheme)},shortenPath:function(){var r=this.path,f=r.length;!f||"file"===this.scheme&&1===f&&fe(r[0],!0)||r.length--},serialize:function(){var r=this,f=r.scheme,y=r.username,S=r.password,R=r.host,D=r.port,k=r.path,F=r.query,M=r.fragment,ie=f+":";return null!==R?(ie+="//",r.includesCredentials()&&(ie+=y+(S?":"+S:"")+"@"),ie+=se(R),null!==D&&(ie+=":"+D)):"file"===f&&(ie+="//"),ie+=r.cannotBeABaseURL?k[0]:k.length?"/"+ze(k,"/"):"",null!==F&&(ie+="?"+F),null!==M&&(ie+="#"+M),ie},setHref:function(r){var f=this.parse(r);if(f)throw new xe(f);this.searchParams.update()},getOrigin:function(){var r=this.scheme,f=this.port;if("blob"===r)try{return new Ie(r.path[0]).origin}catch(r){return"null"}return"file"!==r&&this.isSpecial()?r+"://"+se(this.host)+(null!==f?":"+f:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(r){this.parse(Re(r)+":",Pt)},getUsername:function(){return this.username},setUsername:function(r){var f=we(Re(r));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var y=0;y<f.length;y++)this.username+=de(f[y],bt)}},getPassword:function(){return this.password},setPassword:function(r){var f=we(Re(r));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var y=0;y<f.length;y++)this.password+=de(f[y],bt)}},getHost:function(){var r=this.host,f=this.port;return null===r?"":null===f?se(r):se(r)+":"+f},setHost:function(r){this.cannotBeABaseURL||this.parse(r,Nt)},getHostname:function(){var r=this.host;return null===r?"":se(r)},setHostname:function(r){this.cannotBeABaseURL||this.parse(r,Ft)},getPort:function(){var r=this.port;return null===r?"":Re(r)},setPort:function(r){this.cannotHaveUsernamePasswordPort()||(""===(r=Re(r))?this.port=null:this.parse(r,Ot))},getPathname:function(){var r=this.path;return this.cannotBeABaseURL?r[0]:r.length?"/"+ze(r,"/"):""},setPathname:function(r){this.cannotBeABaseURL||(this.path=[],this.parse(r,Wt))},getSearch:function(){var r=this.query;return r?"?"+r:""},setSearch:function(r){""===(r=Re(r))?this.query=null:("?"===He(r,0)&&(r=Qe(r,1)),this.query="",this.parse(r,zt)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var r=this.fragment;return r?"#"+r:""},setHash:function(r){""!==(r=Re(r))?("#"===He(r,0)&&(r=Qe(r,1)),this.fragment="",this.parse(r,Gt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Ie=function(r){var f=le(this,Jt),y=De(arguments.length,1)>1?arguments[1]:void 0,S=je(f,new Le(r,!1,y));D||(f.href=S.serialize(),f.origin=S.getOrigin(),f.protocol=S.getProtocol(),f.username=S.getUsername(),f.password=S.getPassword(),f.host=S.getHost(),f.hostname=S.getHostname(),f.port=S.getPort(),f.pathname=S.getPathname(),f.search=S.getSearch(),f.searchParams=S.getSearchParams(),f.hash=S.getHash())},Jt=Ie.prototype,Be=function(r,f){return{get:function(){return Ee(this)[r]()},set:f&&function(r){return Ee(this)[f](r)},configurable:!0,enumerable:!0}};if(D&&(ae(Jt,"href",Be("serialize","setHref")),ae(Jt,"origin",Be("getOrigin")),ae(Jt,"protocol",Be("getProtocol","setProtocol")),ae(Jt,"username",Be("getUsername","setUsername")),ae(Jt,"password",Be("getPassword","setPassword")),ae(Jt,"host",Be("getHost","setHost")),ae(Jt,"hostname",Be("getHostname","setHostname")),ae(Jt,"port",Be("getPort","setPort")),ae(Jt,"pathname",Be("getPathname","setPathname")),ae(Jt,"search",Be("getSearch","setSearch")),ae(Jt,"searchParams",Be("getSearchParams")),ae(Jt,"hash",Be("getHash","setHash"))),ne(Jt,"toJSON",function(){return Ee(this).serialize()},{enumerable:!0}),ne(Jt,"toString",function(){return Ee(this).serialize()},{enumerable:!0}),Oe){var Vt=Oe.createObjectURL,Kt=Oe.revokeObjectURL;Vt&&ne(Ie,"createObjectURL",M(Vt,Oe)),Kt&&ne(Ie,"revokeObjectURL",M(Kt,Oe))}Ce(Ie,"URL"),R({global:!0,constructor:!0,forced:!k,sham:!D},{URL:Ie})},3296:(r,f,y)=>{"use strict";y(5806)},7208:(r,f,y)=>{"use strict";var S=y(6518),R=y(9565);S({target:"URL",proto:!0,enumerable:!0},{toJSON:function(){return R(URL.prototype.toString,this)}})}},R={};function i(r){var f=R[r];if(void 0!==f)return f.exports;var y=R[r]={exports:{}};return S[r].call(y.exports,y,y.exports,i),y.exports}i.m=S,i.amdO={},i.n=r=>{var f=r&&r.__esModule?()=>r.default:()=>r;return i.d(f,{a:f}),f},i.d=(r,f)=>{for(var y in f)i.o(f,y)&&!i.o(r,y)&&Object.defineProperty(r,y,{enumerable:!0,get:f[y]})},i.f={},i.e=r=>Promise.all(Object.keys(i.f).reduce((f,y)=>(i.f[y](r,f),f),[])),i.u=r=>r+"."+{"vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js":"bc321eef753fef250e7d","src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js":"504e791ee1e82c9c864f",X509Certificate:"0f8116c01378c416ae4c",X509CRL:"24471859c8d7f651c929"}[r]+".js",i.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),i.o=(r,f)=>Object.prototype.hasOwnProperty.call(r,f),f={},y="@ajsprivate/acrobatjs:",i.l=(r,S,R,D)=>{if(f[r])f[r].push(S);else{var k,F;if(void 0!==R)for(var M=document.getElementsByTagName("script"),ie=0;ie<M.length;ie++){var ne=M[ie];if(ne.getAttribute("src")==r||ne.getAttribute("data-webpack")==y+R){k=ne;break}}k||(F=!0,(k=document.createElement("script")).charset="utf-8",k.timeout=120,i.nc&&k.setAttribute("nonce",i.nc),k.setAttribute("data-webpack",y+R),k.src=r),f[r]=[S];var h=(y,S)=>{k.onerror=k.onload=null,clearTimeout(ae);var R=f[r];if(delete f[r],k.parentNode&&k.parentNode.removeChild(k),R&&R.forEach(r=>r(S)),y)return y(S)},ae=setTimeout(h.bind(null,void 0,{type:"timeout",target:k}),12e4);k.onerror=h.bind(null,k.onerror),k.onload=h.bind(null,k.onload),F&&document.head.appendChild(k)}},i.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},(()=>{var r;i.g.importScripts&&(r=i.g.location+"");var f=i.g.document;if(!r&&f&&(f.currentScript&&"SCRIPT"===f.currentScript.tagName.toUpperCase()&&(r=f.currentScript.src),!r)){var y=f.getElementsByTagName("script");if(y.length)for(var S=y.length-1;S>-1&&(!r||!/^http(s?):/.test(r));)r=y[S--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),i.p=r})(),(()=>{var r={main:0};i.f.j=(f,y)=>{var S=i.o(r,f)?r[f]:void 0;if(0!==S)if(S)y.push(S[2]);else{var R=new Promise((y,R)=>S=r[f]=[y,R]);y.push(S[2]=R);var D=i.p+i.u(f),k=new Error;i.l(D,y=>{if(i.o(r,f)&&(0!==(S=r[f])&&(r[f]=void 0),S)){var R=y&&("load"===y.type?"missing":y.type),D=y&&y.target&&y.target.src;k.message="Loading chunk "+f+" failed.\n("+R+": "+D+")",k.name="ChunkLoadError",k.type=R,k.request=D,S[1](k)}},"chunk-"+f,f)}};var t=(f,y)=>{var S,R,[D,k,F]=y,M=0;if(D.some(f=>0!==r[f])){for(S in k)i.o(k,S)&&(i.m[S]=k[S]);F&&F(i)}for(f&&f(y);M<D.length;M++)R=D[M],i.o(r,R)&&r[R]&&r[R][0](),r[R]=0},f=self.webpackChunk_ajsprivate_acrobatjs=self.webpackChunk_ajsprivate_acrobatjs||[];f.forEach(t.bind(null,0)),f.push=t.bind(null,f.push.bind(f))})();var D={};(()=>{"use strict";i.r(D),i.d(D,{AcrobatJS:()=>zt,AcrobatJSSecurityHandler:()=>Pn,CertificateValidationInterface:()=>Sn,enums:()=>r});var r={};i.r(r),i.d(r,{AnnotType:()=>He,ColorPaletteKey:()=>Ge,ContentType:()=>ze,FTPDFToWebViewTranslationStatus:()=>Je,PageRequestType:()=>We,Permissions:()=>qe,ProcessingMode:()=>Ve,WasmSwitchingState:()=>Ke,WorkerRestartState:()=>$e,Workflow:()=>Ze}),i(4743),i(1745),i(9391),i(6594),i(1740),i(5044),i(8845),i(373),i(1839),i(1706),i(6847),i(2953),i(5477),i(1489),i(7495),i(5440),i(2134);const f=Object.freeze(["unknown",'"Kozuka Gothic Pr6N R", "Meiryo", "Hira Kaku Pro N", "Hira Min Pro N", "Noto Sans JP"','"Adobe Heiti Std", "SimSun", "ST Heiti SC", "Adobe Song Std"','"DF Kai Shu", "ST Heiti TC", "Adobe Fan Heiti Std", "MingLiU", "Li Hei Pro", "Adobe Ming Std"','"Gulim", "Apple Gothic", "Adobe Gothic Std", "GulimChe", "Apple Myungjo", "Adobe Myungjo Std"']),y=new class{constructor(){this._textDataMap={},this._fontNameMap={},this._canvas=document.createElement("canvas")}_getFontWidth(r){const f=this._canvas.getContext("2d");return f.font="10px ".concat(r),f.measureText("thequickbrownfoxjumpsovethelazydog").width}_fontAvailable(r){const f=this._getFontWidth("monospace"),y=this._getFontWidth("serif"),S=this._getFontWidth("sans-serif");return f!==this._getFontWidth('"'.concat(r,'",monospace'))||S!==this._getFontWidth('"'.concat(r,'",sans-serif'))||y!==this._getFontWidth('"'.concat(r,'",serif'))}_getCSSFontFaceString(r,y){if(void 0===this._fontNameMap[r.psName]){const y=r.bold?"bold ":"",S=r.italic?"italic ":"";this._fontNameMap[r.psName]="".concat(y+S,'10px "').concat(r.displayName?r.displayName:r.psName,'"'),this._textDataMap[r.psName]||(this._fontNameMap[r.psName]="".concat(y+S,"10px ").concat(f[r.language]))}return this._fontNameMap[r.psName].replace("10px","".concat(y,"px"))}_prepareContextForFontMatrix(r,f){const y=this._canvas.getContext("2d"),S=Math.ceil(1.65*f.size);this._canvas.setAttribute("height",S),this._canvas.setAttribute("width",S),y.font=this._getCSSFontFaceString(r,f.size);const R=-f.top,D=-f.left,k=1/f.size;return y.setTransform(f.a*k,f.b*k,-f.c*k,-f.d*k,D,R),y}_getBitmapForCharCode(r,f){r.save(),r.setTransform(1,0,0,1,0,0),r.clearRect(0,0,this._canvas.width,this._canvas.height),r.restore(),r.fillText(String.fromCharCode(f),0,0);const y=r.getImageData(0,0,this._canvas.width,this._canvas.height),S={width:y.width,height:y.height,data:new Uint8ClampedArray(y.width*y.height)};for(let r=0;r<y.width*y.height;r+=1)S.data[r]=y.data[4*r+3];return S}_logData(r){const f={},y="".concat(r.psName,"(").concat(r.displayName,")");return this._textDataMap[r.psName]?f[y]="ExactFont":r.allowFallback?f[y]="SystemDefault":f[y]="FauxFont",f}generateGlyphBitmap(r,f){const y={bitmaps:{}};if(!f)return y;const{matrix:S}=f;if(void 0===this._textDataMap[f.psName]){const r=this._fontAvailable(f.displayName?f.displayName:f.psName);this._textDataMap[f.psName]=r}if(y.analyticsData=this._logData(f),y[f.psName]=this._textDataMap[f.psName],!this._textDataMap[f.psName]&&!f.allowFallback)return y;const R=this._prepareContextForFontMatrix(f,S);return r.forEach(r=>{if(void 0===y.bitmaps[S.key+r]){const f=this._getBitmapForCharCode(R,r);y.bitmaps[S.key+r]=f}}),y}},S=15,R=20,k="ajs",j=r=>r&&"function"==typeof r,x=r=>{let f;for(f=r.length-1;f>=0&&!(r[f]>0);f--);r.splice(f+1)},N=(r,f)=>{const y=r.split(".").map(r=>parseInt(r,10)),S=f.split(".").map(r=>parseInt(r,10));x(y),x(S);const R=Math.min(y.length,S.length);for(let r=0;r<R;r+=1){if(y[r]>S[r])return 1;if(y[r]<S[r])return-1}return y.length===S.length?0:y.length<S.length?-1:1},L=()=>"undefined"!=typeof SharedArrayBuffer;i(5081),i(3296),i(7208),i(8408),Object.freeze({CACHED:"cached",UNCACHED:"uncached",UNKNOWN:"unknown"});const I=()=>performance.now()+performance.timeOrigin,W=r=>r-performance.timeOrigin;function B(r,f){return function(){return performance.mark("".concat(r,"Start")),f(...arguments).then(f=>(performance.mark("".concat(r,"End")),performance.measure(r,"".concat(r,"Start"),"".concat(r,"End")),f))}}const F="registerLicense",M="openPDF",ie="openCNPDF",ne="getPageRendition",ae="addMessagePort",le="verifyDigitalSignatures",be="createFormField",ve="updateFormField",we="deleteFormField",Pe="saveChangesToDoc",Ae="isFileQualifiedForLiquidMode",Se="translateToLiquidModeView",Re="getLiquidModeViewResource",Ce="applyCNFTPDFUpdates",De="getHtmlLocationForDocPoint",Te="getDocPointForHtmlLocation",ke="JSApi",je="editLinkAnnot",Ee="deleteLinkAnnot",Ne=[Ae,Se,Re,Ce,De,Te];let Fe=!1;const wt=function(){Fe&&console.log(...arguments)};var Oe=i(7232),xe=i.n(Oe);const kt=()=>(new(xe())).getBrowser(),Tt=r=>!(-1===N(r,"13.0")||(r=>1===N(r,"13.1"))(r)),Me=Object.freeze({INCORRECT_PASSWORD:3,LINEARIZATION_DICT_NOT_FOUND:4,INCOMPLETE_BUFFER_RANGES_DOWNLOADED:-1,SAB_INDEX_OUT_OF_BOUNDS:-2}),Ue=Object.freeze({INVALID_BUFFER:"Invalid buffer",INVALID_PAGE_NUM:"Invalid page number",SHARED_ARRAY_BUFFER_NOT_SUPPORTED:"Shared array buffer not supported",LINEARIZATION_DICT_NOT_FOUND:"Linearization dict not found",INCOMPLETE_BUFFER_RANGES_DOWNLOADED:"Incomplete pdf buffer ranges downloaded",SAB_INDEX_OUT_OF_BOUNDS:"Shared array buffer index is out of bounds",PASSWORD_PROTECTED_PDF_NOT_SUPPORTED_IN_LINEARIZED_WORKFLOW:"password protected pdf not supported in linearized workflow",INCORRECT_PASSWORD_ENTERED:"Incorrect password entered",INVALID_JWT_TOKEN:"Invalid JWT token"}),We=Object.freeze({PAGE:0,PAGE_CACHE:1,THUMBNAIL:2}),He=Object.freeze({TEXT:1,LINK:2,FREE_TEXT:4,LINE:8,SQUARE:16,CIRCLE:32,POLYGON:64,POLYLINE:128,HIGHLIGHT:256,UNDERLINE:512,SQUIGGLY:1024,STRIKEOUT:2048,CARET:4096,STAMP:8192,INK:16384,POPUP:32768,FILE_ATTACHMENT:65536,SOUND:131072,MOVIE:262144,SCREEN:524288,WIDGET:1048576,WATERMARK:2097152,THREE_D:4194304,FREE_TEXT_TYPEWRITER:8388608,ALL:4294967295,NONE:0}),qe=Object.freeze({PRINT:4,MODIFY_CONTENT:8,COPY_EXTRACT_CONTENT:16,COMMENTING:32,FORM_FILLING:256,COPY_EXTRACT_CONTENT_ACCESSIBILITY:512,DOCUMENT_ASSEMBLY:1024,HIGH_QUALITY_PRINT:2048}),ze=Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4}),Ge=Object.freeze({BACKGROUND:"background",TEXT:"text"}),Je=Object.freeze({NOT_STARTED:-1,IN_PROGRESS:0,COMPLETE:1,ERROR:2}),Ve=Object.freeze({BATCHED:"batched",DEFAULT:"default"}),Ke=Object.freeze({NOT_SWITCHED:-1,SWITCHING:0,SWITCHED:1}),$e=Object.freeze({NOT_RESTARTING:0,RESTARTING:1}),Ze=Object.freeze({LINEARIZED:"Linearized",NON_LINEARIZED:"Non-Linearized"});class Bt{constructor(){this._beginRequestCallback=null,this._loadCallback=null,this._errorCallback=null}open(r){this._beginRequestCallback=r}onload(r){this._loadCallback=r}onerror(r){this._errorCallback=r}send(r){this._beginRequestCallback(r).then(r=>{if(this._loadCallback){const f={command:Ce,priority:10,params:{cnftpdfUpdatesStream:r},transferList:[r]};this._loadCallback(f)}}).catch(r=>{this._errorCallback&&this._errorCallback({type:"AdobeSenseiPredictRequestFailed",body:r})})}}class Ut{constructor(){this._adobeSenseiPredictRequest=new Bt}init(r,f,y){this._adobeSenseiPredictRequest.open(r),this._adobeSenseiPredictRequest.onload(f),this._adobeSenseiPredictRequest.onerror(y)}fetchCNFTPDFUpdates(r){this._adobeSenseiPredictRequest.send(r)}}const Qe="ajsInit",Xe="ajsLoaded",Ye="proxyInitTime",et="wasmInitTime",tt="wasmLoadStartTime",rt="wasmLoadEndTime",it="secondaryModuleLoadStartTime",nt="secondaryModuleLoadEndTime",st="secondaryModuleInitTime",at="wasmjsImportStartTime",ot="wasmjsImportEndTime";function Zt(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function er(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?Zt(Object(y),!0).forEach(function(f){tr(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):Zt(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function tr(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}class rr{constructor(r,f){this._startTranslationCallback=r,this._recordPerfMarkerCallback=f,this._html=null,this._htmlRequestQueue=[],this._isNewHTMLAvailable=!1,this._resources=new Map,this._pendingResourceRequests=new Map,this._translationStatus=Je.NOT_STARTED,this._errorMsg=null,this._adobeSenseiClient=new Ut,this._perfMarkers=new Map,this._serverMetaData=null,this._textDecoder=new TextDecoder}get _isTranslationStarted(){return this._translationStatus!==Je.NOT_STARTED}get _isTranslationComplete(){return this._translationStatus===Je.COMPLETE}get _hasTranslationFailed(){return this._translationStatus===Je.ERROR}_startTranslation(r){this._startTranslationCallback(r),this._translationStatus=Je.IN_PROGRESS,this.recordPerfMarker({marker:"beginTranslation"})}get _isHTMLRequestQueueEmpty(){return 0===this._htmlRequestQueue.length}_resolveHTMLRequest(r){const{requestStartTime:f,resolveCallback:y}=r;y({data:{html:this._html,serverMetaData:this._serverMetaData},timeTaken:performance.now()-f}),this.recordPerfMarker({marker:"firstHTMLMarkupResolved"}),this._isTranslationComplete&&this.recordPerfMarker({marker:"lastHTMLMarkupResolved"}),this._isNewHTMLAvailable=!1}_rejectHTMLRequest(r,f){const{requestStartTime:y,rejectCallback:S}=r;S(er(er({},f),{},{timeTaken:performance.now()-y}))}_resolvePendingHTMLRequest(){if(!this._isHTMLRequestQueueEmpty&&(this._isNewHTMLAvailable||this._isTranslationComplete)){const r=this._htmlRequestQueue.shift();this._resolveHTMLRequest(r)}}_resolveAllPendingHTMLRequests(){for(;!this._isHTMLRequestQueueEmpty;)this._resolvePendingHTMLRequest()}_rejectAllPendingHTMLRequests(r){this._htmlRequestQueue.forEach(f=>{this._rejectHTMLRequest(f,r)}),this._htmlRequestQueue=[]}_handleHTMLRequest(){return new Promise((r,f)=>{const y=performance.now();this._htmlRequestQueue.push({requestStartTime:y,resolveCallback:r,rejectCallback:f}),this.recordPerfMarker({marker:"firstHTMLMarkupRequested"}),this._hasTranslationFailed?this._rejectAllPendingHTMLRequests():this._resolvePendingHTMLRequest()})}getHTMLStream(r,f,y){return this._isTranslationStarted||(this._startTranslation(r),this._adobeSenseiClient.init(f,y,this._onAdobeSenseiClientError.bind(this))),new Promise((f,y)=>{const S=performance.now(),R=new ReadableStream({pull:r=>{const f=this._handleHTMLRequest();r.enqueue(f),this._hasTranslationFailed&&(this._rejectAllPendingHTMLRequests(),r.close()),this._isTranslationComplete&&(this._resolveAllPendingHTMLRequests(),r.close())}}),{command:D}=r;f({command:D,data:{htmlStream:R},timeTaken:performance.now()-S})})}setHTML(r,f,y){y&&(this._serverMetaData=y);const S=this._textDecoder.decode(r.buffer);this._html=encodeURI(S),this._translationStatus=f,this._isNewHTMLAvailable=!0,this._resolvePendingHTMLRequest(),this._isTranslationComplete&&this._resolveAllPendingHTMLRequests()}_resolveResourceRequest(r){const{command:f,resourceID:y,resourceURL:S,requestStartTime:R,resolveCallback:D}=r;D({command:f,data:er({resourceID:y,resourceURL:S},this._resources.get(S)),timeTaken:performance.now()-R})}_resolvePendingResourceRequest(r){if(this._pendingResourceRequests.has(r)&&this._resources.has(r)){const f=this._pendingResourceRequests.get(r);this._resolveResourceRequest(f),this._pendingResourceRequests.delete(r)}}getResource(r){let{command:f,params:y}=r;const{resourceID:S,resourceURL:R}=y;return new Promise((r,y)=>{const D=performance.now(),k={command:f,resourceID:S,resourceURL:R,requestStartTime:D,resolveCallback:r};this._pendingResourceRequests.set(R,k),this._resolvePendingResourceRequest(R)})}setResource(r,f,y){this._resources.set(r,{resourceContent:f,resourceMimeType:y}),this._resolvePendingResourceRequest(r)}fetchCNFTPDFUpdates(r){this._adobeSenseiClient.fetchCNFTPDFUpdates(r)}_onAdobeSenseiClientError(r){this._translationStatus=Je.ERROR,this._errorMsg=r,this._rejectAllPendingHTMLRequests(r)}recordPerfMarker(r){const{marker:f}=r;if(!this._perfMarkers.has(f)&&(this._perfMarkers.set(f,performance.now()),this._recordPerfMarkerCallback)){const r={};r[f]=this._perfMarkers.get(f),this._recordPerfMarkerCallback("ajsPerfTimings",r)}}}const ct=JSON.parse('{"digsig.wasm":"digsig.0265c26c6dcef9eb13b8e9cb022f5dd0.wasm","digsig2.wasm.symbols":"digsig2.wasm.symbols","digsig.wasm.symbols":"digsig.wasm.symbols","digsig_we.wasm":"digsig_we.acd4b668bd1cbd63f843926a59116e1c.wasm","digsig_we.wasm.symbols":"digsig_we.wasm.symbols","dummy_split.wasm.symbols":"dummy_split.wasm.symbols","digsig2.wasm":"digsig2.c9fce8fddea3f42a592ee5963070805c.wasm","libcld.wasm":"libcld.eedb1e11f3b973054b10b2970543f1cc.wasm","libcld.wasm.symbols":"libcld.wasm.symbols","libcld2.wasm.symbols":"libcld2.wasm.symbols","libcld2.wasm":"libcld2.a32b55cddc6a9ede70920baa0d5e2970.wasm","libcld_we.wasm.symbols":"libcld_we.wasm.symbols","libjp2k.wasm":"libjp2k.de793a24f542161adb8c5418778b7d52.wasm","libjp2k2.wasm":"libjp2k2.2af6752804cfdbedd6d36b6eabd5e445.wasm","libjp2k2.wasm.symbols":"libjp2k2.wasm.symbols","libjp2k_we.wasm":"libjp2k_we.e3c4db8a7655631d7ebe1e7243cd5469.wasm","libcld_we.wasm":"libcld_we.d7f1adfa2ee11651dd6fea8deccb4ddf.wasm","libjp2k_we.wasm.symbols":"libjp2k_we.wasm.symbols","libjp2k_we_lite.wasm":"libjp2k_we_lite.89351de80d620ffef6724ab1ed0422a6.wasm","libjp2k.wasm.symbols":"libjp2k.wasm.symbols","libjp2k_we_lite.wasm.symbols":"libjp2k_we_lite.wasm.symbols","libjp2k_we_tmb.wasm":"libjp2k_we_tmb.cd061ee60ea1d402c65d71a0347d4849.wasm","libjp2k_we_tmb.wasm.symbols":"libjp2k_we_tmb.wasm.symbols","licensing.wasm.symbols":"licensing.wasm.symbols","licensing2.wasm":"licensing2.16f17a5edb1ee5a360dedc470f1300b2.wasm","licensing.wasm":"licensing.f4b2a76c407e35733772c39062530eed.wasm","licensing2.wasm.symbols":"licensing2.wasm.symbols","licensing_we.wasm.symbols":"licensing_we.wasm.symbols","licensing_we.wasm":"licensing_we.3de72e0e9a9fc1e4dedac633e387ed8f.wasm","wasm_acrobat.js":"wasm_acrobat.c0241e622c057fc137ebf8d80baac6fa.js","wasm_acrobat.js.symbols":"wasm_acrobat.js.symbols","wasm_acrobat.wasm":"wasm_acrobat.93c465b0a4303f172f3736e6a227c613.wasm","wasm_acrobat2.js":"wasm_acrobat2.00dc744eeb257d353a30b102b99d94ae.js","wasm_acrobat2.wasm":"wasm_acrobat2.5d946ef01d66580b57e200273361b25b.wasm","wasm_acrobat2.js.symbols":"wasm_acrobat2.js.symbols","wasm_acrobat_we.deferred.wasm":"wasm_acrobat_we.e1fee512d066d92baf0a757c308fe775.deferred.wasm","wasm_acrobat_we.deferred.wasm.symbols":"wasm_acrobat_we.deferred.wasm.symbols","wasm_acrobat_we.js":"wasm_acrobat_we.614f0b7f4a72077012d2ee49697e69d3.js","wasm_acrobat_we.js.symbols":"wasm_acrobat_we.js.symbols","wasm_acrobat_we.orig.wasm":"wasm_acrobat_we.orig.wasm","wasm_acrobat_we.wasm":"wasm_acrobat_we.f635c167de52d629b260ab0e1d042454.wasm","wasm_acrobat_we.wasm.placeholders":"wasm_acrobat_we.wasm.placeholders","wasm_acrobat_we.wasm.symbols":"wasm_acrobat_we.wasm.symbols","wasm_acrobat_we_lite.js":"wasm_acrobat_we_lite.c2a66e71034926c1e5c8fe4b255433ed.js","wasm_acrobat_we_lite.js.symbols":"wasm_acrobat_we_lite.js.symbols","wasm_acrobat_we_tmb.js":"wasm_acrobat_we_tmb.6f35607ae5787ef90692ba5c360de03d.js","wasm_acrobat_we_lite.wasm":"wasm_acrobat_we_lite.2b3948b6c30b3cf4da07cea60e536889.wasm","wasm_acrobat_we_tmb.js.symbols":"wasm_acrobat_we_tmb.js.symbols","wasm_acrobat_we_tmb.wasm":"wasm_acrobat_we_tmb.f36bce52d01910a2ce3cf14fdc620765.wasm","83pv-RKSJ-H.bin":"83pv-RKSJ-H.d31b29a4ba8bfeedff1e30d92ab19cd8.bin","90ms-RKSJ-H.bin":"90ms-RKSJ-H.f45518820587216e2fd9373de6bfb232.bin","90ms-RKSJ-V.bin":"90ms-RKSJ-V.9d87cfa3112dacf3cf3974841e8a1a85.bin","90msp-RKSJ-H.bin":"90msp-RKSJ-H.a8b59f932a41becad9752d03bf40df98.bin","90msp-RKSJ-V.bin":"90msp-RKSJ-V.2d414eb09d12cd374a660669964c15f4.bin","90pv-RKSJ-H.bin":"90pv-RKSJ-H.55abc7fce81e6e3957cdb2d6da820ec8.bin","ASansMMData.bin":"ASansMMData.6fa54e2f6a7e9295f2402df2c66955a8.bin","Add-RKSJ-H.bin":"Add-RKSJ-H.4de51edb65ef1f49ab2d60c825183baa.bin","Add-RKSJ-V.bin":"Add-RKSJ-V.15302ba6731b1dafba322d394225f95e.bin","Adobe-CNS1-UCS2.bin":"Adobe-CNS1-UCS2.d94fb1a93551fe64d7982e5f579f078a.bin","Adobe-GB1-UCS2.bin":"Adobe-GB1-UCS2.1ecd8032ae5aeb614edade386e64e48f.bin","ASerifMMData.bin":"ASerifMMData.f89dd85918d72dab29e04ffb50390109.bin","Adobe-Korea1-UCS2.bin":"Adobe-Korea1-UCS2.ad6f74b560ba9ef7f74e9c6148bac651.bin","Adobe-Japan1-UCS2.bin":"Adobe-Japan1-UCS2.b56af7f7805294bd23fe0b692af880da.bin","AdobePiFontData.bin":"AdobePiFontData.64f42fe017f784b99ed7c7b3fe8a87f5.bin","B5pc-V.bin":"B5pc-V.b1035adfd0116fdedb987bf437b2e945.bin","CNS-EUC-H.bin":"CNS-EUC-H.f3978e726565d39c9a4f421e3bab5415.bin","B5pc-H.bin":"B5pc-H.7131d37b4fe4b7405f8d1c9f4ca1ad78.bin","CNS-EUC-V.bin":"CNS-EUC-V.361d431df32b9b5812683971ba106752.bin","ETHK-B5-H.bin":"ETHK-B5-H.d391941603d43f92b7fe1edd138f4b18.bin","ETHK-B5-V.bin":"ETHK-B5-V.b7bec504ea8ab245017ed51c9bad3678.bin","ETen-B5-H.bin":"ETen-B5-H.9622ce150adc794a0ce3a9138238de5a.bin","ETen-B5-V.bin":"ETen-B5-V.16d7edbac125db283b0b60f1ba3a812f.bin","ETenms-B5-H.bin":"ETenms-B5-H.38dc3249b508aef8e0e27a618d56fdee.bin","ETenms-B5-V.bin":"ETenms-B5-V.bfe14028c3e655c6c496fa76b489ed41.bin","EUC-H.bin":"EUC-H.ff5d429c2a9004c5c7c3ef2d5b68aeda.bin","EUC-V.bin":"EUC-V.5d9fa8b6f6fbb869528884932769e672.bin","Ext-RKSJ-H.bin":"Ext-RKSJ-H.a0fbc54a11d264920852db37b4bce483.bin","Ext-RKSJ-V.bin":"Ext-RKSJ-V.10add1cb9c6daef82c0ceaf442885827.bin","GB-EUC-H.bin":"GB-EUC-H.05fc527e64675630732f424b98ec25c8.bin","GB-EUC-V.bin":"GB-EUC-V.96914e73efcdfd28501407eeacb8bb11.bin","GBK-EUC-H.bin":"GBK-EUC-H.15d25b681f27f8437be17b01a3d2f0d6.bin","GBK2K-H.bin":"GBK2K-H.cab229556aa3108e6854a73e923ed516.bin","GBK-EUC-V.bin":"GBK-EUC-V.f959593047ee729b5e56b15639bfa273.bin","GBK2K-V.bin":"GBK2K-V.d9dbc6b4bb1de77d810f770c37d5b326.bin","GBKp-EUC-H.bin":"GBKp-EUC-H.55ab8cf408846e28ecfa73e09bfd1288.bin","GBKp-EUC-V.bin":"GBKp-EUC-V.10cc623b2d454d31b05ef49521361e79.bin","GBT-EUC-H.bin":"GBT-EUC-H.4008dfd0c23133cf1bbe594a79caa9e1.bin","GBT-EUC-V.bin":"GBT-EUC-V.5f0c9a26325ef12e41cd9cd8b29e0a86.bin","GBpc-EUC-H.bin":"GBpc-EUC-H.026117654759f94f8b178613526da297.bin","H.bin":"H.65b11a85407d49243165ba00e74c153c.bin","GBpc-EUC-V.bin":"GBpc-EUC-V.0e68f035ce7e0fb65da5d7e12f96d4bf.bin","HKdla-B5-H.bin":"HKdla-B5-H.18654380bd7fb10820705d21271ba10f.bin","HKdla-B5-V.bin":"HKdla-B5-V.084f51e2609b1832f540db1e1b24d6a8.bin","HKdlb-B5-H.bin":"HKdlb-B5-H.c8e6f58ae4daa8a2a49457d3cf7a564c.bin","HKdlb-B5-V.bin":"HKdlb-B5-V.d62af267a6186e2b9ca71ed145136a33.bin","HKgccs-B5-V.bin":"HKgccs-B5-V.f83628d1fd8503599788221bfa6c3a8e.bin","HKm314-B5-H.bin":"HKm314-B5-H.c1f27a0fb26610f249050da427458ba9.bin","HKgccs-B5-H.bin":"HKgccs-B5-H.4acc8f9ea265fdf77c1e73294dd3b4ed.bin","HKm314-B5-V.bin":"HKm314-B5-V.5dd8c75a268585e45dd1fbd9c6e91442.bin","HKm471-B5-H.bin":"HKm471-B5-H.3a0e222ab31ed0fc9ead6b0f8c1907bd.bin","HKm471-B5-V.bin":"HKm471-B5-V.00ca99a8ba687035b7e8a600baa7566d.bin","HKscs-B5-H.bin":"HKscs-B5-H.0c1db98157f76affd8ec8e08a89e3b1b.bin","HKscs-B5-V.bin":"HKscs-B5-V.34d6cc018c5cfa2ed51f96b44270bf7e.bin","KSC-EUC-V.bin":"KSC-EUC-V.f2c29b00a93baedde8c90745b66540c5.bin","KSCms-UHC-H.bin":"KSCms-UHC-H.68bcb854deaffce3bf222a272f73bd37.bin","KSCms-UHC-HW-V.bin":"KSCms-UHC-HW-V.43f9f1cdd5a55e02fc68ac20ea7ff4d9.bin","KSCms-UHC-V.bin":"KSCms-UHC-V.3ab24c2288fecd99ea332d1515cdf6bf.bin","KSC-EUC-H.bin":"KSC-EUC-H.1350ea7f0f70d10859cbb1db3d6f057d.bin","KSCpc-EUC-H.bin":"KSCpc-EUC-H.0b054122ccd9a19dcd5ee6de25d36a9c.bin","SymbolFontData.bin":"SymbolFontData.98f5383426f79181cbead866dc5d0cfa.bin","KSCms-UHC-HW-H.bin":"KSCms-UHC-HW-H.afc77ecc40ed6fc1e95f15a77df9a852.bin","UniCNS-UCS2-H.bin":"UniCNS-UCS2-H.c1218237fbcbd0cd023da231e7597dcf.bin","UniCNS-UCS2-V.bin":"UniCNS-UCS2-V.5beaf8d167d6f82a7bf98f1fe98ddb23.bin","UniCNS-UTF16-H.bin":"UniCNS-UTF16-H.8d6bf16c64f7ce600cf8373e2057344f.bin","UniCNS-UTF16-V.bin":"UniCNS-UTF16-V.5402551f38f067c9ec9ab0b5c3a97e2d.bin","UniGB-UCS2-H.bin":"UniGB-UCS2-H.4152a22895aa4e56868d28ecfe479560.bin","UniGB-UTF16-H.bin":"UniGB-UTF16-H.b2930b4b5c0d06e7516039e5bbdce576.bin","UniGB-UCS2-V.bin":"UniGB-UCS2-V.cb736abfd02646ac89b4e70d2ff0dd1a.bin","UniGB-UTF16-V.bin":"UniGB-UTF16-V.ca0ac25a22b34a04bc0f80486c57d8a8.bin","UniJIS-UCS2-H.bin":"UniJIS-UCS2-H.9cb126cbdbb73498ba90ccf1214338ae.bin","UniJIS-UCS2-HW-H.bin":"UniJIS-UCS2-HW-H.ccac8e81bfd45190a31352f1af530956.bin","UniJIS-UCS2-HW-V.bin":"UniJIS-UCS2-HW-V.12e59a450b6c6aa896a3d8ae74b13207.bin","UniJIS-UCS2-V.bin":"UniJIS-UCS2-V.9936e03f2ab8c1bca522d1e6d663eea7.bin","UniJIS-UTF16-H.bin":"UniJIS-UTF16-H.df780bf435f9c0887dfae16655bf7466.bin","UniJIS-UTF16-V.bin":"UniJIS-UTF16-V.3c5a048a6685aeb5893a75d745d1a624.bin","UniKS-UCS2-H.bin":"UniKS-UCS2-H.a8641f940fb2b06e146b3f5880955d0d.bin","UniKS-UCS2-V.bin":"UniKS-UCS2-V.b77a40d01465f85dfa293599d58d7325.bin","UniKS-UTF16-H.bin":"UniKS-UTF16-H.9300926469cbf1bd06326f81a9cda3c9.bin","UniKS-UTF16-V.bin":"UniKS-UTF16-V.316f734c99f9eb460f23a776d1246ba3.bin","V.bin":"V.40af1d9966936166745bd9d13a4a006b.bin","AdobeGlyphNameToUnicodeValue.json":"AdobeGlyphNameToUnicodeValue.d4c97b295151113e9c1454509a127b3a.json","MinionPro-Identity-H-ReverseMap.json":"MinionPro-Identity-H-ReverseMap.c490aaa39b8af3a5af5aea8a375a9155.json","UniCNS-UTF16-H-ReverseMap.json":"UniCNS-UTF16-H-ReverseMap.31556bfa24a625415be580df35a0af3e.json","UniGB-UTF16-H-ReverseMap.json":"UniGB-UTF16-H-ReverseMap.0c36d091996c0f1e1527212713f9e6bd.json","UniJIS-UTF16-H-ReverseMap.json":"UniJIS-UTF16-H-ReverseMap.9a8f0f591a1c0d510ae26d780b6bc972.json","UniKS-UTF16-H-ReverseMap.json":"UniKS-UTF16-H-ReverseMap.d2a3ba7fc71be477d40b31a29277f2aa.json","acrobatProxy.js":"acrobatProxy.75c944cc071394de92b6.js","renderingWorker.js":"renderingWorker.5b9720be3cf75edc2da8.js","acrobatProxy_we.js":"acrobatProxy_we.b2a48f4520c94b4727d2.js","renderingWorker_we.js":"renderingWorker_we.5b9720be3cf75edc2da8.js","acrobatProxy_we_lite.js":"acrobatProxy_we_lite.21bacf90cf7e86acf4d2.js","renderingWorker_we_lite.js":"renderingWorker_we_lite.5b9720be3cf75edc2da8.js","thumbnailWorker.js":"thumbnailWorker.js"}'),ir=r=>{try{return new URL(r).origin}catch(r){return}},ar=(r,f)=>!(!r||!ir(r))&&f.location.origin!==ir(r),sr=function(r){const f=function(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct["acrobatProxy.js"];return"var Module = {};\n  Module.ajsRootUrl = '".concat(r,"';\n  importScripts(Module.ajsRootUrl + '").concat(f,"');")}(r,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ct["acrobatProxy.js"]),y=new Blob([f],{type:"application/javascript"});return URL.createObjectURL(y)},dt=Object.freeze({ENABLE:0,DISABLE:1}),lt=(Object.freeze({READY_TO_WRITE_CHUNK:0,CHUNK_WRITTEN:1}),Object.freeze({MESSAGE_IN_PROGRESS:0,MESSAGE_WRITTEN:1}),Object.freeze({busyLoopStatus:0,doneStatus:1,readWriteStatus:2,lengthByteFirst:3,lengthByteSecond:4,responseStart:5})),ur=(r,f)=>{r&&(new Uint8Array(r)[lt.busyLoopStatus]=f?dt.ENABLE:dt.DISABLE)};function lr(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function dr(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?lr(Object(y),!0).forEach(function(f){hr(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):lr(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function hr(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}const ut=class{constructor(r){let{sendMessageToWorker:f,restartWorker:y,getOpenDocMessage:S}=r;this.sendMessageToWorker=f,this.restartWorker=y,this.getOpenDocMessage=S,this.pluginPortsMap=null,this.switchingState=Ke.NOT_SWITCHED,this.restartingState=$e.NOT_RESTARTING}canSwitch(){return this.switchingState===Ke.NOT_SWITCHED}canRestart(){return this.restartingState===$e.NOT_RESTARTING}isSwitching(){return this.switchingState===Ke.SWITCHING}setSwitchingState(r){this.switchingState=r}setRestartState(r){this.restartingState=r}_pauseMessageProcessingAndExtractQueuedMessages(){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this.sendMessageToWorker({command:"getMessages",params:{}})}_reopenDocument(r){const f=this._isCommandOpenDoc(r)?null==r?void 0:r.msgId:void 0,y=!this._checkCommandInObject(r,F)&&this.getOpenDocMessage(f);if(y)return this.sendMessageToWorker(y)}_reprocessTriggerEvent(r){if(!r||this._checkCommandInObject(r,M)||this._checkCommandInObject(r,ie)||this._checkCommandInObject(r,ke))return Promise.resolve();const f=[];return this._setAppearanceDataInEvent(r,f),this.sendMessageToWorker(dr(dr({},r),{},{priority:1,transferList:f}))}_restartWorkerAndRequeuePendingMessages(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1?arguments[1]:void 0;return this.restartWorker().then(()=>{var y;const S=this._reopenDocument(r),R=this._isCommandOpenDoc(r)?S:this._reprocessTriggerEvent(r);return this._sendMessageListToWorker(null==f||null===(y=f.data)||void 0===y?void 0:y.msgList),null!=f&&f.data&&(this.pluginPortsMap=f.data.pluginPortsMap),this._sendPluginPortsToWorker(),R})}restartWorkerWithMessages(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return this.canRestart()?(this.setRestartState($e.RESTARTING),this._pauseMessageProcessingAndExtractQueuedMessages().then(f=>this._restartWorkerAndRequeuePendingMessages(r,f)).finally(()=>{this.setRestartState($e.NOT_RESTARTING)})):Promise.reject(new Error("Worker is already restarting"))}switchToFullBuild(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Promise.resolve();if(!this.canSwitch())return Promise.reject();this.setSwitchingState(Ke.SWITCHING);const y=this._pauseMessageProcessingAndExtractQueuedMessages();return Promise.all([y,f]).catch(r=>{throw this.setSwitchingState(Ke.NOT_SWITCHED),r}).then(f=>{let[y]=f;const S=y;return this._restartWorkerAndRequeuePendingMessages(r,S).finally(()=>{this.setSwitchingState(Ke.SWITCHED)})})}_isCommandOpenDoc(r){return this._checkCommandInObject(r,M)||this._checkCommandInObject(r,ie)}_checkCommandInObject(r,f){return(null==r?void 0:r.command)===f}_setAppearanceDataInEventHelper(r,f,y){const S=r;if(S&&S.params&&S.params.data){const{annotIndex:R}=r.params.data;if(void 0!==R&&R>=0&&R<f.length&&S.params.data.appearanceData){const r=f[R];S.params.data.appearanceData.buffer=r,y.push(r.buffer)}}}_setAppearanceDataInEvent(r,f){const y=r,S=y.currEventAppearanceData;if((null==S?void 0:S.length)>0){let r=y&&y.params&&y.params.data;y.params.data.commentData&&(r=y.params.data.commentData),r&&(Array.isArray(r)?r.forEach(r=>{this._setAppearanceDataInEventHelper(r,S,f)}):this._setAppearanceDataInEventHelper(y,S,f)),delete y.currEventAppearanceData}}_sendMessageListToWorker(r){if(!r)return;const f={command:"addMessages",params:{msgList:r}};this.sendMessageToWorker(f)}_sendPluginPortsToWorker(){if(this.pluginPortsMap&&this.pluginPortsMap instanceof Map&&this.pluginPortsMap.size>0){const r=[];return this.pluginPortsMap.forEach((f,y)=>{const S={command:ae,params:{port:f,pluginName:y},transferList:[f]};r.push(this.sendMessageToWorker(S))}),Promise.all(r).then(()=>{this.pluginPortsMap=null})}return Promise.resolve()}};function pr(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function gr(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}const ht=class{constructor(r){let{getPluginModesInfo:f,messageCallback:y,logError:S,switchToLegacyRichBuild:R,enableWasmExceptions:D,switchToNonLinearizedWorkflow:k}=r;this.getPluginModesInfo=f,this.switchToLegacyRichBuild=R,this.messageCallback=y,this.logError=S,this.enableWasmExceptions=D,this.switchToNonLinearizedWorkflow=k,this._errorTypesLogged=[],this._lastEventBeforeWasmSwitch=null}get lastEventBeforeWasmSwitch(){return this._lastEventBeforeWasmSwitch}resetLastEventBeforeWasmSwitch(){this._lastEventBeforeWasmSwitch=null}handleWasmError(r,f,y,S){if(this._logErrorData(r,f,y,S),this.enableWasmExceptions){var R;const f=null==r||null===(R=r.data)||void 0===R?void 0:R.currEvent;return y===Ze.LINEARIZED?this.switchToNonLinearizedWorkflow(f):(this._sendCorruptFileError(f,r),Promise.resolve())}return this._handleSwitchJS(r,f)}_sendCorruptFileError(r,f){if(r&&r.msgId){var y;const S={error:"corruptFile",errorCode:null==f?void 0:f.errorCode,errorStack:null==f||null===(y=f.data)||void 0===y?void 0:y.stackTrace};this.messageCallback(r.msgId,S)}}_handleSwitchJS(r,f){var y;const S=null==r||null===(y=r.data)||void 0===y?void 0:y.currEvent;if(["FirstTimeSwitchJS","LinearizationSwitchJS"].includes(f))return this._lastEventBeforeWasmSwitch=S,this.switchToLegacyRichBuild(S);const R=this._lastEventBeforeWasmSwitch||S;return this._sendCorruptFileError(R,r),Promise.resolve()}_logErrorData(r,f,y,S){const R=[],{activePluginModeInfo:D,pluginModesEntered:k}=this.getPluginModesInfo(),{activePluginMode:F,activePluginModeStartTime:M}=D;k.forEach((r,f)=>{R.push(function(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?pr(Object(y),!0).forEach(function(f){gr(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):pr(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}({name:f},r))});const ie={ajsError:{activePluginMode:F,pluginModesEntered:R}};if(F&&M){const r=performance.now();ie.ajsError.timeSpentInActivePluginMode=r-M}if(r&&r.data){const{currEvent:f,stackTrace:y,pdfUpdatesSoFar:R,memInfo:D}=r.data;f?ie.ajsError.currEvent=f.command:S&&(ie.ajsError.lastProcessedMessage=S.command),console.log(y),ie.ajsError.stackTrace=y,ie.ajsError.pdfUpdatesSoFar=R,ie.ajsError.memInfo=D}if(r){const f=["errorCode","filename","lineno","colno"];((r,f,y)=>{const S=r;void 0!==f&&void 0!==S&&y.forEach(r=>{const y=f[r];void 0!==y&&(S[r]=y)})})(ie.ajsError,r,f),console.error("Exception: ".concat(ie.ajsError.errorCode)),r.message&&(ie.ajsError.errorMessage=r.message)}ie.ajsError.type=f,this.enableWasmExceptions?(ie.ajsError.workflow=y,this._errorTypesLogged.includes(ie.ajsError.workflow)||(this.logError(ie.ajsError),this._errorTypesLogged.push(ie.ajsError.workflow))):this._errorTypesLogged.includes(ie.ajsError.type)||(this.logError(ie.ajsError),this._errorTypesLogged.push(ie.ajsError.type))}};i(6910),i(6167);const pt=65536,ft=(Object.freeze({approval:"Approval",certification:"Certification",ur:"Usage Rights"}),Object.freeze({valid:"valid",invalid:"invalid",unknown:"unknown"})),mt=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),gt=Object.freeze({version:"Version",serialNumber:"Serial Number",issuer:"Issuer",subject:"Subject",validityStarts:"Validity Starts",validityEnds:"Validity Ends",keyUsage:"Key Usage",extendedKeyUsage:"Extended Key Usage",certificatePolicies:"Certificate Policies",crlDistributionPoints:"CRL Distribution Points",certificateAuthorityInformationAccess:"Certificate Authority Information Access",basicConstraints:"Basic Constraints",signatureAlgorithm:"Signature Algorithm",publicKey:"Public Key",subjectKeyIdentifier:"Subject Key Identifier",authorityKeyIdentifier:"Authority Key Identifier",x509Data:"X509 Data"}),_t=Object.freeze({HIGH:10,LOW:20});function Pr(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function Sr(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?Pr(Object(y),!0).forEach(function(f){kr(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):Pr(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function kr(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}class Tr{constructor(r){this.validators=r||[],this.X509Certificate=null,this.X509CRL=null}getCertificateDetails(r){return new Promise((f,y)=>{const n=()=>{const y=new this.X509Certificate(r);return f(y.getDetails())};if(this.X509Certificate)return n();Promise.all([i.e("vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js"),i.e("src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js"),i.e("X509Certificate")]).then(i.bind(i,1021)).then(r=>(this.X509Certificate=r.default,n())).catch(()=>f({}))})}getCRLDetails(r){return new Promise((f,y)=>{const n=()=>{const y=new this.X509CRL(r);return f(y.getDetails())};if(this.X509CRL)return n();Promise.all([i.e("vendors-node_modules_peculiar_asn1-adobe-acrobat_build_es2015_index_js"),i.e("src_DigitalSignature_X509_Extension_js-src_DigitalSignature_X509_Name_js"),i.e("X509CRL")]).then(i.bind(i,3009)).then(r=>(this.X509CRL=r.default,n())).catch(()=>f({}))})}async getParsedCertificates(){const r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(r=>this.getCertificateDetails(r));return(await Promise.allSettled(r)).map(r=>r.value)}async getParsedCRLs(){const r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).map(r=>this.getCRLDetails(r));return(await Promise.allSettled(r)).map(r=>r.value)}validate(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];const f=[],y={trustSources:[],status:ft.unknown,certificates:r,validatorErrors:f,verifiedBy:"",validation:{validatedOn:mt.currentTime,timestamp:(new Date).toISOString()}},n=(S,R)=>{if(S>=this.validators.length)return R(Sr({},y));this.validators[S].validate(r).then(r=>{var f;const D=null==r||null===(f=r.status)||void 0===f?void 0:f.toLowerCase();if(y.certificates=r.certificates,D===ft.valid||D===ft.invalid)return r.status=D,r.verifiedBy=this.validators[S].name(),R(Sr(Sr({},y),r));n(S+1,R)}).catch(r=>{f.push({validator:this.validators[S].name(),error:{message:r.message||"",reason:r.reason||{}}}),n(S+1,R)})};return new Promise(f=>{if(!r.length)return f(Sr({},y));n(0,f)})}}i(3110);class Cr{constructor(r){this.validationManager=new Tr(r)}_sortSignaturesBySigningTime(r){r.sort((r,f)=>{const y=r.signatureDetails.timestamp,S=f.signatureDetails.timestamp;return y||S?y?S?Date.parse(y)-Date.parse(S):-1:1:0})}_processSignatureData(r){this._sortSignaturesBySigningTime(r)}async _fixCertificateOrder(r){if(r.length<=1)return r;const f=await this.validationManager.getParsedCertificates(r);f.forEach((r,f)=>{r.index=f});try{const y=(r=>{if(!r.length)return r;r.length>=2&&r[0][gt.serialNumber]===r[1][gt.serialNumber]&&r.shift();const f=[],y=r.find(r=>{const f=r[gt.basicConstraints];if(f)return"No"===f.CA;const y=r[gt.keyUsage];return!(!y||y.includes("Crl Sign")||y.includes("Key Cert Sign"))});if(!y)return r;for(f.push(y);f.length<r.length;){const y=f[f.length-1],S=r.find(r=>r[gt.serialNumber]!==y[gt.serialNumber]&&JSON.stringify(r[gt.subject])===JSON.stringify(y[gt.issuer]));if(!S)break;f.push(S)}return f})(f);return y.map(f=>r[f.index])}catch(f){return r}}async _getCertificateChains(r){const f=[];if(!r||!r.signatures)return f;r.signatures.forEach(r=>{const y=r.certificates.map(r=>r.pem);f.push(y)});const y=f.map(r=>this._fixCertificateOrder(r));return(await Promise.allSettled(y)).map(r=>r.value)}async _handleX509Parsing(r,f){var y;null!=r&&null!==(y=r.certificates)&&void 0!==y&&y.length&&(f.certificates=await this.validationManager.getParsedCertificates(r.certificates))}_handleCertificateValidationInfo(r,f){f.certificateValidation={status:r.status||ft.unknown,trustSources:r.trustSources||[],verifiedBy:r.verifiedBy||"",validatorErrors:r.validatorErrors||[],validation:r.validation||{}}}async responseHandler(r,f){try{const f=(await this._getCertificateChains(r.data.data)).map(r=>this.validationManager.validate(r)),y=await Promise.allSettled(f),{signatures:S}=r.data.data;S.forEach((r,f)=>{const{value:S}=y[f];this._handleCertificateValidationInfo(S,r)});const R=S.map((r,f)=>{const{value:S}=y[f];return this._handleX509Parsing(S,r)});await Promise.allSettled(R),this._processSignatureData(r.data.data.signatures)}catch(r){}finally{f(r.data.msgId,r)}}}const bt=["params"];function Dr(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function Er(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?Dr(Object(y),!0).forEach(function(f){Or(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):Dr(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function Or(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}class Mr{constructor(r){this._getAnnotData=r,this._annotData=new Map}getAnnotData(r){let{params:f}=r,y=function(r,f){if(null==r)return{};var y,S,R=function(r,f){if(null==r)return{};var y={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;y[S]=r[S]}return y}(r,f);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(r);for(S=0;S<D.length;S++)y=D[S],f.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(R[y]=r[y])}return R}(r,bt);const{annotId:S}=f;return new Promise((r,R)=>{this._getAnnotData(Er({params:f},y)).then(f=>{const y=Er({},f);y&&y.data&&y.data.annot?(y.data.annot=Er(Er({},y.data.annot),this._annotData.get(S)),r(y)):R({message:"Annotation data for annotation ID ".concat(S," not found")}),this._annotData.delete(S)}).catch(r=>{R(r)})})}setAnnotData(r){const{annotId:f}=r;this._annotData.set(f,r)}}const vt=["data"],Pt=["html","translationStatus"];function jr(r,f){if(null==r)return{};var y,S,R=function(r,f){if(null==r)return{};var y={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;y[S]=r[S]}return y}(r,f);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(r);for(S=0;S<D.length;S++)y=D[S],f.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(R[y]=r[y])}return R}function xr(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function Nr(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?xr(Object(y),!0).forEach(function(f){Lr(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):xr(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function Lr(r,f,y){return(f=Ir(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}function Ir(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}const yt="".concat(k,"PerfTimings"),At=class{constructor(r){let{ajsWorkerPath:f="",useLegacyRichBuild:y=!1,useLiteBuild:S=!1,enableWasmExceptions:R=!1,enableWasmChunking:D=!1,enableLogging:k=!1,workerCreator:F,signalDispatcher:M,windowObj:ie,enableProgressiveRendering:ne=!1,apiTrackingInfo:ae,currentPluginCount:le,hostEnv:be}=r;if(!window.Worker)throw new Error("Web Workers not supported!");Object.assign(this,Nr({ajsWorkerPath:f,useLegacyRichBuild:y,useLiteBuild:S,enableWasmExceptions:R,enableWasmChunking:D,enableLogging:k,signalDispatcher:M,workerCreator:F,windowObj:ie,enableProgressiveRendering:ne,apiTrackingInfo:ae,hostEnv:be},j(le)&&{currentPluginCount:le})),this._messageMap={},this._unsettledMessageList=[],this._pdfBuffer=null,this._decryptedPdfBuffer=null,this._pdfPassword="",this._jsSAB=null,this._includeDocLevelActions=!1,this._messageCount=0,this.pluginModesEntered=new Map,this.activePluginModeInfo={activePluginMode:"",activePluginModeStartTime:null},this._linearizationInfo={},this._digSigHandler=null,this._cnpdfPrefetchedComponentLogs={},this.isCNPDF=!1,this._annotDataClient=new Mr(r=>this.sendMessageToWorker(r)),this._ftpdfWebViewCache=new rr(r=>{this.sendMessageToWorker(r)},(r,f)=>{this.signalDispatcher.trigger(r,f)}),this._wasmSwitchHandler=new ut({sendMessageToWorker:r=>this.sendMessageToWorker(r),restartWorker:()=>this._restartWorker(),getOpenDocMessage:r=>this._getOpenDocMessage(r)}),this._wasmErrorHandler=new ht({getPluginModesInfo:()=>({activePluginModeInfo:this.activePluginModeInfo,pluginModesEntered:this.pluginModesEntered}),messageCallback:(r,f)=>this._callMessageCallback(r,f),logError:r=>this.signalDispatcher.trigger("ajsError",r),switchToLegacyRichBuild:r=>this._switchToLegacyRichBuild(r),enableWasmExceptions:this.enableWasmExceptions,switchToNonLinearizedWorkflow:r=>this.switchToNonLinearizedWorkflow(r)})}getEnableProgressiveRendering(){return this.enableProgressiveRendering}setEnableProgressiveRendering(){let r=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.enableProgressiveRendering=r}_getUpdatedMessageCount(){return this._messageCount+=1,this._messageCount}_isWasmSupportedOnBrowser(){let r=!0;return-1===navigator.userAgent.indexOf("OS 11_2")||-1===navigator.userAgent.indexOf("iPhone")&&-1===navigator.userAgent.indexOf("iPad")||(r=!1),self.WebAssembly&&"object"==typeof self.WebAssembly||(r=!1),((()=>{const r=kt().name.toLowerCase();return"safari"===r||"mobile safari"===r})()&&Tt(kt().version)||(()=>{const r=(new(xe())).getOS();return r&&"iOS"===r.name&&Tt(r.version)})())&&(r=!1),r}_createWorker(){if(this.workerCreator&&"function"==typeof this.workerCreator&&(this.worker=this.workerCreator()),!this.worker){let r="acrobatProxy";this.enableWasmExceptions&&(r+="_we",this.useLiteBuild&&(r+="_lite")),r=ct["".concat(r,".js")],this.workerURL=ar(this.ajsWorkerPath,this.windowObj)?sr(this.ajsWorkerPath,r):"".concat(this.ajsWorkerPath).concat(r),this.worker=new window.Worker(this.workerURL)}}init(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return new Promise((y,S)=>{if(this._initResolve=y,this._initReject=S,!this._isWasmSupportedOnBrowser()){const r={error:"WASM is not supported on this browser!"};return this._initReject(r)}this.signalDispatcher.trigger(yt,{[Qe]:performance.now()}),this._createWorker(),this.worker.onmessage=this._onWorkerMessage.bind(this),this.worker.onerror=this._onWorkerError.bind(this);const R=this._wasmSwitchHandler.isSwitching();let D="renderingWorker";this.enableWasmExceptions&&(D+="_we",this.useLiteBuild&&(D+="_lite")),D=ct["".concat(D,".js")];const k={command:"init",params:{useLegacyRichBuild:R||this.useLegacyRichBuild,enableLogging:this.enableLogging,totalMemory:r,t5Cache:Math.max(f,209715200),enableProgressiveRendering:this.getEnableProgressiveRendering(),enableWasmChunking:this.enableWasmChunking,apiTrackingInfo:this.apiTrackingInfo,hostEnv:this.hostEnv,devicePixelRatio:window.devicePixelRatio,renderingWorkerPath:ar(this.ajsWorkerPath,this.windowObj)?sr(this.ajsWorkerPath,D):"".concat(this.ajsWorkerPath).concat(D)}};this._ajsBinaryStartTime=performance.now(),this.signalDispatcher.trigger("ajsBinaryLoadStarted",{startTime:this._ajsBinaryStartTime,isFullBuild:R||this.useLegacyRichBuild,isLiteBuild:this.isLiteBuild}),this._postToWorker(k),this.getEnableProgressiveRendering()&&this.createMsgChannelBwMainAndRenderingWorker()})}createMsgChannelBwMainAndRenderingWorker(){const{port1:r,port2:f}=new MessageChannel;this._postToWorker({command:"transferPortToRenderingWorker",port:r,transferList:[r]}),f.onmessage=this._onWorkerMessage.bind(this)}registerPDFBufferFetcher(r){this.fetchPDFBufferRanges=r}_handleCNPDFDownloadManagerEvent(r,f){switch(r){case"componentDownloadEnd":{const{componentPath:r,componentArrayBuffer:y}=f;if(r&&y){const f={[r]:y};this.sendMessageToWorker({command:"setCnpdfComponents",params:{cnpdfComponents:f}})}break}case"completeCNPDFAvailable":this.signalDispatcher.trigger("completeCNPDFAvailable",{})}}setCNPDFDownloadManager(r){this.isCNPDF=!0,this._cnpdfDownloadManager=r,this._cnpdfDownloadManager.subscribe(this._handleCNPDFDownloadManagerEvent.bind(this))}notifyPDFBuffer(r){const f={command:"setPDFBuffer",params:{buffer:r}};this.signalDispatcher.trigger("completePDFBufferAvailable",{}),this.setPDFBuffer(r),this._postToWorker(f)}setPDFBuffer(r){this._pdfBuffer=r}terminate(){var r;this._terminateWorker(),null===(r=this._cnpdfDownloadManager)||void 0===r||r.terminate(),wt("AJS proxy worker is terminated")}terminateRenderingWorker(){const r={command:"terminateRenderingWorker"};return this.sendMessageToWorker(r)}_terminateWorker(){this.worker&&this.worker.terminate()}_canSwitchToLegacyRichBuild(){return!this.useLegacyRichBuild&&this._wasmSwitchHandler.canSwitch()}_restartWorker(){return this._terminateWorker(),this.worker=void 0,this.init()}loadFullWorker(){return this._switchToLegacyRichBuild()}getUpdatedPDF(){const r={data:{buffer:arguments.length>0&&void 0!==arguments[0]&&arguments[0]?this._decryptedPdfBuffer:this._pdfBuffer},isCNPDF:this.isCNPDF};return Promise.resolve(r)}getPDFBufferForCNPDF(){const r={data:{buffer:this._pdfBufferForCNPDF},isCNPDF:this.isCNPDF};return Promise.resolve(r)}_getOpenDocMessage(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this.isCNPDF&&this._openCNPDFMessage)return this._openCNPDFMessage;const f={command:M,priority:1,params:{buffer:this._pdfBuffer,password:this._pdfPassword,includeActions:this._includeDocLevelActions,jsSAB:this._jsSAB}};return r&&(f.msgId=r),f}_cleanUpLinearizationWorkflow(){let r=Promise.resolve();return this._pdfBuffer||(r=this.fetchPDFBufferRanges([{start:0}]).then(r=>{const f=r[0];this.setPDFBuffer(f)})),r.then(()=>{this._linearizationInfo={},this.fetchPDFBufferRanges=null})}isLinearizedWorkflow(){return this._linearizationInfo.pdfSize}switchToNonLinearizedWorkflow(r){return this.sendMessageToWorker({command:"pauseMessageProcessing",params:{}}),this._cleanUpLinearizationWorkflow().then(()=>{const f=(null==r?void 0:r.command)===M,y=f?r.msgId:"",S=this._getOpenDocMessage(y);S.params.switchingToNonLinearizedWorkflow=!0;const R=this.sendMessageToWorker(S);let D;return D=r&&!f?this.sendMessageToWorker(r):R,this.sendMessageToWorker({command:"resumeMessageProcessing",params:{}}),D})}_switchToLegacyRichBuild(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(this._canSwitchToLegacyRichBuild()){ur(this._jsSAB,!1);const f=this.isLinearizedWorkflow()?this._cleanUpLinearizationWorkflow():Promise.resolve();return this._wasmSwitchHandler.switchToFullBuild(r,f)}return Promise.resolve()}_onWasmError(r){let f="WASM_ERROR";this.enableWasmExceptions||(f="SecondTimeSwitchJS",this._canSwitchToLegacyRichBuild()&&(f=this.isLinearizedWorkflow()?"LinearizationSwitchJS":"FirstTimeSwitchJS"));const y=this.isLinearizedWorkflow()?Ze.LINEARIZED:Ze.NON_LINEARIZED;return this._wasmErrorHandler.handleWasmError(r,f,y,this._lastMessage).then(()=>{var y;const S=this.isCNPDF&&(null==r||null===(y=r.data)||void 0===y||null===(y=y.currEvent)||void 0===y?void 0:y.command)===ie;["WASM_ERROR","SecondTimeSwitchJS"].includes(f)&&!S&&(this._postToWorker({command:"resumeMessageProcessing",params:{}}),ur(this._jsSAB,!0))})}_populateCnpdfComponents(r,f){if(f&&Object.keys(f).length>0&&r.params){const y=r.params.cnpdfComponents||{};r.params.cnpdfComponents=Nr(Nr({},y),f)}}_logPrefetchedCnpdfComponents(r,f){if(f&&Object.keys(f).length>0){const y=this._cnpdfDownloadManager.prefetchedComponentLogs().filter(r=>{const{componentPath:y}=r;return Object.keys(f).includes(y)});y.length>0&&(this._cnpdfPrefetchedComponentLogs[r.msgId]=y)}}sendMessageToWorker(r){let f=Promise.resolve();!this.enableWasmExceptions&&Ne.includes(r.command)&&(f=this.loadFullWorker());let y=Promise.resolve();return this._cnpdfDownloadManager&&(y=this._cnpdfDownloadManager.fetchMissingComponents(r,k)),Promise.all([f,y]).then(f=>{let[y,S]=f;if(this._populateCnpdfComponents(r,S),r.command===M&&r.params){const{buffer:f,password:y,linearizationInfo:S,jsSAB:R,includeActions:D}=r.params;S?(this._linearizationInfo=S,this._int32PartialPDFSAB=new Int32Array(this._linearizationInfo.partialPDFSAB)):(this._pdfBuffer=f,this.signalDispatcher.trigger("completePDFBufferAvailable",{})),this._pdfPassword=y,this._includeDocLevelActions=D,this._jsSAB=R}if(r.command===le){const{certificateChainValidators:f}=r.params;this._digSigHandler=new Cr(f),delete r.params.certificateChainValidators}return new Promise((f,y)=>{const R=r,D=performance.now();R.mainThreadDispatchTime=I(),R.msgId||(R.msgId=this._getUpdatedMessageCount(),this._logPrefetchedCnpdfComponents(R,S),this._messageMap[R.msgId]=r=>{const S=performance.now()-D;let k={};r.error?(k=Nr(Nr({},r),{},{totalTime:S}),y(k)):(k=Nr(Nr({},r.data),{},{totalTime:S}),f(k)),wt("msgId and TotalTime",R.msgId,S)}),this._postToWorker(R)})})}sendMessageToWorkerSynchronously(r){return new Promise((f,y)=>{const S=r,R=performance.now();S.msgId||(S.msgId=this._getUpdatedMessageCount(),this._messageMap[S.msgId]=r=>{const D=performance.now()-R;let k={};r.error?(k=Nr(Nr({},r),{},{totalTime:D}),y(k)):(k=Nr(Nr({},r.data),{},{totalTime:D}),f(k)),wt("msgId and TotalTime",S.msgId,D)}),this._postToWorker(S)})}_trackMessage(r){null!=r&&r.msgId&&this.apiTrackingInfo.enabled&&this.apiTrackingInfo.trackList.includes(r.command)&&this._unsettledMessageList.push(r.msgId)}_postToWorker(r){const f=r;wt("message to worker",f);const y=f.transferList||[];delete f.transferList,this._trackMessage(f),this.worker.postMessage(f,y)}_updatePluginInfo(r){const{activePluginMode:f,activePluginModeStartTime:y}=this.activePluginModeInfo,{activePluginMode:S}=r;let R=null;if(S&&(R=performance.now(),this.pluginModesEntered.has(S)||this.pluginModesEntered.set(S,{})),f&&y){const r=performance.now();this.pluginModesEntered.set(f,{timeSpent:r-y})}this.activePluginModeInfo={activePluginMode:S,activePluginModeStartTime:R}}_notifyBufferRanges(r,f){if(r.length!==f.length)this._int32PartialPDFSAB[0]=Me.INCOMPLETE_BUFFER_RANGES_DOWNLOADED;else{let r,y,S=f.length;for(let R=0;R<f.length;R++){if(r=new Uint8Array(f[R]),this._int32PartialPDFSAB[R]=r.length,y=new Int32Array(r,0,r.length),this._int32PartialPDFSAB.length-S<y.length){this._int32PartialPDFSAB[0]=Me.SAB_INDEX_OUT_OF_BOUNDS;break}this._int32PartialPDFSAB.set(y,S),S+=y.length}}Atomics.notify(this._int32PartialPDFSAB,0,1)}_handleFileData(r){let{fileDescription:f,fileId:y,fileData:S,fileDataMimeType:R}=r;"annotData"===f&&this._setAnnotData({annotId:y,annotData:S,annotDataMimeType:R})}getAnnotData(r){return this._annotDataClient.getAnnotData(r)}_setAnnotData(r){this._annotDataClient.setAnnotData(r)}getFTPDFWebViewHTMLStream(r,f){return this._ftpdfWebViewCache.getHTMLStream(r,f,this.sendMessageToWorker.bind(this))}_setFTPDFWebViewHTML(r,f,y){this._ftpdfWebViewCache.setHTML(r,f,y)}getLiquidModeViewResource(r){return this._ftpdfWebViewCache.getResource(r)}_setFTPDFWebViewResource(r,f,y){this._ftpdfWebViewCache.setResource(r,f,y)}_notifyIfWorkerIdle(){this.currentPluginCount()||0!==this._unsettledMessageList.length||this.signalDispatcher.trigger("workerIdle",{})}_removeUnsettledMessage(r){const f=this._unsettledMessageList.indexOf(r);this._unsettledMessageList.splice(f,1)}_refineDataForLogging(r){if(!r.transferList)return r;const f=r.transferList,{data:y}=r,S=jr(r,vt);if(!y[f])return r;const{[f]:R}=y,D=jr(y,[f].map(Ir));return Nr(Nr({},S),{},{data:Nr(Nr({},D),{},{[f]:"data not logged by default"})})}_onWorkerMessage(r){const{data:f}=r;if(f.workerThreadDispatchTime&&(f.workerToMainTime=I()-f.workerThreadDispatchTime,delete f.workerThreadDispatchTime),wt("message from worker",this._refineDataForLogging(f)),"proxyInitDone"===f.message)this.signalDispatcher.trigger(yt,{[Ye]:W(f.proxyInitTime)});else if("fileData"===f.message)this._handleFileData(f);else if("init"===f.command){if(!f.isInitialized)return this._initReject({error:f.error});this.signalDispatcher.trigger(yt,{[Xe]:performance.now()}),this._initResolve()}else if("wasmInitTime"===f.command){const{importScriptStartTime:r,importScriptEndTime:y,wasmInitTime:S,wasmLoadStartTime:R,wasmLoadEndTime:D,resourceType:k}=f;this.signalDispatcher.trigger("ajsBinaryTotalTime",{ajsBinaryTotalTime:performance.now()-this._ajsBinaryStartTime,resourceType:k}),this.signalDispatcher.trigger(yt,{[tt]:W(R),[rt]:W(D),[et]:W(S),[at]:W(r),[ot]:W(y)})}else if("secondaryModuleLoaded"===f.command){const{info:r,timings:y}=f,{secondaryModuleInitTime:S,secondaryModuleLoadStartTime:R,secondaryModuleLoadEndTime:D}=y,k={[it]:W(R),[nt]:W(D),[st]:W(S)};this.signalDispatcher.trigger(yt,k),this.signalDispatcher.trigger("secondaryModuleLoaded",Nr(Nr({},r),k))}else if("generateGlyphBitmap"===f.command){const{resolveId:r,params:S}=f,{fontInfo:R,chars:D}=S,k=y.generateGlyphBitmap(D,R),{matrix:F}=R;this.signalDispatcher.trigger("unembeddedFontsDetected",{chars:D,fontName:F.fontName});const M={command:"missingFontBitmaps",params:{missingTextData:k,resolveId:r}};this._postToWorker(M)}else if("updatePDFBuffer"===f.command)f.pdfBuffer&&(f.decryptedBuffer?this._decryptedPdfBuffer=f.pdfBuffer:this._pdfBuffer=f.pdfBuffer);else if("updatePDFBufferForCNPDF"===f.command)this._pdfBufferForCNPDF=f.pdfBuffer;else if("updateCNPDF"===f.command)this._cnpdfDownloadManager.updateCNPDF(f);else if("fetchPDFBufferRanges"===f.command)if(this._pdfBuffer){wt("fetchPDFBufferRanges: full pdf available");const r=f.ranges.map(r=>this._pdfBuffer.slice(r.start,Math.min(r.end+1,this._pdfBuffer.byteLength)));this._notifyBufferRanges(f.ranges,r)}else this.fetchPDFBufferRanges(f.ranges).then(r=>this._notifyBufferRanges(f.ranges,r));else if("fetchCNFTPDFUpdates"===f.command)this._ftpdfWebViewCache.fetchCNFTPDFUpdates(f);else if("liquidModePerfMarker"===f.command)this._ftpdfWebViewCache.recordPerfMarker(f);else if("setFTPDFWebViewHTML"===f.command){const{html:r,translationStatus:y}=f,S=jr(f,Pt);this._setFTPDFWebViewHTML(r,y,S)}else if("setFTPDFWebViewResource"===f.command){const{resourceURL:r,resourceContent:y,resourceMimeType:S}=f;this._setFTPDFWebViewResource(r,y,S)}else if(f.command===le)this._digSigHandler&&this._digSigHandler.responseHandler(r,this._callMessageCallback.bind(this));else if(f.lastProcessedMessage)this._lastMessage=f.lastProcessedMessage;else if(Object.prototype.hasOwnProperty.call(f,"activePluginMode")&&"string"==typeof f.activePluginMode)this._updatePluginInfo(f);else if("trackingEvent"===f.command)this.signalDispatcher.trigger(f.eventName,f.data);else if("trackDeletedMessages"===f.command)this._settleMessages(f.deletedMessagesList);else{"openPDF"===f.command&&this._pdfBuffer&&ur(this._jsSAB,!0);const{msgId:y,error:S}=f;if(void 0!==y)if("WASM_ERROR"===S)this._onWasmError(f);else{let R;if(S)R=Nr(Nr({},f),{},{error:f.err_code||S});else{R=r;const S=this._cnpdfPrefetchedComponentLogs[y];delete this._cnpdfPrefetchedComponentLogs[y],f.isCNPDF=this.isCNPDF,S&&(Array.isArray(f.cnpdfComponentsFetched)?f.cnpdfComponentsFetched.push(...S):f.cnpdfComponentsFetched=S)}this._callMessageCallback(y,R)}}}_settleMessages(r){this._unsettledMessageList.length&&(r.forEach(r=>{this._removeUnsettledMessage(r)}),setTimeout(()=>{this._notifyIfWorkerIdle()},10)),r.forEach(r=>delete this._messageMap[r])}_callMessageCallback(r,f){const{lastEventBeforeWasmSwitch:y}=this._wasmErrorHandler;y&&r===y.msgId&&this._wasmErrorHandler.resetLastEventBeforeWasmSwitch();const S=this._messageMap[r];j(S)&&S(f),this._settleMessages([r])}_onWorkerError(r){this._onWasmError(r)}},St=class{constructor(){this._reset()}_reset(){this.commonListeners=[]}subscribe(r){this.commonListeners.includes(r)||this.commonListeners.push(r)}unsubscribe(r){this.commonListeners.includes(r)&&this.commonListeners.splice(this.commonListeners.indexOf(r),1)}getAllListeners(){return this.commonListeners}trigger(){for(var r=arguments.length,f=new Array(r),y=0;y<r;y++)f[y]=arguments[y];this.commonListeners.forEach(r=>r(...f,k))}removeAll(){this._reset()}},Rt={ZOOM_LEVEL_CHANGE:"zoomLevelChange",HC_THEME_CHANGE:"highContrastThemeChange"},Ct=(Object.freeze({invalid:0,openPDF:1,openCNPDF:2,applyCNPDFUpdates:3,getPageRendition:4,getPageRangeGeometry:5,extractPageText:6,selectContent:7,hitTest:8,getSelectedText:9,getBookmarks:10,getDataFromNamesTree:11,getAttachments:12,getAttachmentBuffer:13,getHyperlinkData:14,findText:15,getAnnotAppearance:16,createAnnot:17,editAnnot:18,deleteAnnot:19,getAnnots:20,getVoiceAnnotData:21,registerLicense:22,getDocumentXMPMetadata:23,editWillBegin:24,editDidEnd:25,processAction:26,editOperationBegin:27,editOperationDone:28,getPageFontList:29,saveChangesToDoc:30,getPDFBufferForCNPDF:31,setLinearizedBlockSize:32,getFASFields:33,createFASField:34,deleteFASField:35,updateFASField:36,flattenFASFields:37,getFASFieldAppearance:38,createAnnots:39,deleteAnnots:40,translateToLiquidModeView:41,applyCNFTPDFUpdates:42,getHtmlLocationForDocPoint:43,getDocPointForHtmlLocation:44,JSApi:45,createFormField:46,createFormFields:47,updateFormField:48,deleteFormField:49,deleteFormFields:50,getFormFields:51,updateSignMetadata:52,getSignMetadata:53,lockFormFields:54,createLinkAnnot:55,getLinkAnnots:56,editLinkAnnot:57,deleteLinkAnnot:58,deleteLinkAnnots:59,addIcon:60,updateDocInfo:61,updateFormFields:62,detectSignFields:63,getOverprintType:64,verifyDigitalSignatures:65,editLinkAnnots:66,isFileQualifiedForLiquidMode:67,removeOffScreenCanvas:68,terminateRenderingWorker:69,detectLanguage:70,getPagesScanStatus:71,getMetadata:72,isScannedDocument:73,getImageBuffer:74,getDocumentParts:75,setDocumentParts:76,getImageC2PAMetadata:77,getPageChannel:78,getEncryptedBuffer:79,getDecryptedBuffer:80,unblockSave:81,firstEditCommit:82}),Object.freeze({kNoError:0,kZeroByteFile:1,kPDFDownloadingError:2,kIncorrectPassword:3,kLinearizationDictNotFound:4,kUnknownError:5}),Object.freeze({NO_CONTENT:0,TEXT:1,HYPERLINK:2,INVALID:3,IMAGE:4,PATH:5}),Object.freeze({kNoDirection:0,kForwardArrow:1,kBackwardArrow:2,kUpArrow:3,kDownArrow:4})),Dt=Object.freeze({kNoShortcut:0,kLineBegin:1,kLineEnd:2}),It=Object.freeze({NORMAL:1,RELAXED:2,DISABLED:3}),jt=Object.freeze({BREAK_ON_FIRST_NON_SCANNED_PAGE:1,BREAK_ON_FIRST_SCANNED_PAGE:2}),Et=Object.freeze({PAGE:0,TEXT:1,PATH:2,IMAGE:3,GLYPHINFO:4});function Jr(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",S=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const{childCb:R,componentCb:D}=f,{components:k,children:F,path:M}=r;let ie;ie=M?"".concat(y,"/").concat(M):"".concat(y),Array.isArray(k)&&j(D)&&k.forEach(r=>{const f="".concat(ie,"/").concat(r.path);D({component:r,absolutePath:f})}),Array.isArray(F)&&F.forEach(r=>{if(j(R)){const f="".concat(ie,"/").concat(r.path);R({child:r,absolutePath:f})}S&&Jr(r,f,ie,S)})}function Yr(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;return f?"".concat(r," page number ").concat(f):r}class $r{constructor(r){let{manifest:f,cnpdfFetcher:y,waitForFullCNPDF:S=!1}=r;this._manifest=f,this._cnpdfFetcher=y,this._componentCache={},this._componentPathIdDict={},this._componentIdPathDict={},this._requiredComponentPerPageList={},this._waitForFullCNPDF=S,this._fullCnpdfAvailable=!1,this._fetchedCNPDFComponentLogs=[],this._xrefPaths=[],this._signalDispatcher=new St,this._handleCnpdfManagerEvent=this.handleCnpdfManagerEvent.bind(this),this._resetDiffComponents(),this._componentAvailabilityMap={ajs:{}},this._init()}_init(){this._componentAvailabilityMap.ajs=new Map,this._mapComponents(this._manifest),this._cnpdfFetcher.subscribe(this._handleCnpdfManagerEvent)}getManifest(){return this._manifest}applyCNPDFUpdates(r){let{manifest:f,updatedComponents:y}=r;this._manifest=f,this._mapComponents(this._manifest),this._freeComponentCache(y),this._freeComponentAvailabilityMap(y)}handleCnpdfManagerEvent(r){const{eventName:f,componentId:y,componentPath:S,componentArrayBuffer:R}=r;switch(f){case"componentDownloadStart":default:break;case"componentDownloadEnd":if(y)this._componentCache[y]=R;else if(S){const r=this._componentPathIdDict[S];this._componentCache[r]=R}this._notifyIfFullCNPDFAvailable(),this._signalDispatcher.trigger("componentDownloadEnd",{componentId:y||this._componentPathIdDict[S],componentPath:S||this._componentIdPathDict[y],componentArrayBuffer:R})}}subscribe(r){this._signalDispatcher.subscribe(r)}unsubscribe(r){this._signalDispatcher.unsubscribe(r)}_mapComponents(r){this._xrefPaths=[],function Xr(r,f){Jr(r,{componentCb:f},arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",!(arguments.length>3&&void 0!==arguments[3])||arguments[3])}(r,r=>{let{component:f,absolutePath:y}=r;if(this._componentPathIdDict[y]=f.id,this._componentIdPathDict[f.id]=y,y.includes("/pages/")){const r=y.match(/\/pages\/(\d+)\/pageObjects\.cos/);if(r){const f=parseInt(r[1],10);this._requiredComponentPerPageList[f+1]||(this._requiredComponentPerPageList[f+1]=[]),this._requiredComponentPerPageList[f+1]=[...this._requiredComponentPerPageList[f+1],y]}}y.endsWith("xref.json")&&this._xrefPaths.push(y)})}_getRequiredComponentList(r){if(this._waitForFullCNPDF)return Object.keys(this._componentIdPathDict);if(void 0===r.params)return[];const f=[],y=[];switch(r.command){case"openCNPDF":f.push("/page-hints-table.json","/root/rootObjects.cos","/document/StructTree.cos","/document/docObjects.cos","/document/NameTree.cos"),f.push(...this._xrefPaths);break;case"getPageRendition":{var S;const y=null===(S=r.params)||void 0===S?void 0:S.pageNum;y&&this._requiredComponentPerPageList[y]&&f.push(...this._requiredComponentPerPageList[y]);break}case"applyCNPDFUpdates":{const{updatedComponents:f,addedComponents:S}=r.params,i=r=>{Array.isArray(r)&&y.push(...r.map(r=>r.id))};i(f),i(S);break}case"getPDFBufferForCNPDF":Object.keys(this._componentPathIdDict).forEach(r=>{f.push(r)})}return[...f.map(r=>this._componentPathIdDict[r]),...y].filter(r=>void 0!==r)}_verifyAllComponentsCached(){return Object.keys(this._componentPathIdDict).every(r=>this._componentCache[this._componentPathIdDict[r]])}_notifyIfFullCNPDFAvailable(){this._verifyAllComponentsCached()&&!this._fullCnpdfAvailable&&(this._signalDispatcher.trigger("completeCNPDFAvailable",{}),this._fullCnpdfAvailable=!0)}_resetDiffComponents(){this._diffComponents=[]}registerPageLevelApis(r){}registerDocLevelApis(r){}fetchMissingComponents(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ajs";const y=[Promise.resolve()],S=this._getRequiredComponentList(r);for(const f of S)if(!this._componentCache[f]){const S=performance.now(),R=this._cnpdfFetcher.getComponent({componentId:f}).then(r=>{this._componentCache[f]=r});y.push(R),R.then(()=>{var y;const R=Yr(r.command,null===(y=r.params)||void 0===y?void 0:y.pageNum);this._fetchedCNPDFComponentLogs.push({componentPath:this._componentIdPathDict[f],componentId:f,timeTakenToPrefetch:performance.now()-S,trigger:R})})}return Promise.all(y).then(()=>{const r={};for(const y of S)!this._componentAvailabilityMap[f].get(y)&&this._componentCache[y]&&(this._componentAvailabilityMap[f].set(y,!0),r[this._componentIdPathDict[y]]=this._componentCache[y]);return r})}prefetchedComponentLogs(){const r=this._fetchedCNPDFComponentLogs;return this._fetchedCNPDFComponentLogs=[],r}prefetchCNPDF(){return this.fetchCompleteCNPDF(_t.LOW)}updateCNPDF(r){let{manifest:f,diffComponents:y}=r;this._manifest=f,y.forEach(r=>{this._componentCache[r.id]=r.componentBuffer}),this._diffComponents.push(...y)}getCNPDFUpdates(){const r=structuredClone(this._manifest);return Jr(r,{componentCb:r=>{let{component:f}=r;this._diffComponents.find(r=>r.id===f.id)&&(f.componentBuffer=this._componentCache[f.id])}}),this._resetDiffComponents(),{updatedManifest:r}}fetchCompleteCNPDF(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_t.HIGH;return this._cnpdfFetcher.fetchCompleteCNPDF(r).then(r=>{if(r){const f={};return Object.entries(r).forEach(r=>{let[y,S]=r;this._componentCache[y]=S;const R=this._componentIdPathDict[y];R&&(f[R]=S)}),this._notifyIfFullCNPDFAvailable(),f}return r})}isFullCNPDFAvailable(){return this._fullCnpdfAvailable}_freeComponentAvailabilityMap(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(r=>{const f=r.id;f&&Object.keys(this._componentAvailabilityMap).forEach(r=>{this._componentAvailabilityMap[r].delete(f)})})}_freeComponentCache(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(r=>{const f=r.id;f&&this._componentCache[f]&&delete this._componentCache[f]})}terminate(){this._signalDispatcher.removeAll()}}const Qr=(r,f,y,S)=>{const R=f[0],D=y-f[3],k=f[2]-f[0],F=f[3]-f[1];r.fillStyle="rgba(".concat(S,", ").concat(S,", ").concat(S,", 1)"),r.fillRect(R,D,k,F)};class Zr{constructor(r,f,y){this.value=r,this.priority=f,this.nodeId=y}}const Nt=class{constructor(r){this.maxSize=r,this.heap=[]}enqueue(r,f){return this.heap.length>=this.maxSize?null:(this.heap.push(new Zr(r,f,this.heap.length)),this._bubbleUp(this.heap.length-1),this.heap[this.heap.length-1])}dequeue(){if(0===this.heap.length)return null;if(1===this.heap.length)return this.heap.pop().value;const r=this.heap[0];return this.heap[0]=this.heap.pop(),this._bubbleDown(0),r.value}updatePriority(r,f){const y=this.heap.findIndex(f=>f.nodeId===r);if(-1===y)return;const S=this.heap[y],R=S.priority;f!==R&&(S.priority=f,f<R?this._bubbleUp(y):this._bubbleDown(y))}peekNode(){return this.heap.length>0?this.heap[0]:void 0}peekPriority(){var r;return null===(r=this.peekNode())||void 0===r?void 0:r.priority}peekValue(){var r;return null===(r=this.peekNode())||void 0===r?void 0:r.value}isEmpty(){return 0===this.heap.length}isFull(){return this.heap.length>=this.maxSize}size(){return this.heap.length}clear(){this.heap=[]}find(r){return this.heap.find(f=>r(f))}_swapElements(r,f){[this.heap[r],this.heap[f]]=[this.heap[f],this.heap[r]]}_bubbleUp(r){let f=r;for(;f>0;){const r=Math.floor((f-1)/2);if(this.heap[f].priority>=this.heap[r].priority)break;this._swapElements(f,r),f=r}}_getLeftChild(r){return 2*r+1}_getRightChild(r){return 2*r+2}_isValidIndex(r){return r>=0&&r<this.heap.length}_hasLeftChild(r){return this._isValidIndex(this._getLeftChild(r))}_hasRightChild(r){return this._isValidIndex(this._getRightChild(r))}_bubbleDown(r){let f=r;if(this._isValidIndex(f)&&this.heap[f])for(;this._hasLeftChild(f);){let r=this._getLeftChild(f);const y=this._getRightChild(f);if(this._hasRightChild(f)&&this.heap[y].priority<this.heap[r].priority&&(r=y),this.heap[f].priority<=this.heap[r].priority)break;this._swapElements(f,r),f=r}}},Ft=["bbox","baseline"],Ot=["blocks","lines","paragraphs","symbols","words","text","tsv","hocr"];function nn(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function an(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?nn(Object(y),!0).forEach(function(f){sn(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):nn(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function sn(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}function on(r,f){if(null==r)return{};var y,S,R=function(r,f){if(null==r)return{};var y={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;y[S]=r[S]}return y}(r,f);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(r);for(S=0;S<D.length;S++)y=D[S],f.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(R[y]=r[y])}return R}const xt=40,Mt=6,un=(r,f,y)=>{if(void 0!==r&&void 0!==f)for(let S=r;S<=f;S++){const r=y(S);if(r)return r}},Lt={GET_PAGES_SEARCHABLE_STATUS:"getPagesSearchableStatus",PAGE_RENDITION:"pageRendition",OCR:"ocr",OCR_POST_PROCESSING:"ocrPostProcessing",RESPONSE_CALLBACK:"responseCallback"};class hn{constructor(r,f){this.pageNum=f,this.op=r,this.isCompleted=!1}}const Wt=class{constructor(){let{numPages:r=0,getPagesSearchableStatus:f,pageRenditionGenerator:y,getPageRangeInView:S,recognizeImage:R,convertToPDFSpace:D,responseCallback:k=()=>Promise.resolve(),eventListener:F,ocrZoomLevel:M,pageCropBoxes:ie,forceSearchableOCR:ne=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this._numPages=r,this._getPagesSearchableStatus=f,this._pageRenditionGenerator=y,this._recognizeImage=R,this._responseCallback=k,this._convertToPDFSpace=D,this._getPageRangeInView=S,this._eventListener=F,this._ocrZoomLevel=M,this._forceSearchableOCR=ne,this._pageCropBoxes=ie,this._signalDispatcher=new St,"function"==typeof this._eventListener&&this._signalDispatcher.subscribe(this._eventListener),this._initCaches()}_initCaches(){this._isPageSearchable=[],this._searchableStatusOpCache=[],this._searchableOpCache=[],this._ocrDataCache=[],this._priorityQueue=new Nt(this._numPages),this._ongoingOps=[],this._maxConcurrentOps=1,this._queueNodeMap={},this._opPromisesMap={}}_convertBboxToPDFSpace(r,f,y){if(!this._convertToPDFSpace)throw new Error("convertToPDFSpace is required for view to PDF coordinate conversion");const{x0:S,y0:R,x1:D,y1:k}=r,{x:F,y:M}=this._convertToPDFSpace({x:S,y:R,pageNum:f+1,scale:y}),{x:ie,y:ne}=this._convertToPDFSpace({x:D,y:k,pageNum:f+1,scale:y});return{x0:F,y0:M,x1:ie,y1:ne}}_processOCRDataForPDFSpace(r,f,y){const n=r=>this._convertBboxToPDFSpace(r,f,y),i=r=>{const{bbox:f,baseline:y}=r;return an(an({},on(r,Ft)),{},{bbox:n(f),baseline:n(y)})},a=r=>i(r),s=r=>{const f=i(r),S=r.font_size/y;return an(an({},f),{},{symbols:f.symbols.map(a),fontSize:S})},{blocks:S,lines:R,paragraphs:D,symbols:k,words:F,text:M,tsv:ie,hocr:ne}=r;return an(an({},on(r,Ot)),{},{coordinateSpace:"PDF",words:F.map(s),lines:R.map(r=>{const f=i(r);return an(an({},f),{},{words:f.words.map(s)})}),symbols:k.map(a)})}async makeDocumentSearchable(){return this.makePagesSearchable(1,this._numPages).then(r=>(wt("makeDocumentSearchable completed with resp:",r),r))}async makePagesSearchable(r,f){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:xt;const S=[];for(let R=f;R>=r;R--){const r=this._opPromisesMap[R]||this._enqueueOCROpForPage(R,y);S.unshift(r),this.updatePagePriority(R,y)}return this._processNextOCROps(),Promise.all(S).then(r=>r.filter(r=>r))}_enqueueOCROpForPage(r,f){const{promise:y,resolve:S,reject:R}=(()=>{let r,f;return{promise:new Promise((y,S)=>{r=y,f=S}),resolve:r,reject:f}})();return this._opPromisesMap[r]=y,this._queueNodeMap[r]=this._priorityQueue.enqueue(new hn(()=>{const f=this._makePagesSearchable(r,r).then(f=>(this._signalDispatcher.trigger("pageOCRCompleted",{pageNum:r,response:f[0]}),f[0]));return f.then(S).catch(R),f},r),f),y}_getPagesOutOfRange(r,f){if(!r||!f)return[];const y=[];return un(r.start,r.end,r=>{(r<f.start||r>f.end)&&y.push(r)}),y}_updatePriorityOfPagesInView(){if(!this._getPageRangeInView)return;const r=this._getPageRangeInView();(this._oldPageRangeInView||r)&&(this._getPagesOutOfRange(this._oldPageRangeInView,r).forEach(r=>{this.updatePagePriority(r+1,xt)}),un(r.start,r.end,r=>{this.updatePagePriority(r+1,Mt)}),this._oldPageRangeInView=r)}_processNextOCROps(){const e=()=>this._ongoingOps.length<this._maxConcurrentOps&&!this._priorityQueue.isEmpty();if(e())for(this._updatePriorityOfPagesInView();e();){const r=this._priorityQueue.dequeue();if(!r)continue;const{pageNum:f,op:y}=r,S=y();this._ongoingOps.push(S),S.finally(()=>{this._ongoingOps.splice(this._ongoingOps.indexOf(S),1),delete this._queueNodeMap[f],this._processNextOCROps()})}}updatePagePriority(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:xt;const y=this._queueNodeMap[r];y&&f!==y.priority&&this._priorityQueue.updatePriority(y.nodeId,f)}setMaxConcurrentOps(r){this._maxConcurrentOps=r,this._processNextOCROps()}async _getOrComputeSearchableStatus(r,f){if(this._forceSearchableOCR){for(let y=r;y<=f;y++)this._isPageSearchable[y]=!1;return Promise.resolve(this._isPageSearchable)}let y,S=!1;if(un(r,f,r=>{if(!this._searchableStatusOpCache[r])return S=!0,!0}),S)y=this._getPagesSearchableStatus(r,f).then(f=>{const{pagesScannedStatus:y,status:S}=f.data;if("failed"===S)throw new Error(f.data.error);return y.forEach((f,y)=>{const S=y+r;this._isPageSearchable[S]=f}),this._isPageSearchable}),un(r,f,r=>{this._searchableStatusOpCache[r]||(this._searchableStatusOpCache[r]=y)});else{const S=[];un(r,f,r=>{S.push(this._searchableStatusOpCache[r])}),y=Promise.all(S).then(()=>this._isPageSearchable)}return y}async _makePagesSearchable(r,f){const y=r-1,S=f-1;await B(Lt.GET_PAGES_SEARCHABLE_STATUS,this._getOrComputeSearchableStatus.bind(this))(y,S);const R=[];return un(y,S,r=>{!1===this._isPageSearchable[r]&&R.push(this._getSearchableOperation(r))}),Promise.allSettled(R)}async _getSearchableOperation(r){if(this._searchableOpCache[r])return this._searchableOpCache[r];const f=this._makePageSearchable(r);return this._searchableOpCache[r]=f,f}calculateZoomLevel(r){const[f,y,S,R]=this._pageCropBoxes[r]||this._pageCropBoxes[0],D=Math.abs(R-y),k=Math.abs(S-f);let F=2e3/Math.min(D,k);return F=Math.max(1,Math.min(2,F)),F}async _makePageSearchable(r){let f=this._ocrZoomLevel;f||(f=this.calculateZoomLevel(r));const y=1*f,S=r+1,i=r=>"".concat(r,"-").concat(S),R=await B(i(Lt.PAGE_RENDITION),this._pageRenditionGenerator.bind(this))({pageNum:S,zoomLevel:f,devicePixelRatio:1}).then(r=>{let{buffer:f}=r;return{image:f}}),D=await B(i(Lt.OCR),this._recognizeImage.bind(this))({image:R.image});let k=D;"PDF"!==D.coordinateSpace.toLowerCase()&&(k=this._processOCRDataForPDFSpace(D,r,y)),this._ocrDataCache[r]=k;const F={ocrData:k,pageNum:S};return await B(i(Lt.RESPONSE_CALLBACK),this._responseCallback.bind(this))(F),F.timings=this._extractPerformanceTimingsForPage(S),F}_extractPerformanceTimingsForPage(r){const f={};return Object.values(Lt).forEach(y=>{let S=(f=>"".concat(f,"-").concat(r))(y);y===Lt.GET_PAGES_SEARCHABLE_STATUS&&(S=y);const R=performance.getEntriesByName(S);R.length&&(f[y]=R[R.length-1].duration)}),f}reset(){this._initCaches()}terminate(){this.reset(),this._signalDispatcher.removeAll()}},Ht=["openPdfResponseCallback"],qt=["evtName"];function mn(r,f){if(null==r)return{};var y,S,R=function(r,f){if(null==r)return{};var y={};for(var S in r)if({}.hasOwnProperty.call(r,S)){if(f.includes(S))continue;y[S]=r[S]}return y}(r,f);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(r);for(S=0;S<D.length;S++)y=D[S],f.includes(y)||{}.propertyIsEnumerable.call(r,y)&&(R[y]=r[y])}return R}function bn(r,f){var y=Object.keys(r);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(r);f&&(S=S.filter(function(f){return Object.getOwnPropertyDescriptor(r,f).enumerable})),y.push.apply(y,S)}return y}function vn(r){for(var f=1;f<arguments.length;f++){var y=null!=arguments[f]?arguments[f]:{};f%2?bn(Object(y),!0).forEach(function(f){wn(r,f,y[f])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(y)):bn(Object(y)).forEach(function(f){Object.defineProperty(r,f,Object.getOwnPropertyDescriptor(y,f))})}return r}function wn(r,f,y){return(f=function(r){var f=function(r){if("object"!=typeof r||!r)return r;var f=r[Symbol.toPrimitive];if(void 0!==f){var y=f.call(r,"string");if("object"!=typeof y)return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(r)}(r);return"symbol"==typeof f?f:f+""}(f))in r?Object.defineProperty(r,f,{value:y,enumerable:!0,configurable:!0,writable:!0}):r[f]=y,r}class _n{constructor(r){let{ajsPath:f="",enableLogging:y=!1,useFullBuild:S=!1,useLiteBuild:R=!1,enableWasmExceptions:D=!1,workerCreator:k,windowObj:F=window,enableProgressiveRendering:M=!1,enableWasmChunking:ie=!1,apiTrackingInfo:ne={enabled:!1,trackList:[]},hostEnv:ae}=r;const le=Array.isArray(ne.trackList);if(Object.assign(this,{ajsPath:f,useLegacyRichBuild:S,useLiteBuild:R,enableWasmExceptions:D,enableLogging:y,workerCreator:k,windowObj:F,enableProgressiveRendering:M,enableWasmChunking:ie,apiTrackingInfo:{enabled:ne.enabled&&le,trackList:le?ne.trackList:[]},hostEnv:ae}),this.useLiteBuild&&!this.enableWasmExceptions)throw Error("Lite build is not supported without wasm exceptions");this._signalDispatcher=new St,this._pluginsMap=new Map,this._primaryAJSWorkerInitPromise=null,this._cnpdfAJSWorkerInitPromise=null,this._canvasMap=new Map,i.p=f,this._completePDFBufferPromise=null,this._fetchPdfBufferRangesCallback=null,this._linearizationPdfSize=0,this._coreApisForPlugins={},this._isCNPDFSwitchSuccessful=!1,this._pageRenditionGenerator=null,this._searchableOCRManager=null}get _isRenderingWorkerPresent(){return this._ajsWorker.getEnableProgressiveRendering()||!1}get _ajsWorker(){return this._cnpdfAJSWorker&&this._isCNPDFSwitchSuccessful?this._cnpdfAJSWorker:this._primaryAJSWorker}get ajsWorkerInitPromise(){return this._cnpdfAJSWorker&&this._isCNPDFSwitchSuccessful?this._cnpdfAJSWorkerInitPromise:this._primaryAJSWorkerInitPromise}_attachListenerToPlugin(r,f){const y=this._getPlugin(f);y&&y.subscribe(r)}_attachAllListenersToPlugin(r){this._signalDispatcher.getAllListeners().forEach(f=>this._attachListenerToPlugin(f,r))}_attachListenerToAllPlugins(r){this._pluginsMap.forEach((f,y)=>this._attachListenerToPlugin(r,y))}_removeAllListenersFromPlugin(r){const f=this._getPlugin(r);f&&this._signalDispatcher.getAllListeners().forEach(f.unsubscribe)}_removeListenerFromAllPlugins(r){this._pluginsMap.forEach(f=>f.unsubscribe(r))}_currentPluginCount(){return this._pluginsMap.size}_checkPluginDoesNotExist(r){let{name:f}=r;return new Promise((r,y)=>{this._getPlugin(f)&&y(new Error("Plugin ".concat(f," already exists"))),r()})}_checkApisDontExist(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return new Promise((f,y)=>{const S=r.filter(r=>this[r]);S.length&&y(new Error("Following apis already exist: ".concat(S.join(",")))),f()})}_getPlugin(r){return this._pluginsMap.has(r)?this._pluginsMap.get(r):null}_sendCoreApisToPlugin(r){const f=this._getPlugin(r);f&&f.setCoreApis(this._getExposedApis(f.requestedApiList))}_getCNPDFDownloadManager(){return this._cnpdfDownloadManager}_getExposedApis(){const r={};return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach(f=>{this[f]?r[f]=Promise.resolve(this[f].bind(this)):this._coreApisForPlugins[f]&&(r[f]=Promise.resolve(this._coreApisForPlugins[f].bind(this)))}),r}_populateSupportedPluginApis(r){let{name:f}=r;const y=this._getPlugin(f);y.supportedApiList.forEach(r=>{this[r]=y[r].bind(y)})}_removeSupportedPluginApis(r){let{name:f}=r;const y=this._getPlugin(f);y&&y.supportedApiList.forEach(r=>{delete this[r]})}_createMessageChannel(r,f){const{port1:y,port2:S}=new MessageChannel;return Promise.all([this._transferPortToPlugin(y,r),this._transferPortToT5(S,f)])}_transferPortToPlugin(r,f){const y={params:{port:r},transferList:[r]};return f.addMessagePort(y)}_transferPortToT5(r,f){const y={command:ae,params:{port:r,pluginName:f},transferList:[r]};return this._ajsWorker.sendMessageToWorker(y)}_removePluginPortFromT5(r){const f={command:"removeMessagePort",params:{pluginName:r}};return this._ajsWorker.sendMessageToWorker(f)}_createBatchOfMessagesAndSendToWorker(r,f,y,S){const R=[],D=[];f.forEach((r,S)=>{const k={command:y,params:vn(vn({},r),{},{shouldUpdatePDFBuffer:S===f.length-1})};if(R.push(k),r&&r.data&&r.data.appearanceData&&r.data.appearanceData.buffer){const f=r.data.appearanceData.buffer;D.push(f.buffer)}});const k={command:r,priority:S,params:{data:R},processingMode:Ve.BATCHED,transferList:D};return this._ajsWorker.sendMessageToWorker(k)}_terminateAllWorkers(){return this._signalDispatcher.removeAll(),Promise.all([this._terminatePrimaryWorker(),this._terminateCNPDFWorker()])}_terminateAJSWorkerInstance(r){return r?r.terminateRenderingWorker().catch(()=>{}).finally(()=>{null==r||r.terminate()}):Promise.resolve()}_terminatePrimaryWorker(){return this._terminateAJSWorkerInstance(this._primaryAJSWorker).then(()=>{this._primaryAJSWorker=null,this._primaryAJSWorkerInitPromise=null})}_terminateCNPDFWorker(){return this._terminateAJSWorkerInstance(this._cnpdfAJSWorker).then(()=>{this._cnpdfAJSWorker=null,this._cnpdfAJSWorkerInitPromise=null})}_createAJSWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{ajsPath:f,useLegacyRichBuild:y,useLiteBuild:S,enableWasmExceptions:R,enableWasmChunking:D,enableLogging:k,workerCreator:F,windowObj:M,enableProgressiveRendering:ie,hostEnv:ne}=this;return(r=>{Fe=r})(k),new At(vn({ajsWorkerPath:"".concat(f,"build/"),useLegacyRichBuild:y,useLiteBuild:S,enableWasmExceptions:R,enableWasmChunking:D,enableLogging:k,workerCreator:F,signalDispatcher:this._signalDispatcher,currentPluginCount:this._currentPluginCount.bind(this),windowObj:M,enableProgressiveRendering:ie,apiTrackingInfo:this.apiTrackingInfo,hostEnv:ne},r))}_initCNPDFWorker(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._cnpdfAJSWorker=this._createAJSWorker(r),this._cnpdfAJSWorkerInitPromise=this._cnpdfAJSWorker.init(),this._cnpdfAJSWorkerInitPromise}init(){return this._primaryAJSWorker=this._createAJSWorker(),this._primaryAJSWorkerInitPromise=this._primaryAJSWorker.init(),this.ajsWorkerInitPromise}registerPlugin(r){const{plugin:f,name:y,autoLoad:S}=r;return this._checkPluginDoesNotExist(r).then(()=>this._checkApisDontExist(f.supportedApiList)).then(()=>{if(this._pluginsMap.set(y,f),this._populateSupportedPluginApis(r),this._attachAllListenersToPlugin(y),this._sendCoreApisToPlugin(y),S)return this.loadPlugin(r)})}deregisterPlugin(r){const{name:f}=r;return this.unloadPlugin(r).then(()=>{this._removeSupportedPluginApis({name:f}),this._pluginsMap.delete(f),this._removeAllListenersFromPlugin(f)})}loadPlugin(r){const{name:f}=r,y=this._getPlugin(f);if(y){const r=y.load();return y.isSeparateWorker?Promise.all([r,this.ajsWorkerInitPromise]).then(r=>this._createMessageChannel(y,f).then(()=>r[0])):r}return Promise.reject(new Error("Plugin ".concat(f," does not exist")))}unloadPlugin(r){const{name:f,shouldTerminate:y}=r,S=this._getPlugin(f);return S&&(S.isSeparateWorker&&this._removePluginPortFromT5(f),y)?S.unload():Promise.resolve()}getApiListByPlugin(r){const f=this._getPlugin(r);return f?f.supportedApiList:[]}terminate(){return this._searchableOCRManager&&this._searchableOCRManager.terminate(),new Promise((r,f)=>{const y=[];this._pluginsMap.forEach((r,f)=>{y.push(this.deregisterPlugin({name:f,shouldTerminate:!0}))}),Promise.all(y).then(()=>this._terminateAllWorkers()).then(r).catch(f)})}subscribe(r){this._signalDispatcher.subscribe(r),this._attachListenerToAllPlugins(r)}unsubscribe(r){this._signalDispatcher.unsubscribe(r),this._removeListenerFromAllPlugins(r)}registerLicense(r){let{token:f,domain:y}=r;const S={command:F,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{token:f,domain:y}};return this._ajsWorker.sendMessageToWorker(S)}openPDF(r){let{buffer:f,password:y="",documentId:S,includeActions:R=!1,jsSAB:D=null,securityHandler:k=null,storePDFHash:F=!1}=r,ie=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ne=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const ae=ArrayBuffer.isView(f)?f.buffer:f;if(!this._isValidArrayBuffer(ae))return Promise.reject({error:Ue.INVALID_BUFFER});this._canvasMap.clear();const le={command:M,priority:ne,viewState:ie,params:{buffer:ae,password:y,documentId:S,includeActions:R,jsSAB:D,storePDFHash:F}};return this._ajsWorker.sendMessageToWorker(le).then(r=>r.data.errorCode===Me.INCORRECT_PASSWORD&&k&&j(k.fetchPassword)?k.fetchPassword().then(r=>{const f={buffer:ae,password:r,documentId:S,includeActions:R,jsSAB:D,securityHandler:k,storePDFHash:F};return this.openPDF(f,ie,ne)}):(this._prepareTransformationMatrices(r),Promise.resolve(r)))}_cacheDocumentData(r){var f;this._numPages=(null==r||null===(f=r.data)||void 0===f?void 0:f.numPages)||0}setLinearizedBlockSize(){const r={command:"setLinearizedBlockSize",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{blockSize:arguments.length>0&&void 0!==arguments[0]?arguments[0]:pt}};return this._ajsWorker.sendMessageToWorker(r)}openLinearizedPDF(r){let{password:f="",fetchPdfSizeCallback:y,fetchPdfBufferRangesCallback:S,includeActions:R=!1,blockSize:D=pt,documentId:k}=r,F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return void 0===self.SharedArrayBuffer?Promise.reject({error:Ue.SHARED_ARRAY_BUFFER_NOT_SUPPORTED}):(this._fetchPdfBufferRangesCallback=S,this._completePDFBufferPromise=this._fetchPdfBufferRangesCallback([{start:0}]),new Promise((r,S)=>{Promise.all([this._fetchPDFBufferRanges([{start:0,end:1024}]),y()]).then(y=>{let[ne,ae]=y;this._linearizationPdfSize=ae;const le=4*ae+1024,be=ne[0],ve=new SharedArrayBuffer(le),we={command:M,priority:ie,viewState:F,params:{password:f,linearizationInfo:{initialBuffer:be,pdfSize:ae,partialPDFSAB:ve,blockSize:D},documentId:k,includeActions:R}},Pe=this._ajsWorker;return Pe.registerPDFBufferFetcher(this._fetchPDFBufferRanges.bind(this)),Pe.sendMessageToWorker(we).then(f=>{if(f.data.errorCode===Me.INCORRECT_PASSWORD&&r(f),f.data.errorCode===Me.LINEARIZATION_DICT_NOT_FOUND)return this._switchToNonLinearizedWorkflow(Pe).then(r,S);this._prepareTransformationMatrices(f),Pe.isLinearizedWorkflow()&&this._completePDFBufferPromise.then(r=>{if(void 0===r||0===r.length)return;const f=r[0];if(f.byteLength>this._linearizationPdfSize)return this._switchToNonLinearizedWorkflow(Pe);Pe.notifyPDFBuffer(f)}),r(f)}).catch(r=>S(r))},()=>this._fallbackToOpenPDf(ie,F,k,R,f).then(r,S))}))}_fallbackToOpenPDf(r,f,y,S,R){return this._completePDFBufferPromise.then(D=>{const k={buffer:D[0],password:R,documentId:y,includeActions:S};return this.openPDF(k,f,r)})}_switchToNonLinearizedWorkflow(r){return r.switchToNonLinearizedWorkflow().then(r=>(this._prepareTransformationMatrices(r),r))}_fetchPDFBufferRanges(r){if(1===r.length&&0===r[0].start&&void 0===r[0].end)return this._completePDFBufferPromise;const t=()=>this._completePDFBufferPromise.then(f=>r.map(r=>f[0].slice(r.start,Math.min(r.end+1,f[0].byteLength))));if(1!==r.length||0!==r[0].start||1024!==r[0].end){const f=.75*this._linearizationPdfSize;if(r.some(r=>r.end-r.start>f))return t()}return this._fetchPdfBufferRangesCallback(r).catch(()=>t())}_exposeApisForPlugins(r){this._coreApisForPlugins=vn(vn({},this._coreApisForPlugins),r)}_exposeCNPDFApisForPlugins(){const r={getManifest:this._cnpdfDownloadManager.getManifest.bind(this._cnpdfDownloadManager),getSyncChannel:this._cnpdfFetcher.getSyncChannel.bind(this._cnpdfFetcher),getCNPDFDownloadManager:this._getCNPDFDownloadManager.bind(this)};this._exposeApisForPlugins(r)}async _getOpenCNPDFMessage(r){let{manifest:f,cnpdfFetcher:y,sharedMemorySize:S=36700160}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;if(!f||!y)return Promise.reject(new Error("openCNPDF params can not be undefined"));let F={command:ie,priority:D,viewState:R,params:{manifest:f}};if(L()){const{clientPort:r,sharedArrayBuffer:f}=await y.getSyncChannel(k,S);F=vn(vn({},F),{},{params:vn(vn({},F.params),{},{sharedMemory:f,cnpdfFetcherPort:r}),transferList:[r]})}return F}async _callOpenCNPDFWithWorker(r,f,y,S){const{manifest:R,cnpdfFetcher:D,sharedMemorySize:k}=f;this._cnpdfFetcher=D,this._cnpdfDownloadManager=new $r({manifest:R,cnpdfFetcher:D,waitForFullCNPDF:!L()}),r.setCNPDFDownloadManager(this._cnpdfDownloadManager),this._exposeCNPDFApisForPlugins();const F=await this._getOpenCNPDFMessage({manifest:R,cnpdfFetcher:D,sharedMemorySize:k},y,S);return r.sendMessageToWorker(F).then(r=>(L()&&this._cnpdfDownloadManager.prefetchCNPDF(),r))}async openCNPDF(r){let{manifest:f,cnpdfFetcher:y,sharedMemorySize:S}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._callOpenCNPDFWithWorker(this._ajsWorker,{manifest:f,cnpdfFetcher:y,sharedMemorySize:S},R,D).then(r=>(this._prepareTransformationMatrices(r),r))}async switchToCNPDF(r){let{manifest:f,cnpdfFetcher:y,sharedMemorySize:S}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return await this._initCNPDFWorker({enableProgressiveRendering:!1,useLegacyRichBuild:!0}),this._callOpenCNPDFWithWorker(this._cnpdfAJSWorker,{manifest:f,cnpdfFetcher:y,sharedMemorySize:S},R,D).then(r=>(this._isCNPDFSwitchSuccessful=!0,r)).catch(async r=>(await this._terminateCNPDFWorker(),Promise.reject(r)))}applyCNPDFUpdates(r){let{manifest:f,addedComponents:y,updatedComponents:S}=r;const R={command:"applyCNPDFUpdates",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{manifest:f,addedComponents:y,updatedComponents:S}};return this._cnpdfDownloadManager.applyCNPDFUpdates(R.params),this._ajsWorker.sendMessageToWorker(R)}loadFullWorker(){return this._ajsWorker.loadFullWorker()}getPageRangeGeometry(r){let{startPageNum:f,endPageNum:y,forceCacheless:S=!1}=r;const R={command:"getPageRangeGeometry",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPageNum:f,endPageNum:y,forceCacheless:S}};return this._ajsWorker.sendMessageToWorker(R)}getMetadata(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:5;const{includeActions:S=!1,forceCacheless:R=!1}=r,D={command:"getMetadata",priority:y,viewState:f,params:{includeActions:S,forceCacheless:R}};return this._ajsWorker.sendMessageToWorker(D)}getDocumentParts(r){let{includeSignData:f=!1}=r;const y={command:"getDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{includeSignData:f}};return this._ajsWorker.sendMessageToWorker(y)}setDocumentParts(r){let{data:f}=r;const y={command:"setDocumentParts",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}_isValidRGBArr(r){return r&&Array.isArray(r)&&3===r.length}_validateColorPalette(r){return!!r&&this._isValidRGBArr(r[Ge.BACKGROUND])&&this._isValidRGBArr(r[Ge.TEXT])}getPageRendition(r){let{pageNum:f,zoomLevel:y,renderRect:S,devicePixelRatio:R=window.devicePixelRatio,requestType:D,showAnnots:k=He.ALL,tileRect:F,timeLimit:M,renderInterval:ie,maxRenderInterval:ae,renderIntervalMultiplier:le,hiddenOCGs:be=[],colorPallete:ve,includeActions:we=!1,mimeType:Pe,enableOverprintSupport:Ae=!1,canvas:Se,canvasId:Re,channel:Ce,maxDimension:De}=r,Te=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,ke=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10;if(!f||f<0){const r={command:ne,data:{status:"failed",error:Ue.INVALID_PAGE_NUM}};return Promise.resolve(r)}if(Object.values(Et).includes(Ce)){const r={command:"getPageChannel",priority:ke,viewState:Te,params:{pageNum:f,channel:Ce,maxDimension:De}};return this._ajsWorker.sendMessageToWorker(r).then(async r=>{const f=r;if(Ce===Et.GLYPHINFO){const r=new Int8Array(await(y=f.data,new Promise((r,f)=>{const{width:S,height:R,imageRects:D,glyphsInfo:k,zoomLevel:F}=y,M=document.createElement("canvas");M.width=S,M.height=R;const ie=M.getContext("2d");if(!ie)throw new Error("Failed to get 2d context.");ie.fillStyle="white",ie.fillRect(0,0,M.width,M.height),D.map(r=>r.map(r=>Math.round(r*F))).forEach(r=>Qr(ie,r,R,128)),k.map(r=>{let{color:f,rect:y}=r;return{rect:y.map(r=>Math.round(r*F)),color:f}}).forEach(r=>{let{color:f,rect:y}=r;return Qr(ie,y,R,f)}),M.toBlob(async y=>{y?r(await y.arrayBuffer()):f(new Error("Failed to convert to Blob."))},"image/png")})));f.data.buffer=r}var y;return f})}const je=new Uint32Array(1);je[0]=k;const Ee=vn(vn({zoomLevel:y,renderRect:S,devicePixelRatio:R,pageNum:f,showAnnots:je[0],tileRect:F,requestType:D,timeLimit:M,renderInterval:ie,maxRenderInterval:ae,renderIntervalMultiplier:le,hiddenOCGs:be,includeActions:we,mimeType:Pe,enableOverprintSupport:Ae},this._validateColorPalette(ve)&&{colorPallete:ve}),{},{isCanvasDrawing:!1});let Ne=[];if(Se&&this._isRenderingWorkerPresent&&(Ee.canvasId=Re,Ee.isCanvasDrawing=!0,!this._canvasMap.has(Re))){const r=Se.transferControlToOffscreen();Ee.canvas=r,Ne=[r],this._canvasMap.set(Re,!0)}const Fe={command:ne,priority:ke,viewState:Te,params:Ee,transferList:Ne};return this._ajsWorker.sendMessageToWorker(Fe)}openPDFAndGetPageRendition(r){let{openPdfResponseCallback:f=null}=r,y=mn(r,Ht),S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this.openPDF(y,S,D).then(r=>{f(r.data)}),this.getPageRendition(y,S,R)}collectProfileData(){const r={command:"collectProfileData"};return this._ajsWorker.sendMessageToWorker(r)}hitTest(r){let{pageNum:f,x:y,y:S,shouldDetectWeblinks:R=!0,shouldCreateContentPointMap:D=!1}=r;const k={command:"hitTest",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:6,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,x:y,y:S,shouldDetectWeblinks:R,shouldCreateContentPointMap:D}};return this._ajsWorker.sendMessageToWorker(k)}selectContent(r){let{startPoint:f,endPoint:y,direction:S,snapToWords:R,jumpTo:D=Dt.kNoShortcut,force:k=!1,getCaret:F=!1}=r;const M={command:"selectContent",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPoint:f,endPoint:y,direction:S,snapToWords:R,jumpTo:D,force:k,getCaret:F}};return this._ajsWorker.sendMessageToWorker(M)}getDocumentXMPMetadata(r){let{}=r;const f={command:"getDocumentXMPMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getAttachments(r){let{}=r;const f={command:"getAttachments",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getBookmarks(r){let{}=r;const f={command:"getBookmarks",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}getDataFromNamesTree(r){const f={command:"getDataFromNamesTree",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:50,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:r};return this._ajsWorker.sendMessageToWorker(f)}getAttachmentBuffer(r){let{name:f}=r;const y={command:"getAttachmentBuffer",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{name:f}};return this._ajsWorker.sendMessageToWorker(y)}getSelectedText(r){let{richText:f=!1}=r;const y={command:"getSelectedText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{richText:f}};return this._ajsWorker.sendMessageToWorker(y)}getHyperlinkData(r){let{pageNum:f,x:y,y:S,shouldDetectWeblinks:R=!0}=r;const D={command:"getHyperlinkData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:12,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{x:y,y:S,pageNum:f,shouldDetectWeblinks:R}};return this._ajsWorker.sendMessageToWorker(D)}async findText(r){let{text:f,startPage:y,numPages:S}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:13;this._searchableOCRManager&&await this._searchableOCRManager.makePagesSearchable(y,y+S-1);const k={command:"findText",priority:D,viewState:R,params:{text:f,startPage:y,numPages:S}};return this._ajsWorker.sendMessageToWorker(k)}extractPageText(r){let{pageNum:f,getWordRects:y=!1,getTextAttributes:S=!1,getFormFieldData:R=!1,getCharRects:D=!1}=r;const k={command:"extractPageText",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:30,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,getWordRects:y,getTextAttributes:S,getFormFieldData:R,getCharRects:D}};return this._ajsWorker.sendMessageToWorker(k)}getAnnots(r){let{pageNum:f,annotsFilter:y,includeActions:R=!1}=r;const D={command:"getAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,annotsFilter:y,includeActions:R}};return this._ajsWorker.sendMessageToWorker(D)}createAnnot(r){let{data:f}=r;const y={command:"createAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}updateSignMetadata(r){let{data:f}=r;const y={command:"updateSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}getSignMetadata(r){let{}=r;const f={command:"getSignMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}createFormField(r){let{data:f}=r;const y={command:be,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}createFormFields(r){let{fields:f}=r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("createFormFields",f,be,y)}updateFormField(r){let{pageNum:f,id:y,data:R,authoringMode:D=!1}=r;const k={command:ve,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y,data:R,authoringMode:D}};return this._ajsWorker.sendMessageToWorker(k)}addIcon(r){let{iconName:f,newIconName:y}=r;const S={command:"addIcon",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{newIconName:y,iconName:f}};return this._ajsWorker.sendMessageToWorker(S)}updateFormFields(r){let{fields:f}=r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("updateFormFields",f,ve,y)}deleteFormField(r){let{pageNum:f,id:y}=r;const R={command:we,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y}};return this._ajsWorker.sendMessageToWorker(R)}deleteFormFields(r){let{fields:f}=r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("deleteFormFields",f,we,y)}getFormFields(r){let{pageNum:f,includeActions:y=!1,includeSignData:R=!1}=r;const D={command:"getFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,includeActions:y,includeSignData:R}};return this._ajsWorker.sendMessageToWorker(D)}lockFormFields(r){let{}=r;const f={command:"lockFormFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{}};return this._ajsWorker.sendMessageToWorker(f)}createAnnots(r){let{data:f}=r;const y={command:"createAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}editAnnot(r){let{pageNum:f,id:y,data:R}=r;const D={command:"editAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y,data:R}};return this._ajsWorker.sendMessageToWorker(D)}deleteAnnot(r){let{pageNum:f,id:y}=r;const R={command:"deleteAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y}};return this._ajsWorker.sendMessageToWorker(R)}deleteAnnots(r){let{data:f}=r;const y={command:"deleteAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}getAnnotAppearance(r){let{pageNum:f,id:y,zoomLevel:R,devicePixelRatio:D,appearanceSubDict:k,appearanceState:F,colorPallete:M,ignoreDisplayFlags:ie=!1,enableOverprintSupport:ne=!1}=r;const ae={command:"getAnnotAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:vn(vn({pageNum:f,id:y,zoomLevel:R,devicePixelRatio:D,appearanceSubDict:k,appearanceState:F},this._validateColorPalette(M)&&{colorPallete:M}),{},{ignoreDisplayFlags:ie,enableOverprintSupport:ne})};return this._ajsWorker.sendMessageToWorker(ae)}getVoiceAnnotData(r){let{pageNum:f,annotId:y}=r;const R={command:"getVoiceAnnotData",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,annotId:y}};return this._ajsWorker.getAnnotData(R)}JSApi(r){let{params:f}=r;const y={command:ke,priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:60,params:f};return f.addResultToSAB?this._ajsWorker.sendMessageToWorkerSynchronously(y):this._ajsWorker.sendMessageToWorker(y)}updateDocInfo(r){let{data:f}=r;const y={command:"updateDocInfo",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:50,params:{data:f}};return this._ajsWorker.sendMessageToWorker(y)}getImageBuffer(r){let{pageNum:f,croppedBounds:y,unCroppedBounds:S,boundCheckTolerance:D=2,preserveTransform:k=!0}=r;const F={command:"getImageBuffer",viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,params:{pageNum:f,croppedBounds:y,unCroppedBounds:S,boundCheckTolerance:D,preserveTransform:k}};return this._ajsWorker.sendMessageToWorker(F)}verifyDigitalSignatures(r){let{certificateChainValidators:f=[]}=r;const y={command:le,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{certificateChainValidators:f}};return this._ajsWorker.sendMessageToWorker(y)}getFASFieldAppearance(r){let{pageNum:f,id:y,zoomLevel:R,enableOverprintSupport:D=!1}=r;const k={command:"getFASFieldAppearance",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y,zoomLevel:R,enableOverprintSupport:D}};return this._ajsWorker.sendMessageToWorker(k)}getFASFields(r){let{pageNum:f}=r;const y={command:"getFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(y)}getOverprintType(r){let{pageNum:f}=r;const y={command:"getOverprintType",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(y)}createFASField(r){let{pageNum:f,data:y}=r;const R={command:"createFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,data:y}};return this._ajsWorker.sendMessageToWorker(R)}deleteFASField(r){let{pageNum:f,id:y}=r;const R={command:"deleteFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,id:y}};return this._ajsWorker.sendMessageToWorker(R)}updateFASField(r){let{pageNum:f,id:y,data:R}=r;const D={command:"updateFASField",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{pageNum:f,id:y,data:R}};return this._ajsWorker.sendMessageToWorker(D)}getPagesScanStatus(r){let{startPageIndex:f,endPageIndex:y,ocrType:S}=r;const R={command:"getPagesScanStatus",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,params:{startPageIndex:f,endPageIndex:y,ocrType:S}};return this._ajsWorker.sendMessageToWorker(R)}isScannedDocument(){let{detectionStrategy:r=jt.BREAK_ON_FIRST_NON_SCANNED_PAGE}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={command:"isScannedDocument",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:20,params:{detectionStrategy:r}};return this._ajsWorker.sendMessageToWorker(f)}flattenFASFields(r){let{forceFlatten:f}=r;const y={command:"flattenFASFields",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:S,params:{forceFlatten:f}};return this._ajsWorker.sendMessageToWorker(y)}detectSignFields(r){let{startPage:f,numPages:y,detectAll:S=!1,enableLogging:R=!1}=r;const D={command:"detectSignFields",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:16,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{startPage:f,numPages:y,detectAll:S,enableLogging:R}};return this._ajsWorker.sendMessageToWorker(D)}async getUpdatedBuffer(){let{decryptedBuffer:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f=performance.now(),y=await this._isSaveRequiredForPlugins(),S={command:Pe,priority:R,params:{decryptedBuffer:r,forceSave:y||r}},D=this._ajsWorker;return await D.sendMessageToWorker(S),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-f,D.getUpdatedPDF(r)}async getEncryptedBuffer(r){let{token:f,domain:y}=r,S=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;if(!f||"string"!=typeof f)return Promise.reject({error:Ue.INVALID_JWT_TOKEN});if(!y||"string"!=typeof y)return Promise.reject({error:Ue.INVALID_JWT_TOKEN});await this.getUpdatedBuffer({});const D={command:"getEncryptedBuffer",priority:R,viewState:S,params:{token:f,domain:y}};return this._ajsWorker.sendMessageToWorker(D)}async getDecryptedBuffer(r){let{encryptedBuffer:f,token:y,domain:S}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:25;if(!f||!ArrayBuffer.isView(f)&&!(f instanceof ArrayBuffer))return Promise.reject({error:Ue.INVALID_BUFFER});if(!y||"string"!=typeof y)return Promise.reject({error:Ue.INVALID_JWT_TOKEN});if(!S||"string"!=typeof S)return Promise.reject({error:Ue.INVALID_JWT_TOKEN});const k=ArrayBuffer.isView(f)?f.buffer:f,F={command:"getDecryptedBuffer",priority:D,viewState:R,params:{encryptedBuffer:k,token:y,domain:S},transferList:[k]};return this._ajsWorker.sendMessageToWorker(F)}async getPDFBufferForCNPDF(){if(this._primaryAJSWorker&&!this._primaryAJSWorker.isCNPDF&&!this._cnpdfDownloadManager.isFullCNPDFAvailable())return this._primaryAJSWorker.getUpdatedPDF();await this._cnpdfDownloadManager.fetchCompleteCNPDF();const r=performance.now(),f=await this._isSaveRequiredForPlugins(),y={command:"getPDFBufferForCNPDF",priority:R,params:{forceSave:f,isCNPDF:!0}},S=this._ajsWorker;return await S.sendMessageToWorker(y),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-r,S.getPDFBufferForCNPDF()}_isSaveRequiredForPlugins(){const r=performance.now();return Promise.all(Array.from(this._pluginsMap.values()).map(r=>r.doPreSaveOperations?r.doPreSaveOperations():Promise.resolve({saveRequired:!1}))).then(f=>(window.TIME_TAKEN_IN_PRE_SAVE_OPS=performance.now()-r,-1!==f.findIndex(r=>!0===r.saveRequired)))}async getCNPDFUpdates(){const r=performance.now(),f=await this._isSaveRequiredForPlugins(),y={command:Pe,priority:R,params:{forceSave:f}};return await this._ajsWorker.sendMessageToWorker(y),window.TOTAL_TIME_TAKEN_IN_SAVE=performance.now()-r,this._cnpdfDownloadManager.getCNPDFUpdates()}getPageFontList(r){let{pageNum:f}=r;const y={command:"getPageFontList",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:20,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f}};return this._ajsWorker.sendMessageToWorker(y)}addFontForViewing(r){let{name:f,type:y,buffer:S}=r,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,D=arguments.length>2&&void 0!==arguments[2]?arguments[2]:20;const k=ArrayBuffer.isView(S)?S.buffer:S;if(!this._isValidArrayBuffer(k))return Promise.reject({error:Ue.INVALID_BUFFER});const F={command:"addFontForViewing",viewState:R,priority:D,params:{name:f,type:y,buffer:k},transferList:[k]};return this._ajsWorker.sendMessageToWorker(F)}isFileQualifiedForLiquidMode(r){let{disqualificationMethod:f=It.NORMAL,detectBarcodesCallback:y}=r;const S={command:Ae,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{disqualificationMethod:f,detectBarcodesCallback:y}};return this._ajsWorker.sendMessageToWorker(S)}translateToLiquidModeView(r){let{fetchCNFTPDFUpdatesCallback:f,convertType1Fonts:y=!0}=r;const S={command:Se,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{convertType1Fonts:y}};return this._ajsWorker.getFTPDFWebViewHTMLStream(S,f)}getLiquidModeViewResource(r){let{resourceID:f,resourceURL:y}=r;const S={command:Re,params:{resourceID:f,resourceURL:y}};return this._ajsWorker.getLiquidModeViewResource(S)}getHtmlLocationForDocPoint(r){let{page:f,x:y,y:S}=r;const R={command:De,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{page:f,x:y,y:S}};return this._ajsWorker.sendMessageToWorker(R)}getDocPointForHtmlLocation(r){let{elementID:f,offset:y}=r;const S={command:Te,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:13,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{elementID:f,offset:y}};return this._ajsWorker.sendMessageToWorker(S)}convertToViewSpace(r){let{pageNum:f,x:y,y:S,scale:R=1}=r;if(!this._pageMatrices||0===this._pageMatrices.length)return;const D=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0];let k=D.a*y+D.c*S+D.e,F=D.b*y+D.d*S+D.f;return k=Math.round(k*R),F=Math.round(F*R),{x:k,y:F}}convertToPDFSpace(r){let{pageNum:f,x:y,y:S,scale:R=1}=r;if(!this._pageMatrices||0===this._pageMatrices.length)return;const D=this._pageMatrices[f-1]?this._pageMatrices[f-1]:this._pageMatrices[0],k=y/R,F=S/R,M=D.a*D.d-D.b*D.c;return{x:(D.d*k-D.c*F+D.c*D.f-D.d*D.e)/M,y:(D.a*F-D.b*k+D.b*D.e-D.a*D.f)/M}}clearMessageQueue(r){let{evtName:f}=r,y=mn(r,qt);if(!Object.values(Rt).includes(f))return Promise.reject();const S={command:"clearMessageQueue",params:vn({evtName:f},y)};return this._ajsWorker.sendMessageToWorker(S)}createLinkAnnot(r){let{pageNum:f,data:y}=r;const R={command:"createLinkAnnot",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,data:y}};return this._ajsWorker.sendMessageToWorker(R)}editLinkAnnot(r){let{pageNum:f,id:y,data:R,shouldUpdatePDFBuffer:D}=r;const k={command:je,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y,data:R,shouldUpdatePDFBuffer:D}};return this._ajsWorker.sendMessageToWorker(k)}editLinkAnnots(r){let{links:f}=r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("editLinkAnnots",f,je,y)}deleteLinkAnnot(r){let{pageNum:f,id:y}=r;const R={command:Ee,priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,id:y}};return this._ajsWorker.sendMessageToWorker(R)}deleteLinkAnnots(r){let{links:f}=r,y=arguments.length>1&&void 0!==arguments[1]?arguments[1]:S;return this._createBatchOfMessagesAndSendToWorker("deleteLinkAnnots",f,Ee,y)}_isValidArrayBuffer(r){return r&&"object"==typeof r&&r instanceof ArrayBuffer}getLinkAnnots(r){let{pageNum:f,includeActions:y=!0,includeSignData:R=!1}=r;const D={command:"getLinkAnnots",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{pageNum:f,includeActions:y,includeSignData:R}};return this._ajsWorker.sendMessageToWorker(D)}detectLanguage(r){let{text:f="",useDocAsFallback:y=!0}=r;const S={command:"detectLanguage",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:25,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{text:f,useDocAsFallback:y}};return this._ajsWorker.sendMessageToWorker(S)}getImageC2PAMetadata(r){let{imageBuffer:f,mimeType:y}=r;const S={command:"getImageC2PAMetadata",priority:arguments.length>2&&void 0!==arguments[2]?arguments[2]:R,viewState:arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0,params:{imageBuffer:f,mimeType:y}};return this._ajsWorker.sendMessageToWorker(S)}async makeDocumentSearchable(){let{pageRenditionGenerator:r,getPageRangeInView:f,eventListener:y,ocrZoomLevel:S,forceSearchableOCR:R=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(!this._pluginsMap.has("OCR")&&!this.recognizeImage)throw new Error("Either OCR plugin should be registered on AcrobatJS or recognizeImage should be defined");return this._pageRenditionGenerator=r||(r=>{let{pageNum:f,zoomLevel:y,devicePixelRatio:S}=r;return this.getPageRendition.bind(this)({pageNum:f,zoomLevel:y,devicePixelRatio:S,requestType:We.PAGE}).then(r=>r.data)}),this._searchableOCRManager=new Wt({numPages:this._numPages,pageRenditionGenerator:this._pageRenditionGenerator,getPageRangeInView:f,recognizeImage:this.recognizeImage.bind(this),getPagesSearchableStatus:(r,f)=>this.getPagesScanStatus({startPageIndex:r,endPageIndex:f,ocrType:3}),responseCallback:r=>{let{pageNum:f,ocrData:y}=r;const S={command:"setOCRData",params:{pageNum:f,ocrData:y}};return this._ajsWorker.sendMessageToWorker(S),Promise.resolve({pageNum:f})},convertToPDFSpace:this.convertToPDFSpace.bind(this),eventListener:y,ocrZoomLevel:S,forceSearchableOCR:R,pageCropBoxes:this._pageCropBoxes}),this._searchableOCRManager.makeDocumentSearchable()}resetSearchableOCRData(r){let{}=r;const f={command:"resetSearchableOCRData",priority:arguments.length>1&&void 0!==arguments[1]?arguments[1]:R};this._searchableOCRManager.reset(),this._ajsWorker.sendMessageToWorker(f)}removeOffScreenCanvas(r){let{canvasId:f}=r;const y={command:"removeOffScreenCanvas",params:{canvasId:f}};return this._canvasMap.delete(f),this._ajsWorker.sendMessageToWorker(y)}_prepareTransformationMatrices(r){r.data&&r.data.pages&&(this._pageMatrices=[],this._pageCropBoxes=[],r.data.pages.forEach(r=>{const[f,y,S,R]=r.boxes.cropBox;let D;switch(r.rotation){case 270:D={a:0,b:-1,c:-1,d:0,e:R,f:S};break;case 180:D={a:-1,b:0,c:0,d:1,e:S,f:-y};break;case 90:D={a:0,b:1,c:1,d:0,e:-y,f:-f};break;default:D={a:1,b:0,c:0,d:-1,e:-f,f:R}}this._pageMatrices.push(D),this._pageCropBoxes.push(r.boxes.cropBox)})),this._cacheDocumentData(r)}}Object.defineProperty(_n,"PageRequestType",{value:We,writable:!1}),Object.defineProperty(_n,"AnnotType",{value:He,writable:!1}),Object.defineProperty(_n,"Permissions",{value:qe,writable:!1}),Object.defineProperty(_n,"ContentType",{value:ze,writable:!1}),Object.defineProperty(_n,"KeyboardNavigationDirection",{value:Ct,writable:!1}),Object.defineProperty(_n,"KeyboardNavigationShortcut",{value:Dt,writable:!1});const zt=_n;class Pn{fetchPassword(){throw Error("method not overriden")}}class Sn{name(){throw Error("Method not overridden!")}validate(r){throw Error("Method not overridden!")}}})(),r.exports=D})()},sdTo:(r,f,y)=>{r.exports=y("2pFd")("WOwn")},uY7Q:(r,f,y)=>{r=y.nmd(r);var S="__lodash_hash_undefined__",R=9007199254740991,D="[object Arguments]",k="[object Function]",F="[object Object]",M=/^\[object .+?Constructor\]$/,ie=/^(?:0|[1-9]\d*)$/,ne={};ne["[object Float32Array]"]=ne["[object Float64Array]"]=ne["[object Int8Array]"]=ne["[object Int16Array]"]=ne["[object Int32Array]"]=ne["[object Uint8Array]"]=ne["[object Uint8ClampedArray]"]=ne["[object Uint16Array]"]=ne["[object Uint32Array]"]=!0,ne[D]=ne["[object Array]"]=ne["[object ArrayBuffer]"]=ne["[object Boolean]"]=ne["[object DataView]"]=ne["[object Date]"]=ne["[object Error]"]=ne[k]=ne["[object Map]"]=ne["[object Number]"]=ne[F]=ne["[object RegExp]"]=ne["[object Set]"]=ne["[object String]"]=ne["[object WeakMap]"]=!1;var ae="object"==typeof y.g&&y.g&&y.g.Object===Object&&y.g,le="object"==typeof self&&self&&self.Object===Object&&self,be=ae||le||Function("return this")(),ve=f&&!f.nodeType&&f,we=ve&&r&&!r.nodeType&&r,Pe=we&&we.exports===ve,Ae=Pe&&ae.process,Se=function(){try{var r=we&&we.require&&we.require("util").types;return r||Ae&&Ae.binding&&Ae.binding("util")}catch(r){}}(),Re=Se&&Se.isTypedArray;var Ce,De=Array.prototype,Te=Function.prototype,ke=Object.prototype,je=be["__core-js_shared__"],Ee=Te.toString,Ne=ke.hasOwnProperty,Fe=(Ce=/[^.]+$/.exec(je&&je.keys&&je.keys.IE_PROTO||""))?"Symbol(src)_1."+Ce:"",Oe=ke.toString,xe=Ee.call(Object),Me=RegExp("^"+Ee.call(Ne).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Ue=Pe?be.Buffer:void 0,We=be.Symbol,He=be.Uint8Array,qe=Ue?Ue.allocUnsafe:void 0,ze=function overArg(r,f){return function(y){return r(f(y))}}(Object.getPrototypeOf,Object),Ge=Object.create,Je=ke.propertyIsEnumerable,Ve=De.splice,Ke=We?We.toStringTag:void 0,$e=function(){try{var r=getNative(Object,"defineProperty");return r({},"",{}),r}catch(r){}}(),Ze=Ue?Ue.isBuffer:void 0,Qe=Math.max,Xe=Date.now,Ye=getNative(be,"Map"),et=getNative(Object,"create"),tt=function(){function object(){}return function(r){if(!isObject(r))return{};if(Ge)return Ge(r);object.prototype=r;var f=new object;return object.prototype=void 0,f}}();function Hash(r){var f=-1,y=null==r?0:r.length;for(this.clear();++f<y;){var S=r[f];this.set(S[0],S[1])}}function ListCache(r){var f=-1,y=null==r?0:r.length;for(this.clear();++f<y;){var S=r[f];this.set(S[0],S[1])}}function MapCache(r){var f=-1,y=null==r?0:r.length;for(this.clear();++f<y;){var S=r[f];this.set(S[0],S[1])}}function Stack(r){var f=this.__data__=new ListCache(r);this.size=f.size}function arrayLikeKeys(r,f){var y=st(r),S=!y&&nt(r),R=!y&&!S&&at(r),D=!y&&!S&&!R&&ot(r),k=y||S||R||D,F=k?function baseTimes(r,f){for(var y=-1,S=Array(r);++y<r;)S[y]=f(y);return S}(r.length,String):[],M=F.length;for(var ie in r)!f&&!Ne.call(r,ie)||k&&("length"==ie||R&&("offset"==ie||"parent"==ie)||D&&("buffer"==ie||"byteLength"==ie||"byteOffset"==ie)||isIndex(ie,M))||F.push(ie);return F}function assignMergeValue(r,f,y){(void 0!==y&&!eq(r[f],y)||void 0===y&&!(f in r))&&baseAssignValue(r,f,y)}function assignValue(r,f,y){var S=r[f];Ne.call(r,f)&&eq(S,y)&&(void 0!==y||f in r)||baseAssignValue(r,f,y)}function assocIndexOf(r,f){for(var y=r.length;y--;)if(eq(r[y][0],f))return y;return-1}function baseAssignValue(r,f,y){"__proto__"==f&&$e?$e(r,f,{configurable:!0,enumerable:!0,value:y,writable:!0}):r[f]=y}Hash.prototype.clear=function hashClear(){this.__data__=et?et(null):{},this.size=0},Hash.prototype.delete=function hashDelete(r){var f=this.has(r)&&delete this.__data__[r];return this.size-=f?1:0,f},Hash.prototype.get=function hashGet(r){var f=this.__data__;if(et){var y=f[r];return y===S?void 0:y}return Ne.call(f,r)?f[r]:void 0},Hash.prototype.has=function hashHas(r){var f=this.__data__;return et?void 0!==f[r]:Ne.call(f,r)},Hash.prototype.set=function hashSet(r,f){var y=this.__data__;return this.size+=this.has(r)?0:1,y[r]=et&&void 0===f?S:f,this},ListCache.prototype.clear=function listCacheClear(){this.__data__=[],this.size=0},ListCache.prototype.delete=function listCacheDelete(r){var f=this.__data__,y=assocIndexOf(f,r);return!(y<0)&&(y==f.length-1?f.pop():Ve.call(f,y,1),--this.size,!0)},ListCache.prototype.get=function listCacheGet(r){var f=this.__data__,y=assocIndexOf(f,r);return y<0?void 0:f[y][1]},ListCache.prototype.has=function listCacheHas(r){return assocIndexOf(this.__data__,r)>-1},ListCache.prototype.set=function listCacheSet(r,f){var y=this.__data__,S=assocIndexOf(y,r);return S<0?(++this.size,y.push([r,f])):y[S][1]=f,this},MapCache.prototype.clear=function mapCacheClear(){this.size=0,this.__data__={hash:new Hash,map:new(Ye||ListCache),string:new Hash}},MapCache.prototype.delete=function mapCacheDelete(r){var f=getMapData(this,r).delete(r);return this.size-=f?1:0,f},MapCache.prototype.get=function mapCacheGet(r){return getMapData(this,r).get(r)},MapCache.prototype.has=function mapCacheHas(r){return getMapData(this,r).has(r)},MapCache.prototype.set=function mapCacheSet(r,f){var y=getMapData(this,r),S=y.size;return y.set(r,f),this.size+=y.size==S?0:1,this},Stack.prototype.clear=function stackClear(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function stackDelete(r){var f=this.__data__,y=f.delete(r);return this.size=f.size,y},Stack.prototype.get=function stackGet(r){return this.__data__.get(r)},Stack.prototype.has=function stackHas(r){return this.__data__.has(r)},Stack.prototype.set=function stackSet(r,f){var y=this.__data__;if(y instanceof ListCache){var S=y.__data__;if(!Ye||S.length<199)return S.push([r,f]),this.size=++y.size,this;y=this.__data__=new MapCache(S)}return y.set(r,f),this.size=y.size,this};var rt=function createBaseFor(r){return function(f,y,S){for(var R=-1,D=Object(f),k=S(f),F=k.length;F--;){var M=k[r?F:++R];if(!1===y(D[M],M,D))break}return f}}();function baseGetTag(r){return null==r?void 0===r?"[object Undefined]":"[object Null]":Ke&&Ke in Object(r)?function getRawTag(r){var f=Ne.call(r,Ke),y=r[Ke];try{r[Ke]=void 0;var S=!0}catch(r){}var R=Oe.call(r);S&&(f?r[Ke]=y:delete r[Ke]);return R}(r):function objectToString(r){return Oe.call(r)}(r)}function baseIsArguments(r){return isObjectLike(r)&&baseGetTag(r)==D}function baseIsNative(r){return!(!isObject(r)||function isMasked(r){return!!Fe&&Fe in r}(r))&&(isFunction(r)?Me:M).test(function toSource(r){if(null!=r){try{return Ee.call(r)}catch(r){}try{return r+""}catch(r){}}return""}(r))}function baseKeysIn(r){if(!isObject(r))return function nativeKeysIn(r){var f=[];if(null!=r)for(var y in Object(r))f.push(y);return f}(r);var f=isPrototype(r),y=[];for(var S in r)("constructor"!=S||!f&&Ne.call(r,S))&&y.push(S);return y}function baseMerge(r,f,y,S,R){r!==f&&rt(f,function(D,k){if(R||(R=new Stack),isObject(D))!function baseMergeDeep(r,f,y,S,R,D,k){var M=safeGet(r,y),ie=safeGet(f,y),ne=k.get(ie);if(ne)return void assignMergeValue(r,y,ne);var ae=D?D(M,ie,y+"",r,f,k):void 0,le=void 0===ae;if(le){var be=st(ie),ve=!be&&at(ie),we=!be&&!ve&&ot(ie);ae=ie,be||ve||we?st(M)?ae=M:!function isArrayLikeObject(r){return isObjectLike(r)&&isArrayLike(r)}(M)?ve?(le=!1,ae=function cloneBuffer(r,f){if(f)return r.slice();var y=r.length,S=qe?qe(y):new r.constructor(y);return r.copy(S),S}(ie,!0)):we?(le=!1,ae=function cloneTypedArray(r,f){var y=f?function cloneArrayBuffer(r){var f=new r.constructor(r.byteLength);return new He(f).set(new He(r)),f}(r.buffer):r.buffer;return new r.constructor(y,r.byteOffset,r.length)}(ie,!0)):ae=[]:ae=function copyArray(r,f){var y=-1,S=r.length;f||(f=Array(S));for(;++y<S;)f[y]=r[y];return f}(M):function isPlainObject(r){if(!isObjectLike(r)||baseGetTag(r)!=F)return!1;var f=ze(r);if(null===f)return!0;var y=Ne.call(f,"constructor")&&f.constructor;return"function"==typeof y&&y instanceof y&&Ee.call(y)==xe}(ie)||nt(ie)?(ae=M,nt(M)?ae=function toPlainObject(r){return function copyObject(r,f,y,S){var R=!y;y||(y={});var D=-1,k=f.length;for(;++D<k;){var F=f[D],M=S?S(y[F],r[F],F,y,r):void 0;void 0===M&&(M=r[F]),R?baseAssignValue(y,F,M):assignValue(y,F,M)}return y}(r,keysIn(r))}(M):isObject(M)&&!isFunction(M)||(ae=function initCloneObject(r){return"function"!=typeof r.constructor||isPrototype(r)?{}:tt(ze(r))}(ie))):le=!1}le&&(k.set(ie,ae),R(ae,ie,S,D,k),k.delete(ie));assignMergeValue(r,y,ae)}(r,f,k,y,baseMerge,S,R);else{var M=S?S(safeGet(r,k),D,k+"",r,f,R):void 0;void 0===M&&(M=D),assignMergeValue(r,k,M)}},keysIn)}function baseRest(r,f){return it(function overRest(r,f,y){return f=Qe(void 0===f?r.length-1:f,0),function(){for(var S=arguments,R=-1,D=Qe(S.length-f,0),k=Array(D);++R<D;)k[R]=S[f+R];R=-1;for(var F=Array(f+1);++R<f;)F[R]=S[R];return F[f]=y(k),function apply(r,f,y){switch(y.length){case 0:return r.call(f);case 1:return r.call(f,y[0]);case 2:return r.call(f,y[0],y[1]);case 3:return r.call(f,y[0],y[1],y[2])}return r.apply(f,y)}(r,this,F)}}(r,f,identity),r+"")}function getMapData(r,f){var y=r.__data__;return function isKeyable(r){var f=typeof r;return"string"==f||"number"==f||"symbol"==f||"boolean"==f?"__proto__"!==r:null===r}(f)?y["string"==typeof f?"string":"hash"]:y.map}function getNative(r,f){var y=function getValue(r,f){return null==r?void 0:r[f]}(r,f);return baseIsNative(y)?y:void 0}function isIndex(r,f){var y=typeof r;return!!(f=null==f?R:f)&&("number"==y||"symbol"!=y&&ie.test(r))&&r>-1&&r%1==0&&r<f}function isPrototype(r){var f=r&&r.constructor;return r===("function"==typeof f&&f.prototype||ke)}function safeGet(r,f){if(("constructor"!==f||"function"!=typeof r[f])&&"__proto__"!=f)return r[f]}var it=function shortOut(r){var f=0,y=0;return function(){var S=Xe(),R=16-(S-y);if(y=S,R>0){if(++f>=800)return arguments[0]}else f=0;return r.apply(void 0,arguments)}}($e?function(r,f){return $e(r,"toString",{configurable:!0,enumerable:!1,value:(y=f,function(){return y}),writable:!0});var y}:identity);function eq(r,f){return r===f||r!=r&&f!=f}var nt=baseIsArguments(function(){return arguments}())?baseIsArguments:function(r){return isObjectLike(r)&&Ne.call(r,"callee")&&!Je.call(r,"callee")},st=Array.isArray;function isArrayLike(r){return null!=r&&isLength(r.length)&&!isFunction(r)}var at=Ze||function stubFalse(){return!1};function isFunction(r){if(!isObject(r))return!1;var f=baseGetTag(r);return f==k||"[object GeneratorFunction]"==f||"[object AsyncFunction]"==f||"[object Proxy]"==f}function isLength(r){return"number"==typeof r&&r>-1&&r%1==0&&r<=R}function isObject(r){var f=typeof r;return null!=r&&("object"==f||"function"==f)}function isObjectLike(r){return null!=r&&"object"==typeof r}var ot=Re?function baseUnary(r){return function(f){return r(f)}}(Re):function baseIsTypedArray(r){return isObjectLike(r)&&isLength(r.length)&&!!ne[baseGetTag(r)]};function keysIn(r){return isArrayLike(r)?arrayLikeKeys(r,!0):baseKeysIn(r)}var ct=function createAssigner(r){return baseRest(function(f,y){var S=-1,R=y.length,D=R>1?y[R-1]:void 0,k=R>2?y[2]:void 0;for(D=r.length>3&&"function"==typeof D?(R--,D):void 0,k&&function isIterateeCall(r,f,y){if(!isObject(y))return!1;var S=typeof f;if("number"==S?isArrayLike(y)&&isIndex(f,y.length):"string"==S&&f in y)return eq(y[f],r);return!1}(y[0],y[1],k)&&(D=R<3?void 0:D,R=1),f=Object(f);++S<R;){var F=y[S];F&&r(f,F,S,D)}return f})}(function(r,f,y){baseMerge(r,f,y)});function identity(r){return r}r.exports=ct},zSZc:(r,f,y)=>{"use strict";y.d(f,{B:()=>F,CE:()=>ie,D6:()=>Ne,Ey:()=>Ce,HD:()=>ne,Iv:()=>Me,L_:()=>we,ND:()=>k,P4:()=>S,PB:()=>je,Tz:()=>ke,US:()=>Se,ac:()=>ve,dV:()=>be,hw:()=>Oe,il:()=>Ee,jQ:()=>Ae,jn:()=>Te,mx:()=>Pe,pM:()=>Fe,qf:()=>R,r5:()=>ae,rA:()=>Re,sk:()=>le,x1:()=>De,y8:()=>M,zY:()=>xe,zz:()=>D});const S="rendition.js",R="/review",D="/parcel",k="/external",F="/sign",M="/acp",ie="/pdfnow",ne="wp-acp-storage",ae=["/onedrive","/sharepoint","/gdrive","/local"],le=Object.freeze({"/onedrive":"OneDrive","/sharepoint":"SharePoint","/gdrive":"GDrive","/local":"Local"}),be=10,ve=5,we=30,Pe=10,Ae=1e3,Se=1500,Re=500,Ce=Object.freeze({S3:"S3",DCAPI:"DCAPI",NONE:"NONE"}),De=1,Te=Object.freeze({PDF_DOWNLOAD_URI_START:"pdfDownloadUriStartTime",PDF_DOWNLOAD_URI_END:"pdfDownloadUriEndTime",PDF_DOWNLOAD_START:"pdfDownloadStartTime",PDF_DOWNLOAD_END:"pdfDownloadEndTime",DCAPI_INIT:"dcapiInit",DCAPI_LOADED:"dcapiLoaded",WASM_SPLIT_FLOODGATE_START:"wasmSplitFloodgateStart",WASM_SPLIT_FLOODGATE_END:"wasmSplitFloodgateEnd",CACHED_RENDITION_RETURNED:"cachedRenditionReturned",CACHED_RENDITION_FAILED:"cachedRenditionFailed",CACHED_RENDITION:"cachedRendition"}),ke=Object.freeze({AdobeSignValidator:"AdobeSignCertificateValidator",ExternalValidator:"ExternalCertificateValidator"}),je=Object.freeze({valid:"VALID",invalid:"INVALID",unknown:"UNKNOWN"}),Ee=Object.freeze({currentTime:"currentTime",signingTime:"signingTime"}),Ne=Object.freeze({AATL:"AATL",EUTL:"EUTL",OS:"OS"}),Fe=Object.freeze({tooManyRequests:"TooManyRequests",gatewayTimeout:"GatewayTimeout",internalServerError:"InternalServerError",apiTimeoutError:"APITimeoutError",unknownError:"UnknownError"}),Oe="defaultAJSInstance",xe=10,Me="anonymous_user"}},S={};function __webpack_require__(r){var f=S[r];if(void 0!==f)return f.exports;var R=S[r]={id:r,loaded:!1,exports:{}};return y[r](R,R.exports,__webpack_require__),R.loaded=!0,R.exports}__webpack_require__.m=y,__webpack_require__.n=r=>{var f=r&&r.__esModule?()=>r.default:()=>r;return __webpack_require__.d(f,{a:f}),f},__webpack_require__.d=(r,f)=>{for(var y in f)__webpack_require__.o(f,y)&&!__webpack_require__.o(r,y)&&Object.defineProperty(r,y,{enumerable:!0,get:f[y]})},__webpack_require__.f={},__webpack_require__.e=r=>Promise.all(Object.keys(__webpack_require__.f).reduce((f,y)=>(__webpack_require__.f[y](r,f),f),[])),__webpack_require__.u=r=>({56:"fontHelper",658:"ocrProvider",814:"ajsProvider"}[r]+"-chunk.js"),__webpack_require__.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(r){if("object"==typeof window)return window}}(),__webpack_require__.o=(r,f)=>Object.prototype.hasOwnProperty.call(r,f),r={},f="adobe_dc_sdk.components.rendition:",__webpack_require__.l=(y,S,R,D)=>{if(r[y])r[y].push(S);else{var k,F;if(void 0!==R)for(var M=document.getElementsByTagName("script"),ie=0;ie<M.length;ie++){var ne=M[ie];if(ne.getAttribute("src")==y||ne.getAttribute("data-webpack")==f+R){k=ne;break}}k||(F=!0,(k=document.createElement("script")).charset="utf-8",k.timeout=120,__webpack_require__.nc&&k.setAttribute("nonce",__webpack_require__.nc),k.setAttribute("data-webpack",f+R),k.src=y),r[y]=[S];var onScriptComplete=(f,S)=>{k.onerror=k.onload=null,clearTimeout(ae);var R=r[y];if(delete r[y],k.parentNode&&k.parentNode.removeChild(k),R&&R.forEach(r=>r(S)),f)return f(S)},ae=setTimeout(onScriptComplete.bind(null,void 0,{type:"timeout",target:k}),12e4);k.onerror=onScriptComplete.bind(null,k.onerror),k.onload=onScriptComplete.bind(null,k.onload),F&&document.head.appendChild(k)}},__webpack_require__.r=r=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(r,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(r,"__esModule",{value:!0})},__webpack_require__.nmd=r=>(r.paths=[],r.children||(r.children=[]),r),(()=>{var r;__webpack_require__.g.importScripts&&(r=__webpack_require__.g.location+"");var f=__webpack_require__.g.document;if(!r&&f&&(f.currentScript&&"SCRIPT"===f.currentScript.tagName.toUpperCase()&&(r=f.currentScript.src),!r)){var y=f.getElementsByTagName("script");if(y.length)for(var S=y.length-1;S>-1&&(!r||!/^http(s?):/.test(r));)r=y[S--].src}if(!r)throw new Error("Automatic publicPath is not supported in this browser");r=r.replace(/^blob:/,"").replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),__webpack_require__.p=r})(),(()=>{var r={929:0};__webpack_require__.f.j=(f,y)=>{var S=__webpack_require__.o(r,f)?r[f]:void 0;if(0!==S)if(S)y.push(S[2]);else{var R=new Promise((y,R)=>S=r[f]=[y,R]);y.push(S[2]=R);var D=__webpack_require__.p+__webpack_require__.u(f),k=new Error;__webpack_require__.l(D,y=>{if(__webpack_require__.o(r,f)&&(0!==(S=r[f])&&(r[f]=void 0),S)){var R=y&&("load"===y.type?"missing":y.type),D=y&&y.target&&y.target.src;k.message="Loading chunk "+f+" failed.\n("+R+": "+D+")",k.name="ChunkLoadError",k.type=R,k.request=D,S[1](k)}},"chunk-"+f,f)}};var webpackJsonpCallback=(f,y)=>{var S,R,[D,k,F]=y,M=0;if(D.some(f=>0!==r[f])){for(S in k)__webpack_require__.o(k,S)&&(__webpack_require__.m[S]=k[S]);if(F)F(__webpack_require__)}for(f&&f(y);M<D.length;M++)R=D[M],__webpack_require__.o(r,R)&&r[R]&&r[R][0](),r[R]=0},f=self["webpackJsonp-rendition"]=self["webpackJsonp-rendition"]||[];f.forEach(webpackJsonpCallback.bind(null,0)),f.push=webpackJsonpCallback.bind(null,f.push.bind(f))})();var R={};(()=>{"use strict";__webpack_require__.r(R),__webpack_require__.d(R,{RenditionAPI:()=>RenditionAPI,providers:()=>Ee});var r=__webpack_require__("4eby"),f=__webpack_require__("uY7Q"),y=__webpack_require__.n(f),S=__webpack_require__("sdTo"),D=__webpack_require__.n(S),k=__webpack_require__("sR8A");const F="12.150.0";var M=__webpack_require__("plsW"),ie=__webpack_require__("UtFC");const AssetUtils=r=>{if(!r)return;let f,y=r,S=0;do{f=y;try{y=decodeURIComponent(y)}catch(r){return}if(S+=1,S>=5)return}while(y!==f&&y);if(y){return(r=>{if(""===r)return!0;if(r.startsWith("urn:"))return!0;if(/^[\w!%+-]{1,512}$/.test(r))return!0;try{const f=new URL(r),y=["acrobat.com","adobe.com","adobe.io"];return!!["https:"].includes(f.protocol)&&y.some(r=>f.hostname===r||f.hostname.endsWith(`.${r}`))}catch(r){return!1}})(y.replace(/\s/g,""))?r:void 0}};var ne=__webpack_require__("ibkQ");const utils_cancellablePromise=r=>{let f=!1,y=r;y||(y=Promise.reject());return{promise:new Promise((r,S)=>{y.then(y=>!f&&r(y)).catch(r=>!f&&S(r))}),cancel:()=>{f=!0}}};let ae=[];const renditionMakeCancellablePromise=r=>{const f=utils_cancellablePromise(r);return ae.push(f),f.promise};var le=__webpack_require__("4DGF");const getDigest=r=>(0,le.lT)()?window.msCrypto.subtle.digest("SHA-256",r):window.crypto&&window.crypto.subtle?window.crypto.subtle.digest("SHA-256",r):Promise.reject("Crypto is not supported"),getDigestHex=r=>[...new Uint8Array(r)].map(r=>r.toString(16).padStart(2,"0")).join(""),stringToUint8ArrayBuffer=r=>{let f,y,S,R,D,k=0;if(r){for(k=r.length,f=-1,y="undefined"==typeof Uint8Array?new Array(1.5*k):new Uint8Array(3*k),S=0,R=0,D=0;D!==k;){if(S=r.charCodeAt(D),D+=1,S>=55296&&S<=56319){if(D===k){y[f+=1]=239,y[f+=1]=191,y[f+=1]=189;break}R=r.charCodeAt(D),R>=56320&&R<=57343?(S=1024*(S-55296)+(R-56320+65536),D+=1,S>65535&&(y[f+=1]=240|S>>>18,y[f+=1]=128|S>>>12&63,y[f+=1]=128|S>>>6&63,y[f+=1]=128|63&S)):(y[f+=1]=239,y[f+=1]=191,y[f+=1]=189)}S<=127?y[f+=1]=0|S:S<=2047?(y[f+=1]=192|S>>>6,y[f+=1]=128|63&S):(y[f+=1]=224|S>>>12,y[f+=1]=128|S>>>6&63,y[f+=1]=128|63&S)}return"undefined"!=typeof Uint8Array?y.subarray(0,f+1):(y.length=f+1,y)}return""};var be=__webpack_require__("RbXz"),ve=__webpack_require__("zSZc"),we=__webpack_require__("GNuk"),Pe=__webpack_require__("6mnL");const getStreamRequestHeaders=r=>{let{apiKey:f,accessToken:y,transactionId:S,apiTimeoutDuration:R=0}=r;const D={Accept:"application/json, text/plain, */*"};return f&&(D["x-api-key"]=f),y&&(D.Authorization=y),S&&(D["x-transaction-id"]=S),R&&(D.Prefer=`respond-partial, wait=${R}`),new Headers(D)},uploadStream=(r,f,y,S,R)=>new Promise((D,k)=>{const F=getStreamRequestHeaders(R?{apiKey:y,accessToken:R}:{apiKey:y,transactionId:S}),M=(r=>{const f=new FormData;return f.append("contentAnalyzerRequests",'{\n        "sensei:engines": [{\n          "sensei:execution_info": {\n            "sensei:engine": "Annotation:pdf-object-detection:Service-61274bccdf4e4177b62ee988d67b9989"\n          },\n          "sensei:inputs": {\n            "in_stream": {\n              "sensei:multipart_field_name": "in_stream",\n              "dc:format":"application/pdf+dcxucf"\n            }\n          },\n          "sensei:outputs": {\n            "out_stream": {\n              "sensei:multipart_field_name": "out_stream",\n              "dc:format":"application/zip"\n            }\n          },\n          "sensei:params": {\n            "client_analytics_consent":true,\n            "result_format":"cnpdf_updates",\n            "save_intermediate_files":false,\n            "degree_of_parallelism": 1,\n            "overrides":"",\n            "provisional":true\n          }\n        }]\n      }'),f.append("in_stream",r),f})(r);fetch(f,{method:"POST",headers:F,body:M}).then(r=>{r.ok?D(r):k(r)}).catch(r=>{k(r)})}),AdobeSenseiPredictClient=r=>{let{cnpdfZipData:f,mimeType:y}=r;return new Promise((r,S)=>{const R=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9,f="";const y="0123456789";for(let S=0;S<r;S+=1)f+=y.charAt(Math.floor(10*Math.random()));return f}(),D=new Blob([f],{type:y});let k,F,ie,ne;!M.auth2.isSignedIn?(F="https://sensei-stage.adobe.io/anonymous/v2/predict",ie="https://sensei-stage.adobe.io/anonymous/v2/status",ne="ReaderMobileAndroid4_0002_Anonymous"):(k=M.auth2.getAccessTokenInfo().access_token||void 0,F=`https://senseis-stage.adobe.io/services/v2/stream/predict/${R}`,ie=`https://senseis-stage.adobe.io/services/v2/stream/predict/${R}`,ne="AdobeSenseiPredictServiceStageKey"),uploadStream(D,F,ne,R,k).catch(r=>{S(r)}),function(r,f,y,S){let R=arguments.length>4&&void 0!==arguments[4]?arguments[4]:59;return new Promise((D,k)=>{const F=getStreamRequestHeaders(S?{apiKey:f,accessToken:S}:{apiKey:f,transactionId:y,apiTimeoutDuration:R});fetch(r,{method:"GET",headers:F}).then(r=>{r.ok?(r=>!(!r||!r.headers)&&null!==r.headers.get("content-length"))(r)?k(r):D(r.body):k(r)}).catch(r=>{k(r)})})}(ie,ne,R,k).then(f=>{r(f)}).catch(r=>{S(r)})})};var Ae=__webpack_require__("GTUu");class ExternalCertificateValidator extends k.CertificateValidationInterface{constructor(r){super(),this.externalCertificateValidator=r||null}name(){return ve.Tz.ExternalValidator}_base64ToArrayBuffer(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];if(!r.length)return null;let f="";r.forEach(r=>{f+=window.atob(r)});const y=f.length,S=new Uint8Array(y);for(let r=0;r<y;r+=1)S[r]=f.charCodeAt(r);return S.buffer}validate(r){return new Promise(async(f,y)=>{if(!Array.isArray(r))return y(new Error("certificateChain must be an array"));if(!this.externalCertificateValidator)return y(new Error("ExternalCertificateValidator is not available"));try{setTimeout(()=>y(new Error(ve.pM.apiTimeoutError)),5e3);const S=this._base64ToArrayBuffer(r),R=await this.externalCertificateValidator({buffer:S});if(!R||!R.status)return y(new Error("ExternalCertificateValidator empty response"));"NOTVALID"===R.status&&(R.status=ve.PB.invalid),R.certificates||(R.certificates=r),R.trustSources||R.status!==ve.PB.valid||(R.trustSources=[ve.D6.OS]),R.validation||(R.validation={validatedOn:ve.il.currentTime,timestamp:(new Date).toISOString()}),f(R)}catch(r){y(r)}})}}const Se=ExternalCertificateValidator;class AdobeSignCertificateValidation extends k.CertificateValidationInterface{static isAvailable(){return!0}name(){return ve.Tz.AdobeSignValidator}static getValidationAPI(){let r="https://certificatevalidator-dev.adobe.io";const f=M.envUtil.getHostEnv();return"prod"===f?r="https://certificatevalidator.adobe.io":"stage"===f&&(r="https://certificatevalidator-stage.adobe.io"),r+="/certificatevalidator/v1/verify",{api:r,apiKey:"certificatevalidator"}}_getError(r,f){const y=new Error(r);return y.reason=f?{code:f}:{},y}validate(r){return new Promise((f,y)=>{if(!Array.isArray(r))return y(this._getError("certificateChain must be an array"));const{api:S,apiKey:R}=AdobeSignCertificateValidation.getValidationAPI(),D=new Headers;D.append("Content-Type","application/json"),D.append("x-api-key",R);const k={method:"POST",headers:D,body:JSON.stringify({certificates:r})};fetch(S,k).then(async r=>{if(r.ok){const y=await r.json();y.validation||(y.validation={validatedOn:ve.il.currentTime,timestamp:(new Date).toISOString()}),y&&y.status===ve.PB.valid&&!y.trustSources.length&&(y.status=ve.PB.unknown),f(y)}const y=r.status;let S=ve.pM.unknownError;throw 429===y?S=ve.pM.tooManyRequests:504===y?S=ve.pM.gatewayTimeout:y>=500&&y<600&&(S=ve.pM.internalServerError),this._getError(S,y)}).then(r=>f(r)).catch(r=>y(r))})}}const Re=AdobeSignCertificateValidation,recordNow=(r,f)=>{const y=Math.round(f||performance.now());return window.performance&&window.performance.mark&&window.performance.mark(`provider_rendition_${r}`,{startTime:y}),y};var Ce=__webpack_require__("Kq49"),De=__webpack_require__("6Wbc"),Te=__webpack_require__("NHKb");class AJSHandler{constructor(r,f){var y=this;this._shouldEnableProgressiveRendering=()=>!!window.OffscreenCanvas&&this.options.useProgressiveRendering,this.acrobatJSInstanceHandler=new Ce.A({enableAJSLogging:r.enableAJSLogging,useAJSFullBuild:r.useAJSFullBuild,useAJSLiteBuild:r.useAJSLiteBuild,maxActiveAJSinstanceLimit:ve.zY}),this.options=r,this._assetUriToFileHandle={},this._defaultAJSHandle=null,this._defaultAJSHandlePromise=new Promise(r=>{this._defaultAJSHandleResolve=r}),this._defaultAJSMapped=!1,this._defaultInstanceAssetUri=null,this._ajsSetupPromise=null,this._reInitRequested=!1,this._onAjsEvent=function(r){for(var S=arguments.length,R=new Array(S>1?S-1:0),D=1;D<S;D++)R[D-1]=arguments[D];return f(r===ve.hw?y._defaultInstanceAssetUri:r,...R)}}async init(){if(!this._ajsSetupPromise){const r=this._assetUriToFileHandle[ve.hw];this._ajsSetupPromise=this._defaultAJSHandle||this._ajsSetup(ve.hw,r)}return this._ajsSetupPromise}_getAJSInstanceFromAssetUri(r){const f=r,y=this._assetUriToFileHandle[f];return this.acrobatJSInstanceHandler.getAcrobatJSInstance(y)}static _ajsGetPath(){return be.Ey()}async _ajsSetup(r,f){var y=this;const S={ajsPath:AJSHandler._ajsGetPath(),enableProgressiveRendering:this._shouldEnableProgressiveRendering(),hostEnv:M.envUtil.getHostEnv(),enableWasmExceptions:(0,Te.b)(),enableWasmChunking:(0,Ae.pq)()};this.options.ajsExceptionSupport=S.enableWasmExceptions?"wasm":"js";const R=this.acrobatJSInstanceHandler.createAcrobatJSInstance({ajsConfig:S,forceEvict:!0,onAjsEvent:function(){for(var f=arguments.length,S=new Array(f),R=0;R<f;R++)S[R]=arguments[R];return y._onAjsEvent(r,...S)}},f);r!==ve.hw||this._defaultAJSHandle||(R.then(this._defaultAJSHandleResolve),this._defaultAJSHandle=R),this._assetUriToFileHandle[r]=await R}isInstanceCached(r){const f=this._assetUriToFileHandle[r];return this.acrobatJSInstanceHandler.checkInstanceState(f,De.ht.CACHED)}async activateInstanceIfInactive(r){const f=this._assetUriToFileHandle[r];if(this.isInstanceCached(r)){const{openPdfParams:y}=this.acrobatJSInstanceHandler.getAcrobatJSInstanceParameters(f);await this._ajsSetup(r,f),await this._getAJSInstanceFromAssetUri(r).openPDF(y)}}async assignDefaultInstance(r){r&&this._defaultAJSHandle&&!this._defaultAJSMapped&&(this._assetUriToFileHandle[r]=await this._defaultAJSHandle,this._defaultInstanceAssetUri=r,this._defaultAJSMapped=!0)}callSync(r,f){const y=this._getAJSInstanceFromAssetUri(r||ve.hw);if(!y)throw(0,ne.$s)("Filehandle not present",{apiName:f}),Error("Filehandle not present");if(!y[f])throw(0,ne.$s)("Unknown AJS Command",{apiName:f}),Error("Unknown AJS command");for(var S=arguments.length,R=new Array(S>2?S-2:0),D=2;D<S;D++)R[D-2]=arguments[D];return y[f](...R)}updateDefaultAJSInstance(r){if(!this._assetUriToFileHandle[r])throw Error("File handle not present for assetUri:",r);this._assetUriToFileHandle[ve.hw]=this._assetUriToFileHandle[r],this._defaultInstanceAssetUri=r}async callAsync(r,f){await this._defaultAJSHandlePromise,await this.assignDefaultInstance(r);const y=this._assetUriToFileHandle[r||ve.hw];let S=r;if(this.acrobatJSInstanceHandler.has(y))await this.activateInstanceIfInactive(r);else if(r&&"openPDF"!==f){(0,ne.$s)("UNEXPECTED_AJS_COMMAND",{apiName:f,assetUri:r,errorDetails:"AJS command called for assetUri for which openPDF was not called. Using default instance."});1===new Set(Object.values(this._assetUriToFileHandle)).size&&(S=this._defaultInstanceAssetUri)}else r&&await this._ajsSetup(r);for(var R=arguments.length,D=new Array(R>2?R-2:0),k=2;k<R;k++)D[k-2]=arguments[k];"openPDF"===f&&this.acrobatJSInstanceHandler.setOpenPDFParameters(this._assetUriToFileHandle[r],D[0]);const F=this._getAJSInstanceFromAssetUri(S||ve.hw);if(!F)return(0,ne.$s)("Filehandle not present",{apiName:f}),Promise.reject(new Error("Filehandle not present"));if(!F[f])return(0,ne.$s)("Unknown AJS Command",{apiName:f}),Promise.reject(new Error("Unknown AJS command"));const M=await F[f](...D);return"openPDF"===f&&(M.enableWasmExceptions="wasm"===this.options.ajsExceptionSupport),"getPageRendition"!==f||this.options.useAJSLiteBuild||(0,Te.O)(),M}_resetDefaultHandleParams(){this._defaultAJSHandle=null,this._ajsSetupPromise=null,this._defaultAJSHandlePromise=new Promise(r=>{this._defaultAJSHandleResolve=r}),this._defaultAJSMapped=!1}resetWorker(){!Object.keys(this._assetUriToFileHandle).some(r=>r!==ve.hw)?(this._resetDefaultHandleParams(),this.init()):this._reInitRequested=!0}close(r){if(r in this._assetUriToFileHandle){const f=this._assetUriToFileHandle[r];this.acrobatJSInstanceHandler.erase(f),delete this._assetUriToFileHandle[r]}!Object.keys(this._assetUriToFileHandle).some(r=>r!==ve.hw)&&(this._resetDefaultHandleParams(),this._reInitRequested&&(this.init(),this._reInitRequested=!1))}registerLicense(r){const f=[...new Set(Object.values(this._assetUriToFileHandle))].map(f=>this.acrobatJSInstanceHandler.getAcrobatJSInstance(f).registerLicense(r));return Promise.all(f)}remapAssetUri(r,f){this._assetUriToFileHandle[f]=this._assetUriToFileHandle[r],delete this._assetUriToFileHandle[r]}}const ke=AJSHandler,utils_ProviderUtil=async(r,f)=>{try{const y=await M.providers.selection(),S=await y.registerSelection("ViewerAsset");if(S.clearSelection(),!f)return;S.selectItem(r,{eTag:f,asset_id:r})}catch(r){console.error("Error during setting etag in selection provider: ",r)}};let je=null;class NoRenditionError extends Error{constructor(r){super(r),this.code=415}}class RenditionAPI{constructor(r,f){var y=this;return this._appStateChangeListener=r=>{if("DEFERRED_LOAD"===r)this._getAjs()},this._getFileInfoObj=function(r,f){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];if(M.auth2.isSignedIn&&!y._isS3DownloadUrl){const r=M.auth2.getAccessTokenInfo();r.access_token&&S.push({key:"Authorization",value:`Bearer ${r.access_token}`})}return f&&!("id"in f)&&(f.id=f.asset_id),{content:{location:{url:r,headers:S}},metaData:f}},this._fetchPDFBufferRanges=(r,f,y)=>1===y.length&&0===y[0].start&&void 0===y[0].end?this._fetchCompletePDFBufferPromise.then(r=>[r]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._externalGetDownloadUri(r,f).then(r=>this._external.fetchPDFBufferRanges(r,y)))),this._fetchPDFSize=(r,f)=>(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._externalGetDownloadUri(r,f).then(r=>this._external.fetchPDFSize(r)))),this._getRenditionParams=r=>{const f=Object.assign({devicePixelRatio:1},r);let{requestType:y}=f;const{PageRequestType:S}=k.enums;return"page"===y?y=S.PAGE:"cache"===y?y=S.PAGE_CACHE:"thumbnail"===y&&(y=S.THUMBNAIL),f.requestType=y,f},this._handleRenditionResponse=r=>{const f=Object.assign({},r),{buffer:y,...S}=f.data;return f.params={pageImgBuffer:y,...S},delete f.data,f},je=this,this.queryParams=(0,we.v)(),this.options=Object.assign({},{enableExternal:!0,useAJS:!0,useDCAPI:!0,AJSDelay:0,useReview:!0,usePDFNow:!1,fetchWithCredentials:!1,autoStart:!0,useALMForAutoStart:!1,shouldUseModernViewer:!1,enableAJSLogging:!1,useAJSFullBuild:!1,useProgressiveRendering:!0},f,(0,Ae.qT)(this.queryParams)),this.ajsHandler=new ke(this.options,this._onAjsEvent.bind(this)),this._fetchCompletePDFBufferPromise=null,this._assetRenditions={},this._assetRenditionsIndex=[],this._assetPageRenditions={},this._assetPageRenditionPromises={},this._assetPageRenditionsIndex=[],this._cachedRedirectUrl={},this._perfTimings={},this._resetAjsPerfTimings(),this._getAssetFileInfoPromise={},this.options.autoStart&&this.init(),je}_getAjs(){return this.ajsHandler.init().catch(r=>{this.options.useAJS=!1,this._ajsEmit("ajsInitFailed",r)})}reInitAJS(){this.ajsHandler.resetWorker(),this._resetAjsPerfTimings()}init(){this.options.useDCAPI?(this.dcapiPromise=new Promise((r,f)=>{this.dcapiResolve=r,this.dcapiReject=f}),this._dcapiInit()):this.dcapiPromise=Promise.resolve(),this.options.useAJS&&(this._completePDFBufferAvailablePromiseMap={},this._completeCNPDFAvailablePromiseMap={},this.options.AJSDelay>0?setTimeout(this._getAjs.bind(this),this.options.AJSDelay):this.options.useALMForAutoStart?document.addEventListener("dc:appstatechange",r=>{var f;const y=null===(f=r.detail)||void 0===f?void 0:f.appState;this._appStateChangeListener(y)}):this._getAjs()),this._waitOnCompletePDFBufferMap={},this._ajsMetaDataPromiseMap={}}_resetAjsPerfTimings(){this.options.useAJS&&(this._perfTimings.ajs={})}_getDCAssetFileInfo(r){let f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const y=`${r}`;return this._getAssetFileInfoPromise[y]||(this._getAssetFileInfoPromise[y]=this.dcapiPromise.then(()=>{const y=this._dcapiGetMetadata(r,f),S=this._dcapiGetDownloadUri(r,{});return Promise.all([S,y])}).then(r=>{const f=r[0],y=r[1];return this._getFileInfoObj(f,y,[])}).catch(()=>{delete this._getAssetFileInfoPromise[y]})),this._getAssetFileInfoPromise[y]}_getPDFNowAssetFileInfo(r,f){return this.dcapiPromise.then(()=>this._dcapiGetMetadata(r,f)).then(r=>{const f=r;return f&&!("id"in f)&&(f.id=f.asset_id),{metaData:f}})}_getReviewAssetFileInfo(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const y=`${r}`,S=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[r];if(this._getAssetFileInfoPromise[y])return this._getAssetFileInfoPromise[y];let R;R=f&&M.auth2.isSignedIn?this._dcapiGetMetadata(r,{}):this._reviewGetMetadata(r);const D=S||this._reviewGetDownloadUri(r,f);return this._getAssetFileInfoPromise[y]=Promise.allSettled([D,R]).then(async y=>{let R;if(R="fulfilled"===y[0].status&&y[0].value&&"RESOLVED_WITH_NOT_FOUND"!==y[0].value?S?y[0].value.download_url:y[0].value:await this._reviewGetDownloadUri(r,f),!R)throw new Error("Download Uri is null");const D="fulfilled"===y[1].status?y[1].value:null;return this._getFileInfoObj(R,D,[])}).catch(()=>{delete this._getAssetFileInfoPromise[y]}),this._getAssetFileInfoPromise[y]}getAssetFileInfo(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._getReviewAssetFileInfo(r):RenditionAPI._isPDFNowAsset(f)?this._getPDFNowAssetFileInfo(r,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(r,f).then(y=>(y&&!("id"in y)&&(y.id=y.asset_id),y.download_url?Promise.resolve({content:{location:{url:y.download_url}},metaData:y}):this._connectorGetContentBuffer(r,f).then(r=>{const f=new Blob([r]);return Promise.resolve({content:{location:{url:URL.createObjectURL(f)}},metaData:y})}))):this._getDCAssetFileInfo(r)}getDcapiRendition(r,f){return this._dcapiGetRendition(r,f)}static _getOriginFromUrl(r){return be.Yo(r)}_ajsEmit(r,f){const y={...f,acrobatJSVersion:F,shouldUseModernViewer:this.options.shouldUseModernViewer};(0,ne.$s)(r,y)}_filterLogsBeforeSendingToSplunk(r,f){switch(r){case"unembeddedFontsDetected":case"openPDFCalled":case"weblinksDetectionTime":return;default:this._ajsEmit(r,f)}}_onAjsEvent(r,f,y,S){switch(f){case"completeCNPDFAvailable":this._completePDFBufferAvailablePromiseMap[r].resolve(),this._completeCNPDFAvailablePromiseMap[r].resolve();break;case"completePDFBufferAvailable":this._completePDFBufferAvailablePromiseMap[r].resolve();break;case`${S}PerfTimings`:"ajs"===S&&Object.keys(y).forEach(r=>recordNow(r,y[r])),this._perfTimings[S]=Object.assign({},this._perfTimings[S],y);break;case"FontUsed":M.providers["font-provider"]().then(r=>{!y.isInEditMode&&y.fontsList&&y.fontsList.forEach(f=>{r.isUsageUnReported(f)&&this._ajsEmit("FontUsageNotReported",{fontName:f})})});break;default:this._filterLogsBeforeSendingToSplunk(f,y)}}_dcapiInit(){this._perfTimings.dc={dcapiInit:recordNow(ve.jn.DCAPI_INIT)},M.providers&&M.providers.dcapi&&M.providers.dcapi().then(r=>{this._dcapi=r.getDcapi(),this._dcapi.promise().then(()=>{this._perfTimings.dc.dcapiLoaded=recordNow(ve.jn.DCAPI_LOADED),this.dcapiResolve()}).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.dcapiReject()})})}_pdfnowInitPromise(){return!this.pdfnowApiPromise&&(this.options.usePDFNow?(this.pdfnowApiPromise=new Promise((r,f)=>{this.pdfnowApiResolve=r,this.pdfnowApiReject=f}),!0):(this.pdfnowApiPromise=Promise.resolve(),!1))}_pdfnowInit(){void 0!==M.providers&&M.providers["dcapi-facade"]().then(r=>r.getDcapi().then(r=>{this._pdfnowDcapi=r,this.pdfnowApiResolve()})).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.pdfnowApiReject()})}_resetReviewProvider(){this.reviewApiPromise=void 0,this._initReviewProviderIfRequired()}_initReviewProviderIfRequired(){this._reviewInitPromise()&&this._reviewInit()}_reviewInitPromise(){return!this.reviewApiPromise&&(this.options.useReview?(this.reviewApiPromise=new Promise((r,f)=>{this.reviewApiResolve=r,this.reviewApiReject=f}),!0):(this.reviewApiPromise=Promise.resolve(),!1))}_reviewInit(){void 0!==M.providers&&M.providers["review-handler"]().then(r=>{this._reviewApi=r,this.reviewApiResolve()}).catch(r=>{(0,ne.$s)(r,{code:r.code,level:"error"}),this.reviewApiReject()})}_externalInitPromise(){return!this.externalPromise&&(this.options.enableExternal?(this.externalPromise=new Promise((r,f)=>{this.externalResolve=r,this.externalReject=f}),!0):(this.externalPromise=Promise.resolve(),!1))}_externalInit(){void 0!==M.providers&&M.providers.integrationProvider().then(r=>{this._external=r,this.externalResolve()}).catch(r=>{(0,ne.$s)("externalInit Failed",{error:JSON.stringify(r),code:r.code,level:"error"}),this.externalReject()})}_cacheRendition(r,f){this._assetRenditions[r]||(this._assetRenditionsIndex.length===ve.rA&&delete this._assetRenditions[this._assetRenditionsIndex.shift()],this._assetRenditionsIndex.push(r)),this._assetRenditions[r]=y()(this._assetRenditions[r],f)}_cachePageRendition(r,f,S){const R=`${r}-${f}`;this._assetPageRenditions[R]||(this._assetPageRenditionsIndex.length===ve.rA&&delete this._assetPageRenditions[this._assetPageRenditionsIndex.shift()],this._assetPageRenditionsIndex.push(R)),this._assetPageRenditions[R]=y()(this._assetPageRenditions[R],S)}_dcapiGetAssetUri(r){if(this._dcapi&&r.startsWith("urn:"))return this._dcapi.getTemplateURI("asset_uri",{asset_id:r});const f=AssetUtils(r);if(!f)throw new Error("Invalid asset URI");return f}static _dcapiGetAssetUrn(r){return r.startsWith("urn:")?r:r.substr(r.lastIndexOf("/")+1)}static _isFileTypeImage(r){return new RegExp("^image").test(r)}static _canFileHaveMultiplePages(r){if(RenditionAPI._isFileTypeImage(r))return!1;return!["application/zip","application/octet-stream","text/plain","text/rtf"].includes(r)}_dcapiMetadataCall(f,y){let S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return new Promise((R,D)=>{this._dcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:this._dcapiGetAssetUri(f),headers:{"x-request-id":(0,r.A)()}}).then(r=>{var k,F;const M=r,ie=null==M||null===(k=M.content)||void 0===k?void 0:k.page_count;let ne;const ae=null==M||null===(F=M.content)||void 0===F?void 0:F.type;if(M.content.numPages=ie,(y.enableRetryForPDFs||this.queryParams.enableRetryForPDFs||"application/pdf"!==ae)&&!ie){let r="application/pdf"===ae?ve.dV:ve.L_;RenditionAPI._canFileHaveMultiplePages(ae)||(r=1);const R="application/pdf"===M.content.type?ve.jQ:ve.US;S===r?M.content.numPages=1:ne=new Promise((r,D)=>{setTimeout(()=>{this._dcapiMetadataCall(f,y,S+1).then(r).catch(D)},R)})}ne||(ne=Promise.resolve(M)),ne.then(R).catch(D)},r=>{D(r)})})}_dcapiGetMetadata(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&this._assetRenditions[r].dcapi.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].dcapi.contentData):RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?this._reviewGetMetadata(r,f):RenditionAPI._isPDFNowAsset(f)?this._pdfnowGetMetadata(r,f):RenditionAPI._isAcpAsset(f)?this._acpGetMetadata(r,f):RenditionAPI._isConnectorAsset(f)?this._connectorGetMetadata(r,f):new Promise((y,S)=>{this.dcapiPromise.then(()=>{const R=this._dcapiMetadataCall(r,f),D=this._dcapiGetDocumentRenditionStatus(r);Promise.all([R,D]).then(f=>{let[S,R]=f;this._cacheRendition(r,{dcapi:{contentData:(0,Ae.mg)(S.content)}}),this._cacheRendition(r,{dcapi:{contentData:{documentRenditionStatus:R}}}),y(this._assetRenditions[r].dcapi.contentData)}).catch(S)})})}static _isReviewAsset(r){return r.assetType===ve.qf}static _isParcelAsset(r){return r.assetType===ve.zz}static _isExternalAsset(r){return r.assetType===ve.ND}static _isConnectorAsset(r){return r.assetType&&ve.r5.includes(r.assetType)}static _isSignAsset(r){return r.assetType===ve.B}static _isAcpAsset(r){return r.assetType===ve.y8}static _isPDFNowAsset(r){return r.assetType===ve.CE}_dcapiIsPDFAsset(r,f){return new Promise((y,S)=>{f.useDCAPI?this._dcapiGetMetadata(r,f).then(()=>{this._assetRenditions[r]&&"application/pdf"===this._assetRenditions[r].dcapi.contentData.type?y():S()}).catch(S):y()})}_acpapiIsPDFAsset(r,f){return new Promise((y,S)=>{this._acpGetMetadata(r,f).then(()=>{this._assetRenditions[r]&&"application/pdf"===this._assetRenditions[r].acp.metaData.mimeType?y():S()}).catch(S)})}_isPDFAsset(r,f){return new Promise((y,S)=>{f&&"application/pdf"===f.assetMimeType?y():RenditionAPI._isAcpAsset(f)?this._acpapiIsPDFAsset(r,f).then(y).catch(S):this._dcapiIsPDFAsset(r,f).then(y).catch(S)})}_ajsPostMetaData(r,f){const y=f.buffer;return y?(this._fetchCompletePDFBufferPromise=Promise.resolve(y),delete f.buffer):f.enableCNPDF||(this._fetchCompletePDFBufferPromise=this._fetchCompletePDFBuffer(r,f)),f.enableLinearization&&!f.password?renditionMakeCancellablePromise(this._ajsGetLinearizedContentData(r,f)):f.enableCNPDF?renditionMakeCancellablePromise(this._ajsGetCNPDFContentData(r,f)):this._fetchCompletePDFBufferPromise.then(y=>renditionMakeCancellablePromise(this._ajsGetContentData(r,y,f)).catch(r=>((0,ne.$s)("ajsGetContentData Failed",{error:JSON.stringify(r),size:y?y.byteLength:-1}),Promise.reject(r))))}_fetchCompletePDFBuffer(r,f){let y;return y=RenditionAPI._isExternalAsset(f)?renditionMakeCancellablePromise(this._externalGetDownloadUri(r,f)).catch(r=>((0,ne.$s)("GetDownloadUri failed",{assetType:"external",error:JSON.stringify(r)}),Promise.reject(r))).then(f=>renditionMakeCancellablePromise(this._externalGetContentBuffer(r,f)).catch(r=>((0,ne.$s)("GetContentBuffer failed",{assetType:"external",error:JSON.stringify(r)}),Promise.reject(r)))):renditionMakeCancellablePromise(this._isPDFAsset(r,f)).catch(r=>((0,ne.$s)("Non PDF asset in AJS flow",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r))).then(()=>renditionMakeCancellablePromise(this._getDownloadUri(r,f)).catch(r=>((0,ne.$s)("GetDownloadUri failed",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r))).then(y=>(this._perfTimings.ajs.pdfDownloadStart=recordNow(ve.jn.PDF_DOWNLOAD_START),(0,ne.$s)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),renditionMakeCancellablePromise(this._dcapiGetContentBuffer(r,y,f)).catch(r=>((0,ne.$s)("GetContentBuffer failed",{assetType:"non-external",error:JSON.stringify(r)}),Promise.reject(r)))))),y.then(y=>{if(RenditionAPI._isExternalAsset(f)){const y=this._external.apis.file.getDownloadTimes();this._perfTimings.ajs.pdfDownloadStart=recordNow(ve.jn.PDF_DOWNLOAD_START,y.pdfDownloadStartTime),this._perfTimings.ajs.pdfDownloadEnd=recordNow(ve.jn.PDF_DOWNLOAD_END,y.pdfDownloadEndTime),(0,ne.$s)("pdfDownloadStartTime",{pdfDownloadStart:this._perfTimings.ajs.pdfDownloadStart}),this._getFileSize(r,f).then(r=>{this._logPdfDownloadTotalTime(r)}).catch(()=>{this._logPdfDownloadTotalTime(0)})}else{this._perfTimings.ajs.pdfDownloadEnd=recordNow(ve.jn.PDF_DOWNLOAD_END);const{pdfDownloadStart:r,pdfDownloadEnd:f}=this._perfTimings.ajs,y=f-r;(0,ne.$s)("pdfDownloadTotalTime",{pdfDownloadTotalTime:y}),this._setDownloadUrlType(ve.Ey.NONE)}return y})}_getDownloadUri(r,f){return RenditionAPI._isAcpAsset(f)?this._acpGetMetadata(r,f).then(r=>{var f;let{download_url:y}=r;return null!=y&&null!==(f=y.toLowerCase())&&void 0!==f&&f.includes("x-amz-security-token")&&this._setDownloadUrlType(ve.Ey.S3),y}):this._dcapiGetDownloadUri(r,f)}_getFileSize(r,f){return this._externalGetMetadata(r,f).then(r=>r.size?r.size:0)}_logPdfDownloadTotalTime(r){const{pdfDownloadStart:f,pdfDownloadEnd:y}=this._perfTimings.ajs,S=y-f;(0,ne.$s)("pdfDownloadTotalTime",{pdfDownloadTotalTime:S,fileSize:r,isS3Url:this._isS3DownloadUrl}),this._setDownloadUrlType(ve.Ey.NONE)}_ajsGetMetadata(r,f){const y=f?{...f}:{};var S;return renditionMakeCancellablePromise((S=r,new Promise((r,f)=>{if((0,le.lT)()){const y=stringToUint8ArrayBuffer(S);let R="";const D=getDigest(y);D.process(y),D.finish(),D.oncomplete=function onComplete(){if(R=D.result,null!==R){const f=getDigestHex(R);r(f)}else f("documentIdHash error")}}else{const y=(0,le.UP)()?stringToUint8ArrayBuffer(S):(new TextEncoder).encode(S);getDigest(y).then(f=>{const y=getDigestHex(f);r(y)}).catch(r=>{f(r)})}}))).then(r=>{(0,ne.TU)(r),this._documentId=r}).catch(()=>{this._documentId=""}).then(()=>{if(!0!==y.forceCacheless&&this._assetRenditions[r]&&this._assetRenditions[r].ajs&&this._assetRenditions[r].ajs.metadataPromise)return this._assetRenditions[r].ajs.metadataPromise;const S=this._ajsPostMetaData(r,y);return f.enableMetaDataAndRenditionAPI||this._cacheRendition(r,{ajs:{metadataPromise:S}}),S})}_externalGetMetadata(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.metadata&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].external.metadata):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._external.getSelectedFilesListFromFileIds([r]).then(f=>(this._cacheRendition(r,{external:{metadata:f[0]}}),f[0]))))}_externalGetDownloadUri(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.downloadUri&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].external.downloadUri):this._externalGetMetadata(r,f).then(f=>f.downloadUrl?(this._cacheRendition(r,{external:{downloadUri:f.downloadUrl}}),f.downloadUrl):Promise.reject(new Error("Download Uri not available")))}_externalGetContentBuffer(r,f){return this._assetRenditions[r]&&this._assetRenditions[r].external&&this._assetRenditions[r].external.contentBuffer?Promise.resolve(this._assetRenditions[r].external.contentBuffer):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>this._external.getFileContents(f).then(f=>(this._cacheRendition(r,{external:{contentBuffer:f},ajs:{contentBuffer:f}}),f))))}_connectorGetRendition(r,f){const y=f.size||"3200",S=`${r}-0`;if(!0===f.forceCacheless||!this._assetPageRenditions[S]||!this._assetPageRenditions[S].connector||!this._assetPageRenditions[S].connector.pageImgBuffer||this._assetPageRenditions[S].connector.size!==y||0!==this._assetPageRenditions[S].connector.page){const S=new URLSearchParams(window.location.search),R=ve.sk[f.assetType];return R?M.providers["storage-connectors"]().then(D=>D.getStorageProvider(R).then(R=>{let k=S.get("connectorid");return k||(k=f.connectorId),R.getRendition(r,D.getConnectorById(k),{size:y}).then(f=>{const S={params:{pageImgBuffer:f,mimeType:"image/png",pageNum:0}};return this._cachePageRendition(r,0,{connector:{pageImgBuffer:f,size:y,page:0}}),S})})).catch(r=>{throw new NoRenditionError(r&&r.message||"Unknown")}):Promise.reject(new Error("Not supported"))}const R=this._assetPageRenditions[S].connector,D={params:{pageImgBuffer:R.pageImgBuffer,mimeType:"image/png",pageNum:R.page}};return Promise.resolve(D)}_acpGetStorageProvider(){return M.webPlatform.locateImplementation("IStorage",ve.HD)}_acpGetRendition(r,f){const y=f.size||"3200",S=f.format||"png",R=void 0!==f.pageNum?f.pageNum:1,D=`image/${S}`,k=`${r.assetId}-${R}`;if(!0===f.forceCacheless||!this._assetPageRenditions[k]||!this._assetPageRenditions[k].acp||!this._assetPageRenditions[k].acp.pageImgBuffer||this._assetPageRenditions[k].acp.format!==S||this._assetPageRenditions[k].acp.size!==y||this._assetPageRenditions[k].acp.page!==R)return new Promise((f,k)=>{this._acpGetStorageProvider().then(F=>{var M;F.getRendition(r,{format:S,pageNum:R,size:y,type:D,prefetchMetaData:null===(M=this._assetRenditions[r.assetId])||void 0===M?void 0:M.prefetchMetaData}).then(k=>{const F={params:{pageImgBuffer:k,mimeType:D,pageNum:R}};this._cachePageRendition(r.assetId,R,{acp:{pageImgBuffer:k,mimeType:D,size:y,page:R,format:S}}),f(F)}).catch(k)}).catch(k)});const F=this._assetPageRenditions[k].acp,M={params:{pageImgBuffer:F.pageImgBuffer,mimeType:F.mimeType,pageNum:F.page}};return Promise.resolve(M)}_connectorGetMetadata(r,f){const y=`${r}`;if(!0!==f.forceCacheless&&this._getAssetFileInfoPromise[y])return this._getAssetFileInfoPromise[y];if(!0!==f.forceCacheless&&this._assetRenditions[r]&&this._assetRenditions[r].connector&&this._assetRenditions[r].connector.metaData)this._getAssetFileInfoPromise[y]=Promise.resolve(this._assetRenditions[r].connector.metaData);else{const S=new URLSearchParams(window.location.search),R=ve.sk[f.assetType];this._getAssetFileInfoPromise[y]=R?M.providers["storage-connectors"]().then(D=>D.getStorageProvider(R).then(k=>{const F=f.connectorId||S.get("connectorid");let M;var ie;f.cloudUserId?M=null===(ie=D.getConnectorsByCloudUserId(f.cloudUserId))||void 0===ie?void 0:ie.find(r=>(null==r?void 0:r.connectorType)===R):M=D.getConnectorById(F);return k.getItem(r,M).then(f=>{const y=k.normalizeItem(f,M);return"application/pdf"!==y.type&&(y.numPages=1,y.page_count=1),this._cacheRendition(r,{connector:{metaData:y},ajs:{metaData:y}}),y}).catch(()=>{delete this._getAssetFileInfoPromise[y]})})):Promise.reject(new Error("Not supported"))}return this._getAssetFileInfoPromise[y]}_acpGetMetadata(r,f){const y=`${r}`,S={assetId:r,isACP:!0,sourceName:ve.HD};if(!0!==f.forceCacheless&&this._getAssetFileInfoPromise[y])return this._getAssetFileInfoPromise[y];if(!0!==f.forceCacheless&&this._assetRenditions[y]&&this._assetRenditions[y].acp){const r=this._assetRenditions[y].acp;this._getAssetFileInfoPromise[y]=Promise.resolve(null==r?void 0:r.metaData)}else this._getAssetFileInfoPromise[y]=new Promise((r,f)=>{this._acpGetStorageProvider().then(R=>{var D;R.getAssetMetadata(S,{prefetchMetaData:null===(D=this._assetRenditions[y])||void 0===D?void 0:D.prefetchMetaData,includeDownloadURL:!0}).then(f=>{f.type=f.mimeType,this._cacheRendition(y,{acp:{metaData:f}}),r(f)}).catch(r=>{delete this._getAssetFileInfoPromise[y],f(r)})}).catch(f)});return this._getAssetFileInfoPromise[y]}_connectorGetContentBuffer(r,f){if(!this._assetRenditions[r]||!this._assetRenditions[r].connector||!this._assetRenditions[r].connector.contentBuffer){const y=new URLSearchParams(window.location.search),S=ve.sk[f.assetType];return S?M.providers["storage-connectors"]().then(R=>R.getStorageProvider(S).then(S=>{const D=f.connectorId||y.get("connectorid");return S.getFileContent(r,R.getConnectorById(D)).then(f=>(this._cacheRendition(r,{connector:{contentBuffer:f},ajs:{contentBuffer:f}}),f))})):Promise.reject(new Error("Not supported"))}return Promise.resolve(this._assetRenditions[r].connector.contentBuffer)}_dcapiGetRenditionUri(f){return this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.renditionUri?Promise.resolve(this._assetRenditions[f].dcapi.renditionUri):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_rendition_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{renditionUri:r.content.uri}}),r.content.uri),r=>Promise.reject(r))}_externalGetRendition(r,f){const y=void 0!==f.pageNum?f.pageNum:1,S=`${r}-${y}`;return this._assetPageRenditions[S]&&this._assetPageRenditions[S].external&&this._assetPageRenditions[S].external.rendition&&this._assetPageRenditions[S].external.rendition[y]&&!0!==f.forceCacheless?Promise.resolve(this._assetPageRenditions[S].external.rendition[y]):(this._externalInitPromise()&&this._externalInit(),this.externalPromise.then(()=>"function"!=typeof this._external.getRenditionByFileId?Promise.reject(new Error("Cannot get External rendition")):this._external.getRenditionByFileId(r,f).then(f=>{const S={external:{rendition:{}}};return S.external.rendition[y]={params:f},this._cachePageRendition(r,y,S),Promise.resolve({params:f})},r=>Promise.reject(r))))}_dcapiGetDirectRenditionForPage(f,y){const S=y.size||"1200",R=y.format||"jpg",D=void 0!==y.pageNum?y.pageNum:1,k=`${f}-${D}`,F=this._assetPageRenditions[k];let M;if(F&&(M=F.dcapi),M&&M.pageImgBuffer&&M.format===R&&M.size===S&&M.page===D){const r={params:{pageImgBuffer:M.pageImgBuffer,mimeType:M.mimeType,pageNum:M.page}};return Promise.resolve(r)}return this._dcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:RenditionAPI._dcapiGetAssetUrn(f),uri_parameters:{size:S,format:R,page:D-1,processing_hint:"speed_over_quality"},headers:{"x-request-id":(0,r.A)()},responseType:"arraybuffer"}).then(r=>{const y={params:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],pageNum:D}};return this._cachePageRendition(f,D,{dcapi:{pageImgBuffer:r.content,mimeType:r.headers["content-type"],size:S,page:D,format:R}}),Promise.resolve(y)},r=>Promise.reject(r))}_dcapiGetRendition(r,f){let y,S=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const R=performance.now();if(RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f))y=this._reviewGetRendition(r,f);else if(RenditionAPI._isPDFNowAsset(f))y=this._pdfnowGetRendition(r,f);else if(RenditionAPI._isConnectorAsset(f))y=this._connectorGetRendition(r,f);else if(RenditionAPI._isAcpAsset(f)){const S={assetId:r,isACP:!0,sourceName:ve.HD};y=this._acpGetRendition(S,f)}else y=this.dcapiPromise.then(()=>this._dcapiGetDirectRenditionForPage(r,f));return y.catch(y=>{const{code:D}=y;if(404===D||429===D){const y=RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?0:(null==f?void 0:f.maxRetries)||ve.mx;if(S<y){const y=(null==f?void 0:f.delayTime)||ve.jQ;return(0,Ae.cb)(y).then(()=>this._dcapiGetRendition(r,f,S+1))}const{format:k,size:F,type:M}=f;(0,ne.$s)("dcapiGetRendition max retries",{asset_uri:r,code:D,format:k,level:"error",rendition_duration:performance.now()-R,size:F,type:M})}throw y})}_getReviewRenditionWithRetries(r,f){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const S=performance.now();return this._reviewGetRendition(r,f).catch(R=>{const{code:D}=R;if(404===D||429===D){if(y<ve.mx)return(0,Ae.cb)(ve.jQ).then(()=>this._getReviewRenditionWithRetries(r,f,y+1));const{format:R,size:k,type:F}=f;(0,ne.$s)("getReviewRenditionWithRetries max retries",{asset_uri:r,code:D,format:R,level:"error",rendition_duration:performance.now()-S,size:k,type:F})}throw R})}_dcapiGetDocumentRenditionUri(f,y){const S=y;return this.dcapiPromise.then(()=>{const y=S.format||"owp";return this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.documentRenditionUri?Promise.resolve(this._assetRenditions[f].dcapi.documentRenditionUri+(S.format?`&format=${S.format}`:"")):this._dcapi.call("assets.rendition_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_rendition_v1.json",uri_parameters:{make_ticket:"owp"===y,type:"document"},headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{documentRenditionUri:r.content.uri}}),this._assetRenditions[f].dcapi.documentRenditionUri+(S.format?`&format=${S.format}`:"")),r=>Promise.reject(r))})}_dcapiGetDocumentRendition(f,y){const S=y;return this.dcapiPromise.then(()=>{const y=S.format||"owp";return S.format=void 0,this._dcapiGetDocumentRenditionUri(f,S).then(f=>this._dcapi.call("assets.document_rendition",{accept:"*/*",resource_parameter:f,uri_parameters:{format:y,fallback:"none"},headers:{"x-request-id":(0,r.A)()},responseType:"arraybuffer"}).then(r=>r.content))})}_dcapiGetDocumentRenditionStatus(f){return this.dcapiPromise.then(()=>this._dcapi.call("assets.document_rendition_status",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_document_rendition_status_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>r.content.document_rendition_status,r=>Promise.reject(r)))}_reviewGetDownloadUri(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1];this._initReviewProviderIfRequired();return new Promise((y,S)=>{this.reviewApiPromise.then(()=>{this._reviewApi.initReviewIfRequired().then(()=>{const R=this._reviewApi.getReview(r);let D=!0;if(void 0!==R){const S=recordNow(ve.jn.PDF_DOWNLOAD_URI_START);(f?R.getFileDownloadURLByAssetUri(r,"view",D):R.getFileDownloadURL("view",D)).then(r=>{this._setDownloadUrlType(ve.Ey.S3),y(r);const f=recordNow(ve.jn.PDF_DOWNLOAD_URI_END);(0,ne.$s)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-S})}).catch(()=>{D=!1;return(f?R.getFileDownloadURLByAssetUri(r,"view",D):R.getFileDownloadURL("view",D)).then(r=>{this._setDownloadUrlType(ve.Ey.DCAPI),y(r);const f=recordNow(ve.jn.PDF_DOWNLOAD_URI_END);(0,ne.$s)("pdfDownloadUriTotalTime",{pdfDownloadUriTotalTime:f-S})}).catch(r=>{this._setDownloadUrlType(ve.Ey.NONE),(0,ne.$s)("Failed to fetch reviewDownloadUri",JSON.stringify(r))})})}else S(new Error("Review does not exist"))})})})}_setDownloadUrlType(r){this._downloadUrlType=r}get _isS3DownloadUrl(){return this._downloadUrlType===ve.Ey.S3}_reviewGetMetadata(r){this._initReviewProviderIfRequired();return new Promise((f,y)=>{this.reviewApiPromise.then(()=>{this._reviewApi.initReviewIfRequired().then(()=>{const S=this._reviewApi.getReview(r);void 0!==S?S.getSendBootstrapData().then(R=>{const D={};if(R&&R.meta_list&&R.meta_list instanceof Array&&R.meta_list.length>S.getDownloadAssetIndex()){const y=R.meta_list[S.getDownloadAssetIndex()];D.type=y.content_type,D.assetMimeType=y.content_type,D.name=y.name,D.last_pagenum=y.last_pagenum||0,D.numPages=y.page_count||0,D.size=y.size,D.id=y.id,D.modified=y.modified,this._cacheRendition(r,{dcapi:{contentData:(0,Ae.mg)(D)}}),f(D)}else y(new Error("Invalid Bootstrap data"))}).catch(r=>{y(r)}):y(new Error("Review does not exist"))})}).catch(y)})}_reviewGetRenditionAuthHeader(r){const f=r;return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(f.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),f}_getReviewRenditionURL(r,f){const y=void 0!==f.pageNum?f.pageNum-1:0,S=parseInt(f.size||"1200",10);return new Promise((f,R)=>{this.reviewApiPromise.then(()=>{this._reviewApi.instantiateReview().then(()=>{void 0!==this._reviewApi.getReview(r)?r?this._reviewApi.getAllBaseUris().then(R=>{let D,k=`${R.send_api.replace("/api/","/invitation/")+encodeURIComponent(r)}/asset/asset-0`;switch(!0){case S<=30:D="/icon";break;case S<=120:D="/thumbnail";break;case S<=500:D="/tile";break;default:D="/preview"}k+=D,y&&(k+=`?page=${y}`),f(k)},R):R(new Error("Invalid Bootstrap data")):R(new Error("Review does not exist"))},R)}).catch(R)})}_getCachedRedirectURL(r,f){const{assetUri:y,pageNum:S,renditionUrl:R,fetchOptions:D}=r;return new Promise((r,k)=>{const{pageNum:F,cachedAssetUri:M}=this._cachedRedirectUrl;let{redirectUrl:ie}=this._cachedRedirectUrl;const ne="cachedAssetUri"in this._cachedRedirectUrl,ae=R.includes("/preview");ne&&M===y&&ae&&!f?(F===S&&r(ie),ie=ie.includes("page=")?ie.replace(/page=\d+/g,"page="+(S-1)):`${ie}&page=${S-1}`,r(ie)):RenditionAPI._fetchWithCredentials(R,D).then(f=>{let R;if(f&&200===f.status&&f.content){R=JSON.parse(f.content).url,ae&&(this._cachedRedirectUrl={cachedAssetUri:y,redirectUrl:R,pageNum:S}),r(R)}R||k(new Error("Redirect url could not be obtained"))}).catch(r=>k(r))})}_getRenditionsUsingCachedRedirectURL(r){let f=arguments.length>1&&void 0!==arguments[1]&&arguments[1],y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return new Promise((S,R)=>{this._getCachedRedirectURL(r,f).then(f=>{S(this._getRenditionsUsingRedirectURL(f,r,y))}).catch(r=>{R(r)})})}_getRenditionsUsingRedirectURL(r,f){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const{assetUri:S,pageNum:R,size:D,renditionUrl:k,pageRenditionPromise:F}=f;let M={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return M=this._reviewGetRenditionAuthHeader(M),M.headers||(M.headers={}),new Promise((ie,ne)=>{F?F.then(r=>{const f={params:{pageImgBuffer:r.buffer,mimeType:r.mimeType,pageNum:R}};this._cachePageRendition(S,R,{dcapi:{renditionUri:k,pageImgBuffer:r.buffer,mimeType:r.mimeType,size:D,page:R}}),ie(f)}).catch(r=>{ne(r)}):RenditionAPI._fetchWithCredentials(r,M).then(F=>{const M={params:{pageImgBuffer:F.content,mimeType:F.headers["content-type"],pageNum:R}};this._cachePageRendition(S,R,{dcapi:{renditionUri:k,pageImgBuffer:F.content,mimeType:F.headers["content-type"],size:D,page:R}});F&&(410===F.status||401===F.status)&&y<ve.x1&&this._getRenditionsUsingRedirectURL(r,f,y+1),ie(M)}).catch(r=>{ne(r)})})}_reviewGetRendition(r,f){this._initReviewProviderIfRequired();const y=window.adobe_dc_sdk.cache.assetURLPromise&&window.adobe_dc_sdk.cache.assetURLPromise[r],S=void 0!==f.pageNum?f.pageNum:1,R=f.size||"1200",D=`${r}-${S}-${R}`,k=f.pageRenditionPromise;return this._assetPageRenditionPromises[D]||(this._assetPageRenditionPromises[D]=new Promise((F,M)=>{if(y){const ie={assetUri:r,pageNum:S,size:R,pageRenditionPromise:k};y.then(r=>{let f=r.url;f.includes("page=")&&(f=f.replace(/page=\d+/g,"page="+(S-1))),this._getRenditionsUsingRedirectURL(f,ie).then(r=>F(r)).catch(r=>{delete this._assetPageRenditionPromises[D],delete window.adobe_dc_sdk.cache.assetURLPromise,M(r)})}).catch(()=>(delete this._assetPageRenditionPromises[D],delete window.adobe_dc_sdk.cache.assetURLPromise,this._reviewGetRendition(r,f)))}else this._getReviewRenditionURL(r,f).then(f=>{let y={withCredentials:this.options.fetchWithCredentials};y=this._reviewGetRenditionAuthHeader(y),y.headers||(y.headers={}),Object.assign(y.headers,{ACCEPT:"application/vnd.adobe.skybox+json;version=1","x-api-client-id":"api_browser"});const k=`${r}-${S}`;if(this._assetPageRenditions[k]&&this._assetPageRenditions[k].dcapi&&this._assetPageRenditions[k].dcapi.pageImgBuffer&&this._assetPageRenditions[k].dcapi.renditionUri===f&&this._assetPageRenditions[k].dcapi.size===R&&this._assetPageRenditions[k].dcapi.page===S){const r={params:{pageImgBuffer:this._assetPageRenditions[k].dcapi.pageImgBuffer,mimeType:this._assetPageRenditions[k].dcapi.mimeType,pageNum:this._assetPageRenditions[k].dcapi.page}};return void F(r)}const ie={assetUri:r,pageNum:S,size:R,renditionUrl:f,fetchOptions:y};this._getRenditionsUsingCachedRedirectURL(ie).then(r=>F(r)).catch(r=>{delete this._assetPageRenditionPromises[D],M(r)})}).catch(()=>{delete this._assetPageRenditionPromises[D],M(new Error("Review Rendition url could not be created"))})})),this._assetPageRenditionPromises[D]}_dcapiGetDownloadUri(f,y){if(RenditionAPI._isReviewAsset(y)||RenditionAPI._isParcelAsset(y))return this._reviewGetDownloadUri(f,y);if(RenditionAPI._isSignAsset(y))return Promise.resolve(f);if(!this.options.useDCAPI)return Promise.resolve(f);const S={resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_download_v1.json",headers:{"x-request-id":(0,r.A)()}};return new Promise((r,y)=>{this.dcapiPromise.then(()=>(recordNow(ve.jn.PDF_DOWNLOAD_URI_START),this._dcapi.call("assets.download_uri",{...S,uri_parameters:{make_direct_storage_uri:!0}}).then(async y=>{var S;this._setDownloadUrlType(ve.Ey.S3),recordNow(ve.jn.PDF_DOWNLOAD_URI_END);const R=null==y||null===(S=y.headers)||void 0===S?void 0:S.etag;await utils_ProviderUtil(f,R),r(y.content.uri)}).catch(()=>this._dcapi.call("assets.download_uri",S).then(f=>{this._setDownloadUrlType(ve.Ey.DCAPI),recordNow(ve.jn.PDF_DOWNLOAD_URI_END),r(f.content.uri)}).catch(r=>{this._setDownloadUrlType(ve.Ey.NONE),y(r)}))))})}_dcapiGetUserDownloadUri(f,y){return RenditionAPI._isReviewAsset(y)||RenditionAPI._isParcelAsset(y)?this._reviewGetDownloadUri(f,y):this.options.useDCAPI?this._assetRenditions[f]&&this._assetRenditions[f].dcapi&&this._assetRenditions[f].dcapi.userDownloadUri?Promise.resolve(this._assetRenditions[f].dcapi.userDownloadUri):this.dcapiPromise.then(()=>this._dcapi.call("assets.download_uri",{resource_parameter:this._dcapiGetAssetUri(f),accept:"asset_uri_download_v1.json",headers:{"x-request-id":(0,r.A)()}}).then(r=>(this._cacheRendition(f,{dcapi:{userDownloadUri:r.content.uri}}),r.content.uri),r=>Promise.reject(r))):Promise.resolve(f)}_dcapiSetLastPageNum(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last page number on a review/parcel asset")):this.dcapiPromise.then(()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(r),content_type:"asset_metadata_field_v1.json",content:{last_pagenum:f.lastPageNum-1},uri_parameters:{fields:"last_pagenum"}}))}_dcapiSetLastAccess(r,f){return RenditionAPI._isReviewAsset(f)||RenditionAPI._isParcelAsset(f)?Promise.reject(new Error("Cannot set last access on a review/parcel asset")):this.dcapiPromise.then(()=>this._dcapi.call("assets.put_metadata_field",{resource_parameter:this._dcapiGetAssetUri(r),content_type:"asset_metadata_field_v1.json",content:{last_access:""},uri_parameters:{fields:"last_access"}}))}static _fetchWithCredentials(r,f){let y,S;const R=f||{};S=R.timeout,S>=0||(S=D().http.timeout);const k=new Promise((f,k)=>{try{y=new XMLHttpRequest,y.open("GET",r,!0),S>=0&&(y.timeout=S),R.responseType&&(y.responseType=R.responseType),R.headers&&Object.entries(R.headers).some(r=>{let[f,S]=r;return y.setRequestHeader(f,S)}),R.withCredentials&&(y.withCredentials=R.withCredentials),y.onreadystatechange=()=>{if(R.response_content_open){if(!y.readyState||y.readyState<2)return}else if(4!==y.readyState)return;let r;try{if(r={status:y.status,statusText:y.statusText||y.status,headers:D().http.parseHeaders(y.getAllResponseHeaders()),content:void 0},R.response_content_open||(y.responseType&&"text"!==y.responseType?r.content=y.response:r.content=y.responseText),!(y.status>0&&y.status<400))throw 0!==y.status||r.statusText||(r.statusText="Timeout or network error"),new(D().AdobeError)(r.statusText,r.status,r);f(r)}catch(f){!f||f instanceof Error?k(f):k(new(D().AdobeError)(f.stack||f,r.status,r))}},R.request_content_open||y.send(undefined)}catch(f){k(new(D().AdobeError)(f.stack||f,0,{method:"GET",url:r,options:R}))}});return(R.request_content_open||R.response_content_open)&&(k.request=y),k}_dcapiGetContentBuffer(r,f,y){if(!this._assetRenditions[r]||!this._assetRenditions[r].dcapi||!this._assetRenditions[r].dcapi.contentBuffer){const S={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return!RenditionAPI._isSignAsset(y)&&!this._isS3DownloadUrl&&this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(S.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,S).then(f=>{const y=f.content;return this._cacheRendition(r,{ajs:{contentBuffer:y,contentFormat:f.headers["x-content-format"]},dcapi:{contentBuffer:y,contentFormat:f.headers["x-content-format"]}}),y})}return Promise.resolve(this._assetRenditions[r].dcapi.contentBuffer)}_dcapiGetUserContentBuffer(r,f){if(!this._assetRenditions[r]||!this._assetRenditions[r].dcapi||!this._assetRenditions[r].dcapi.userContentBuffer){const y={responseType:"arraybuffer",withCredentials:this.options.fetchWithCredentials};return this._dcapi&&this._dcapi.session&&this._dcapi.session.content&&this._dcapi.session.content.access_token&&(y.headers={Authorization:`Bearer ${this._dcapi.session.content.access_token}`}),RenditionAPI._fetchWithCredentials(f,y).then(f=>{const y=f.content;return this._cacheRendition(r,{ajs:{userContentBuffer:y},dcapi:{userContentBuffer:y}}),y})}return Promise.resolve(this._assetRenditions[r].dcapi.userContentBuffer)}_pdfnowGetMetadata(r,f){let y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return this._assetRenditions[r]&&this._assetRenditions[r].pdfnow&&this._assetRenditions[r].pdfnow.contentData&&!0!==f.forceCacheless?Promise.resolve(this._assetRenditions[r].pdfnow.contentData):(this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((S,R)=>{this.pdfnowApiPromise.then(()=>{this._pdfnowDcapi.call("assets.get_metadata",{accept:"asset_metadata_basic_v1.json",resource_parameter:r}).then(D=>{const k=D.content;k.assetMimeType=D.content_type,k.last_pagenum=D.content.last_pagenum||0;let F,M=D.content.page_count;return void 0===M&&(y===ve.ac?(M=1,(0,ne.$s)("Maximum DCAPI metadata retries reached",{tryCount:y})):F=this._pdfnowGetMetadata(r,f,y+1)),F||(k.numPages=M,this._cacheRendition(r,{pdfnow:{contentData:(0,Ae.mg)(k)}}),F=Promise.resolve(this._assetRenditions[r].pdfnow.contentData)),F.then(S).catch(R)}).catch(R)}).catch(R)}))}_pdfnowGetRendition(r,f){const y=f.size||"3200",S=f.format||"png",R=void 0!==f.pageNum?f.pageNum:1,D=`${r}-${R}`;if(!0===f.forceCacheless||!this._assetPageRenditions[D]||!this._assetPageRenditions[D].pdfnow||!this._assetPageRenditions[D].pdfnow.pageImgBuffer||this._assetPageRenditions[D].pdfnow.format!==S||this._assetPageRenditions[D].pdfnow.size!==y||this._assetPageRenditions[D].pdfnow.page!==R)return this._pdfnowInitPromise()&&this._pdfnowInit(),new Promise((f,D)=>{this.pdfnowApiPromise.then(()=>{this._pdfnowDcapi.call("assets.rendition_direct",{accept:"image/*",resource_parameter:r,responseType:"arraybuffer",uri_parameters:{format:S,page:R-1,size:y}}).then(D=>{const k={params:{pageImgBuffer:D.content,mimeType:D.headers["content-type"],pageNum:R}};this._cachePageRendition(r,R,{pdfnow:{pageImgBuffer:D.content,mimeType:D.headers["content-type"],size:y,page:R,format:S}}),f(k)}).catch(D)}).catch(D)});const k=this._assetPageRenditions[D].pdfnow,F={params:{pageImgBuffer:k.pageImgBuffer,mimeType:k.mimeType,pageNum:k.page}};return Promise.resolve(F)}_openPdfResponseCallback(r,f,y){if((null==y?void 0:y.enableMetaDataAndRenditionAPI)&&!f.errorCode){const{zoomLevelCalculatorFn:S,renditionParams:{renditionContainerWidth:R}}=y;this._assetRenditions[r].ajs.renditionZoomLevel[y.renditionParams.pageNum]=S(f,{renditionContainerWidth:R})}this._assetRenditions[r].ajs.metadataPromiseResolve(f)}_cacheRenditionPromise(r,f,y){this._assetRenditions[r].ajs.renditionPromise||(this._assetRenditions[r].ajs.renditionPromise={},this._assetRenditions[r].ajs.renditionZoomLevel={},this._assetRenditions[r].ajs.renditionShowAnnots={}),y.zoomLevel&&(this._assetRenditions[r].ajs.renditionZoomLevel[y.renditionParams.pageNum]=y.zoomLevel),this._assetRenditions[r].ajs.renditionPromise[y.renditionParams.pageNum]=f,this._assetRenditions[r].ajs.renditionShowAnnots[y.renditionParams.pageNum]=y.renditionParams.showAnnots,recordNow(ve.jn.CACHED_RENDITION)}_getMetaDataAndRendition(r,f){var y;let S,R,D={...f,openPdfResponseCallback:y=>this._openPdfResponseCallback(r,y,f)};const k=new Promise((r,f)=>{S=r,R=f});this._cacheRendition(r,{ajs:{metadataPromise:k,metadataPromiseResolve:S,metadataPromiseReject:R}}),D=Object.assign(D,this._getRenditionParams(f.renditionParams));const{priority:F,viewState:M}=D,ie=this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openPDFAndGetPageRendition",D,M,F).then(y=>(this._assetRenditions[r].ajs.renditionZoomLevel||(this._assetRenditions[r].ajs.renditionZoomLevel={}),this._assetRenditions[r].ajs.renditionZoomLevel[f.renditionParams.pageNum]=y.data.zoomLevel,this._handleRenditionResponse(y))));return D.shouldCacheAJSRendition&&null!==(y=this._assetRenditions[r])&&void 0!==y&&y.ajs&&this._cacheRenditionPromise(r,ie,f),k}_ajsGetContentData(r,f,y){(0,ne.$s)("ajsGetContentData Called",{size:f?f.byteLength:-1});const S=Object.assign({buffer:f,documentId:this._documentId,securityHandler:y.fetchPasswordCallback?new Pe.A({fetchPasswordCallback:y.fetchPasswordCallback}):void 0},y);return y.enableMetaDataAndRenditionAPI?this._getMetaDataAndRendition(r,S):this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openPDF",S).then(r=>Object.assign({},r.data,{buffer:f,acrobatJSVersion:F,openPDFWasmTime:Math.round(r.timeTaken),openPDFQueueWaitTime:Math.round(r.queueWaitTime),openPDFTotalTime:Math.round(r.totalTime),openPDFMainToWorkerTime:Math.round(r.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(r.workerToMainTime),enableWasmExceptions:r.enableWasmExceptions})))}_setCompleteCNPDFAvailablePromise(r){return this._completeCNPDFAvailablePromiseMap[r]||(this._completeCNPDFAvailablePromiseMap[r]={},this._completeCNPDFAvailablePromiseMap[r].promise=new Promise(f=>{this._completeCNPDFAvailablePromiseMap[r].resolve=f})),this._completeCNPDFAvailablePromiseMap[r].promise}async _ajsGetCNPDFContentData(r,f){this._setCompleteCNPDFAvailablePromise(r);const y=await(f.cnpdfFetcherPromise||this._external.apis.file.getCNPDFFetcher()),S=await y.getManifest(),R=Object.assign({manifest:S,cnpdfFetcher:y},f);return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openCNPDF",R).then(r=>Object.assign({},r.data,{enableCNPDF:!0,acrobatJSVersion:F,openPDFWasmTime:Math.round(r.timeTaken),openPDFQueueWaitTime:Math.round(r.queueWaitTime),openPDFTotalTime:Math.round(r.totalTime),openPDFMainToWorkerTime:Math.round(r.mainToWorkerTime),openPDFWorkerToMainTime:Math.round(r.workerToMainTime),enableWasmExceptions:r.enableWasmExceptions})))}_ajsGetLinearizedContentData(r,f){const y={password:f.password,fetchPdfSizeCallback:()=>this._fetchPDFSize(r,f),fetchPdfBufferRangesCallback:y=>this._fetchPDFBufferRanges(r,f,y),blockSize:f.linearizationBlockSize,documentId:this._documentId};return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"openLinearizedPDF",y).then(r=>Object.assign({},r.data)))}_ajsDeleteRenditionCache(r){var f,y,S,R,D,k;null!==(f=this._assetRenditions[r])&&void 0!==f&&null!==(y=f.ajs)&&void 0!==y&&y.renditionZoomLevel&&null!==(S=this._assetRenditions[r])&&void 0!==S&&null!==(R=S.ajs)&&void 0!==R&&R.renditionShowAnnots&&null!==(D=this._assetRenditions[r])&&void 0!==D&&null!==(k=D.ajs)&&void 0!==k&&k.renditionPromise&&(delete this._assetRenditions[r].ajs.renditionZoomLevel,delete this._assetRenditions[r].ajs.renditionPromise,delete this._assetRenditions[r].ajs.renditionShowAnnots)}_ajsGetRenditionForPage(r,f){var y,S,R,D,k,F,M,ie,ae,le,be,we;if(null!==(y=this._assetRenditions[r])&&void 0!==y&&y.ajs.renditionPromise&&null!==(S=this._assetRenditions[r])&&void 0!==S&&S.ajs.renditionZoomLevel&&null!==(R=this._assetRenditions[r])&&void 0!==R&&R.ajs.renditionShowAnnots&&null!==(D=this._assetRenditions[r])&&void 0!==D&&D.ajs.renditionPromise[f.pageNum]&&null!==(k=this._assetRenditions[r])&&void 0!==k&&k.ajs.renditionShowAnnots[f.pageNum]&&null!==(F=this._assetRenditions[r])&&void 0!==F&&F.ajs.renditionZoomLevel[f.pageNum]&&(null===(M=this._assetRenditions[r])||void 0===M?void 0:M.ajs.renditionZoomLevel[f.pageNum])===f.zoomLevel&&(null===(ie=this._assetRenditions[r])||void 0===ie?void 0:ie.ajs.renditionShowAnnots[f.pageNum])===f.showAnnots&&!f.colorPallete&&"page"===f.requestType){var Pe;recordNow(ve.jn.CACHED_RENDITION_RETURNED);const y=null===(Pe=this._assetRenditions[r])||void 0===Pe?void 0:Pe.ajs.renditionPromise[f.pageNum];return this._ajsDeleteRenditionCache(r),y}if(null!==(ae=this._assetRenditions[r])&&void 0!==ae&&ae.ajs.renditionZoomLevel&&null!==(le=this._assetRenditions[r])&&void 0!==le&&le.ajs.renditionPromise&&null!==(be=this._assetRenditions[r])&&void 0!==be&&be.ajs.renditionShowAnnots){const y=ve.jn.CACHED_RENDITION_FAILED;let S="",R={};this._assetRenditions[r].ajs.renditionPromise[f.pageNum]&&this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]&&this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]?this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]!==f.zoomLevel?(S="ZOOM",R={reason:S,zoomLevel:f.zoomLevel,cachedZoomLevel:this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]}):f.colorPallete?(S="COLOR_PALLETE",R.reason=S):this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]!==f.showAnnots?(S="SHOW_ANNOT",R={reason:S,showAnnots:f.showAnnots,cachedShowAnnots:this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]}):"page"!==f.requestType&&(S="REQUEST_TYPE",R={reason:S,requestType:f.requestType}):(S="PAGE_NUM",R={reason:S,pageNum:f.pageNum}),recordNow(`${y}_${S}`),(0,ne.$s)("cache rendition return failed",{error:JSON.stringify(R)}),this._ajsDeleteRenditionCache(r)}const Ae=this._getRenditionParams(f),{priority:Se,viewState:Re}=Ae,Ce=this._getAjs().then(()=>this.ajsHandler.callAsync(r,"getPageRendition",Ae,Re,Se).then(r=>this._handleRenditionResponse(r)));return f.shouldCacheAJSRendition&&null!==(we=this._assetRenditions[r])&&void 0!==we&&we.ajs&&(this._assetRenditions[r].ajs.renditionPromise||(this._assetRenditions[r].ajs.renditionPromise={},this._assetRenditions[r].ajs.renditionZoomLevel={},this._assetRenditions[r].ajs.renditionShowAnnots={}),f.zoomLevel&&(this._assetRenditions[r].ajs.renditionZoomLevel[f.pageNum]=f.zoomLevel),this._assetRenditions[r].ajs.renditionShowAnnots[f.pageNum]=f.showAnnots,this._assetRenditions[r].ajs.renditionPromise[f.pageNum]=Ce,recordNow(ve.jn.CACHED_RENDITION)),Ce}_downloadUserAssetContentBuffer(r,f){const y=f||{};return this._dcapiGetUserDownloadUri(r,y).then(f=>this._dcapiGetUserContentBuffer(r,f).then(r=>r))}_ajsPerformCommand(r,f){const{commandName:y}=f;if("forceSwitchJS"===y)return this._resetReviewProvider(),this._getAjs().then(()=>this.ajsHandler.callAsync(r,"loadFullWorker"));if("switchToCNPDF"===y&&this._setCompleteCNPDFAvailablePromise(r),"resetWorker"===y)return this._assetRenditions[r]&&this._assetRenditions[r].ajs&&delete this._assetRenditions[r].ajs,this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&(delete this._assetRenditions[r].dcapi.contentData,delete this._assetRenditions[r].dcapi.contentBuffer,delete this._assetRenditions[r].dcapi.contentFormat),this._assetRenditions[r]&&this._assetRenditions[r].external&&(delete this._assetRenditions[r].external.contentBuffer,delete this._assetRenditions[r].external.metadata),this._assetRenditions[r]&&this._assetRenditions[r].prefetchMetaData&&delete this._assetRenditions[r].prefetchMetaData,this.closeRendition(r,{...f,cancelPromises:!0}),this._resetReviewProvider(),this._getAjs().then(()=>this.ajsHandler.close(r));if("translateToLiquidModeView"===y)return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"translateToLiquidModeView",{fetchCNFTPDFUpdatesCallback:AdobeSenseiPredictClient}));if("verifyDigitalSignatures"===y){const{externalCertificateValidator:y}=f,S=(r=>{const f=[];return"function"==typeof r&&f.push(new Se(r)),Re.isAvailable()&&f.push(new Re),f})(y);return this._getAjs().then(()=>this.ajsHandler.callAsync(r,"verifyDigitalSignatures",{certificateChainValidators:S}))}if("remapAJSCache"===y){const{oldAssetUri:r,newAssetUri:y}=f,S=this._assetRenditionsIndex.indexOf(r);return this._assetRenditions[r]&&this._assetRenditions[r].ajs&&(this._assetRenditions[y]=this._assetRenditions[y]||{},this._assetRenditions[y].ajs=this._assetRenditions[r].ajs,this._assetRenditionsIndex.splice(S,1),this._assetRenditionsIndex.includes(y)||this._assetRenditionsIndex.push(y)),this._completePDFBufferAvailablePromiseMap[r]&&(this._completePDFBufferAvailablePromiseMap[y]=this._completePDFBufferAvailablePromiseMap[r],delete this._completePDFBufferAvailablePromiseMap[r]),this._waitOnCompletePDFBufferMap[r]&&(this._waitOnCompletePDFBufferMap[y]=this._waitOnCompletePDFBufferMap[r],delete this._waitOnCompletePDFBufferMap[r]),this._getAjs().then(()=>this.ajsHandler.remapAssetUri(r,y)),Promise.resolve()}const{priority:S,viewState:R,...D}=f;return this._getAjs().then(()=>this.ajsHandler.callAsync(r,y,D,R,S))}_dcapiPerformCommand(r,f){return this.dcapiPromise.then(()=>new Promise((y,S)=>{"setLastPageNum"===f.commandName?this._dcapiSetLastPageNum(r,f).then(y).catch(S):"setLastAccess"===f.commandName?this._dcapiSetLastAccess(r,f).then(y).catch(S):"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(r,f).then(y).catch(S):"getUserContentBuffer"===f.commandName?this._downloadUserAssetContentBuffer(r,f).then(y).catch(S):S()}))}_externalPerformCommand(r,f){return new Promise((y,S)=>{"setLastPageNum"===f.commandName?y():"getContentBuffer"===f.commandName?this.downloadAssetContentBuffer(r,f).then(y).catch(S):"setLastAccess"===f.commandName||"getUserContentBuffer"===f.commandName?y():S()})}ready(){return Promise.resolve(this)}canPerformSync(r){return{canPerformSync:this._getAjs().then(()=>this.ajsHandler.isInstanceCached(r)),ready:this._getAjs().then(()=>this.ajsHandler.activateInstanceIfInactive(r))}}performCommandSynchronously(r,f){const{priority:y,viewState:S,...R}=f;return this.ajsHandler.callSync(r,f.commandName,R,S,y)}performCommand(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,S.useAJS?y.ajs=this._ajsPerformCommand(r,S):y.ajs=Promise.reject(new Error("Cannot perform AJS command if AJS is disabled")),S.useDCAPI?y.dcapi=this._dcapiPerformCommand(r,S):y.dcapi=Promise.reject(new Error("Cannot perform DCAPI command if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(y.external=this._externalPerformCommand(r,S)),y}isCompletePDFBufferAvailable(r){return this._completePDFBufferAvailablePromiseMap[r].promise}isCompleteCNPDFAvailable(r){return this._setCompleteCNPDFAvailablePromise(r)}getMetadata(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,this.options.shouldUseModernViewer=S.shouldUseModernViewer,S.useDCAPI?y.dcapi=this._dcapiGetMetadata(r,S):y.dcapi=Promise.reject(new Error("Cannot get DCAPI metadata if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(y.external=this._externalGetMetadata(r,S)),S.useAJS?(this._completePDFBufferAvailablePromiseMap[r]||(this._completePDFBufferAvailablePromiseMap[r]={},this._completePDFBufferAvailablePromiseMap[r].promise=new Promise(f=>{this._completePDFBufferAvailablePromiseMap[r].resolve=f})),y.ajs=this._ajsGetMetadata(r,S)):y.ajs=Promise.reject(new Error("Cannot get AJS metadata if AJS is disabled")),this._waitOnCompletePDFBufferMap[r]||(this._waitOnCompletePDFBufferMap[r]={},this._waitOnCompletePDFBufferMap[r].promise=new Promise(f=>{this._waitOnCompletePDFBufferMap[r].resolve=f})),y}_ajsRegisterLicense(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const f={token:r.licenseString,domain:r.domain};return this._getAjs().then(()=>this.ajsHandler.registerLicense(f))}registerLicense(r){const f={},y=r||{};return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,f.dcapi=Promise.reject(new Error("DCAPI doesn't support sdk license validation")),y.useAJS?f.ajs=this._ajsRegisterLicense(y):f.ajs=Promise.reject(new Error("Cannot register license if AJS is disabled")),f}getRendition(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.enableExternal=!1!==S.enableExternal&&this.options.enableExternal,S.useDCAPI?y.dcapi=this._dcapiGetRendition(r,S):y.dcapi=Promise.reject(new Error("Cannot get DCAPI rendition if DCAPI is disabled")),S.enableExternal&&RenditionAPI._isExternalAsset(S)&&(y.external=this._externalGetRendition(r,S)),S.useAJS?y.ajs=this._ajsGetRenditionForPage(r,S):y.ajs=Promise.reject(new Error("Cannot get AJS rendition if AJS is disabled")),y}getDocumentRenditionUri(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?y.dcapi=this._dcapiGetDocumentRenditionUri(r,S):y.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition URI if DCAPI is disabled")),y.ajs=Promise.reject(new Error("Cannot get AJS doc rendition URI")),y}getDocumentRendition(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?y.dcapi=this._dcapiGetDocumentRendition(r,S):y.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition if DCAPI is disabled")),y.ajs=Promise.reject(new Error("Cannot get AJS doc rendition")),y}getDocumentRenditionStatus(r,f){const y={},S=f||{};return S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,S.useAJS=!1!==S.useAJS&&this.options.useAJS,S.useDCAPI?y.dcapi=this._dcapiGetDocumentRenditionStatus(r):y.dcapi=Promise.reject(new Error("Cannot get DCAPI doc rendition status if DCAPI is disabled")),y.ajs=Promise.reject(new Error("Cannot get DCAPI doc rendition status")),y}downloadAssetContentBuffer(r,f){return f&&RenditionAPI._isExternalAsset(f)?this._externalGetDownloadUri(r,f).then(f=>this._externalGetContentBuffer(r,f).then(r=>r)):this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&this._assetRenditions[r].dcapi.contentBuffer?Promise.resolve(this._assetRenditions[r].dcapi.contentBuffer):this._dcapiGetDownloadUri(r,f).then(y=>this._dcapiGetContentBuffer(r,y,f).then(r=>r))}updateDefaultAJSInstance(r){this.ajsHandler.updateDefaultAJSInstance(r)}clearRenditionCache(r,f){const y=f||{},S=`${r}`;return y.useDCAPI=!1!==y.useDCAPI&&this.options.useDCAPI,y.useAJS=!1!==y.useAJS&&this.options.useAJS,y.enableExternal=!1!==y.enableExternal&&this.options.enableExternal,y.useAJS&&this._assetRenditions[r]&&this._assetRenditions[r].ajs&&delete this._assetRenditions[r].ajs,y.useDCAPI&&this._assetRenditions[r]&&this._assetRenditions[r].dcapi&&delete this._assetRenditions[r].dcapi,y.enableExternal&&this._assetRenditions[r]&&this._assetRenditions[r].external&&delete this._assetRenditions[r].external,this._getAssetFileInfoPromise[S]&&delete this._getAssetFileInfoPromise[S],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,Promise.resolve()}closeRendition(r,f){const y={dcapi:Promise.resolve(),ajs:Promise.resolve()},S=f||{},R=`${r}`;if(S.useDCAPI=!1!==S.useDCAPI&&this.options.useDCAPI,this._assetRenditions[r]&&S.clearCache&&(delete this._assetRenditions[r],this._assetRenditionsIndex=this._assetRenditionsIndex.filter(f=>f!==r)),S.clearCache){this._assetPageRenditions=Object.entries(this._assetPageRenditions).reduce((f,y)=>{let[S,R]=y;return S.startsWith(r)||(f[S]=R),f},{}),this._assetPageRenditionsIndex=Object.keys(this._assetPageRenditions);const f=Object.entries(this._assetPageRenditionPromises);this._assetPageRenditionPromises=f.reduce((f,y)=>{let[S,R]=y;return S.startsWith(r)||(f[S]=R),f},{})}this._getAssetFileInfoPromise[R]&&delete this._getAssetFileInfoPromise[R],window.adobe_dc_sdk.cache&&window.adobe_dc_sdk.cache.assetURLPromise&&delete window.adobe_dc_sdk.cache.assetURLPromise,S.useDCAPI&&void 0!==S.lastPageNum&&(y.dcapi=this._dcapiSetLastPageNum(r,S)),S.cancelPromises&&(ae.forEach(r=>{r.cancel()}),ae=[])}getOwnScriptSrc(){return be.ip(ve.P4)}getAJSWorker(){}shouldWaitOnCompletePDFBuffer(r){return this._waitOnCompletePDFBufferMap[r].promise}setPrefetchMetaData(r,f){let{assetId:y}=r;this._assetRenditions[y]||(this._assetRenditions[y]={}),this._assetRenditions[y].prefetchMetaData=f}}const Ee={rendition:{load:function renditionLoad(){return Promise.resolve(RenditionAPI)}},"font-provider":{load:function loadFontProvider(r){return __webpack_require__.p=r,__webpack_require__.e(56).then(__webpack_require__.bind(__webpack_require__,"FDEO")).then(r=>r.default)}},acrobatjs:{load:function loadAJSProvider(r){return __webpack_require__.p=r,__webpack_require__.e(814).then(__webpack_require__.bind(__webpack_require__,"gTnC")).then(r=>r.default)}},ajspdfl:{load:function loadAJSPdflProvider(r){return __webpack_require__.p=r,__webpack_require__.e(814).then(__webpack_require__.bind(__webpack_require__,"46va")).then(r=>r.default)}},"ocr-provider":{load:function loadOCRProvider(r){return __webpack_require__.p=r,__webpack_require__.e(658).then(__webpack_require__.bind(__webpack_require__,"SnWh")).then(r=>r.default)}}};RenditionAPI.getInstance=(0,ie.Q)(RenditionAPI,!0),M.providers.rendition=RenditionAPI.getInstance})(),((window.adobe_dc_sdk=window.adobe_dc_sdk||{}).components=window.adobe_dc_sdk.components||{}).rendition=R})();
//# sourceMappingURL=private/rendition.js.map